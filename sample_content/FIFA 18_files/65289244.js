$RNWY.define("account",function(){(function(e,a){e.createClass("InvoicesSelector",{$selectAllCheckbox:a("form[name=invoicesForm] input[type=checkbox].js_select_all_invoices"),$invoiceCheckboxes:a("form[name=invoicesForm] input[type=checkbox].checkbox_invoice"),$totalAmountEl:a("form[name=invoicesForm] .js_total_amount_selected_invoices"),$selectedInvoiceCountEl:a("form[name=invoicesForm] .js_count_selected_invoices"),$payInvoicesButton:a("form[name=invoicesForm] .js_pay_invoice_button"),countAllInvoices:0,init:function(){this.bindEvents();
this.recalculateTotals();a("form[name=invoicesForm] .js_noscripthidden").show();this.countAllInvoices=a("form[name='invoicesForm'] input.checkbox_invoice").length;2>this.countAllInvoices&&this.$selectAllCheckbox.remove()},bindEvents:function(){this.$selectAllCheckbox.click(_.bind(function(d){d=a(d.currentTarget);this.$invoiceCheckboxes.prop("checked",d.is(":checked"));this.recalculateTotals()},this));this.$invoiceCheckboxes.on("change",_.bind(this.recalculateTotals,this))},recalculateTotals:function(){var d=
0,c=0;a("form[name='invoicesForm'] input.checkbox_invoice:checked").each(function(){var a=parseFloat,b;b=this.value;b=_.isString(b)?b.replace(".",""):b;b=_.isString(b)?b.replace(",","."):b;a=a(b);isNaN(a)||(d+=a,c+=1)});this.$totalAmountEl.text(d.toFixed(2).replace(".",","));1<c?(this.$selectedInvoiceCountEl.text(c+" facturen geselecteerd"),this.$payInvoicesButton.val("Deze "+c+" facturen betalen"),this.$payInvoicesButton.removeAttr("disabled")):1===c?(this.$selectedInvoiceCountEl.text(c+" factuur geselecteerd"),
this.$payInvoicesButton.val("Deze factuur betalen"),this.$payInvoicesButton.removeAttr("disabled")):(this.$selectedInvoiceCountEl.text("Geen facturen geselecteerd"),this.$payInvoicesButton.val("Selecteer factuur"),this.$payInvoicesButton.attr("disabled","disabled"));this.$selectAllCheckbox.parent().toggleClass("checkbox-input--multi",c<this.countAllInvoices);this.$selectAllCheckbox.prop("checked",0<c)}})})(WSP.core,jQuery);});
$RNWY.define("account-questions-answers",function(){Handlebars.templates = Handlebars.templates || {};Handlebars.templates["_account_page_qa.answer_with_profile"]={compiler:[7,">= 4.0.0"],main:function(d,b,c,f,e){var a;return'<form action="#" class="m-olg-qanda__answer-form is-closed" enctype="multipart/form-data" method="post" name="answer_form_'+d.escapeExpression((a=null!=(a=c.id||(null!=b?b.id:b))?a:c.helperMissing,"function"===typeof a?a.call(null!=b?b:{},{name:"id",hash:{},data:e}):a))+'">\n  <fieldset>\n\n    <div class="fluid-grid">\n      <div class="fluid-grid__item">\n        <textarea name="answerText" id="answer" class="text-input js_olg_qanda_open_answer" cols="30" rows="1" placeholder="Jouw antwoord..."></textarea>\n        <p class="qanda-input-error js_olg_qanda_answer_error"></p>\n      </div>\n\n      <div class="m-olg-qanda__form-inputs">\n        <div class="fluid-grid__item medium--one-half h-boxedbottom--s">\n          \n          <a href="#" class="icon icon--upload js_olg_qanda_open_upload">Foto of video toevoegen</a>\n        </div>\n\n        \n        <div class="h-boxedbottom--s js_show_upload" style="display:none">\n          \n          <div class="fluid-grid__item h-boxedbottom--s first_file_input">\n            <input type="file" name="photo" class="js_olg_qanda_upload_file">\n            <a href="#" class="icon icon--delete js_olg_qanda_remove_file" style="display:none"></a>\n          </div>\n          <div class="fluid-grid__item h-boxedbottom--s">\n            <p class="h-padding--0">\n              \n              <a href="#" class="icon icon--add js_olg_qanda_extra_photo">Nog een foto toevoegen</a>\n            </p>\n          </div>\n          \n\n          \n          <div class="fluid-grid__item h-boxedbottom--s">\n            <div class="input-group">\n              <span class="input-group__addon icon-youtube">&nbsp;</span>\n              <input type="text" name="videoUrl" class="text-input js_olg_qanda_youtube_link" placeholder="Kopieer en plak hier een YouTube link">\n            </div>\n            <p class="qanda-input-error js_olg_qanda_youtube_link_error">\n              Ongeldige Youtube link.\n            </p>\n          </div>\n          \n        </div>\n        \n\n        \n        <div class="m-olg-qanda__button-bar medium--one-half js_button_bar">\n          <div>\n            <div class="m-olg-qanda__submit c-btn-primary--medium">\n              <a href="#" class="js_olg_qanda_submit_answer">Versturen</a>\n            </div>\n            <a href="#" class="m-olg-qanda__cancel js_olg_qanda_cancel_answer">Annuleren</a>\n          </div>\n        </div>\n\n        <p class="m-olg-qanda__policy">\n          Door je bijdrage in te sturen ga je akkoord met de <a href="//answers.bol.com/answers/7628-nl_nl/content/termsandconditions.htm" target="_blank" onclick="window.open(this.href,null,\'left=50,top=50,width=500,height=500,toolbar=1,location=0,resizable=1,scrollbars=1\'); return false;" title="Voorwaarden">voorwaarden</a> en <a href="//www.bol.com/nl/m/voorwaarden/privacy-policy/index.html" target="_blank" class="js_static_link">privacy policy</a>\n        </p>\n\n      </div>\n    </div>\n  </fieldset>\n</form>\n'},
useData:!0};Handlebars.templates["_account_page_qa.spinner"]={compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div class="is-loading js_async-loader-answers">\n  <span class="css-loader"></span>\n</div>\n'},useData:!0};Handlebars.templates["account_page_qa.container"]={compiler:[7,">= 4.0.0"],main:function(b,a,e,f,c){var d;return'<h2 class="m-olg-qanda--title">Weet je het antwoord op deze vragen?</h2>\n<div class="m-olg-qanda__account-box js_olg_qanda_accountbox">\n'+(null!=(d=e["if"].call(null!=a?a:{},null!=a?a.productQuestions:a,{name:"if",hash:{},fn:b.program(1,c,0),inverse:b.program(4,c,0),data:c}))?d:"")+"</div>\n"},1:function(b,a,e,f,c){var d;return"    \n"+(null!=(d=e.each.call(null!=a?a:{},null!=a?a.productQuestions:
a,{name:"each",hash:{},fn:b.program(2,c,0),inverse:b.noop,data:c}))?d:"")},2:function(b,a,e,f,c){var d;return null!=(d=b.invokePartial(f["_account_page_qa.question_slot"],a,{name:"_account_page_qa.question_slot",data:c,indent:"      ",helpers:e,partials:f,decorators:b.decorators}))?d:""},4:function(b,a,e,f,c){return'    \n    <p class="h-text-center">Er zijn geen openstaande vragen op basis van uw bestelhistorie.</p>\n'},usePartial:!0,useData:!0};Handlebars.templates["_account_page_qa.success"]={compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return"\n<p>\n  <strong>Bedankt voor je antwoord!</strong><br>\n  Je bijdrage wordt nu door onze redactie bekeken en getoetst aan de richtlijnen.\n</p>\n\n"},useData:!0};Handlebars.templates["_account_page_qa.error"]={compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return"\n<p>\n  <strong>Er is een technische fout opgetreden bij het versturen van je antwoord.</strong><br>\n  Probeer het later nog eens.\n</p>\n\n"},useData:!0};Handlebars.templates["_account_page_qa.question_slot"]={compiler:[7,">= 4.0.0"],main:function(b,a,f,k,d,e,c){var g;return null!=(g=f["if"].call(null!=a?a:{},null!=a?a.questions:a,{name:"if",hash:{},fn:b.program(1,d,0,e,c),inverse:b.noop,data:d}))?g:""},1:function(b,a,f,k,d,e,c){var g;return null!=(g=f.each.call(null!=a?a:{},null!=a?a.questions:a,{name:"each",hash:{},fn:b.program(2,d,0,e,c),inverse:b.noop,data:d}))?g:""},2:function(b,a,f,k,d,e,c){var g,h;return'    <div class="m-olg-qanda__question" data-question-id="'+
b.escapeExpression((h=null!=(h=f.id||(null!=a?a.id:a))?h:f.helperMissing,"function"===typeof h?h.call(null!=a?a:{},{name:"id",hash:{},data:d}):h))+'" data-product-id="'+b.escapeExpression(b.lambda(null!=c[2]?c[2].id:c[2],a))+'">\n\n      <div class="m-olg-qanda__thumb">\n        <a href="'+b.escapeExpression(b.lambda(null!=c[2]?c[2].productUrl:c[2],a))+'" class="js_static_link">\n          <img src="'+b.escapeExpression(b.lambda(null!=c[2]?c[2].productImageUrl:c[2],a))+'" alt="'+b.escapeExpression(b.lambda(null!=
c[2]?c[2].productTitle:c[2],a))+'" class="js_static_link"/>\n        </a>\n        <p>'+b.escapeExpression(b.lambda(null!=c[2]?c[2].productTitle:c[2],a))+'</p>\n      </div>\n\n      <div class="m-olg-qanda__question-slot">\n        <div class="m-olg-qanda__user-info">\n          <p class="small_details">\n'+(null!=(g=f["if"].call(null!=a?a:{},null!=(g=null!=a?a.author:a)?g.nickName:g,{name:"if",hash:{},fn:b.program(3,d,0,e,c),inverse:b.program(5,d,0,e,c),data:d}))?g:"")+'          </p>\n        </div>\n\n        <div class="fluid-grid fluid-grid--m">\n          <p class="fluid-grid__item medium--three-quarters">\n            '+
b.escapeExpression((h=null!=(h=f.summary||(null!=a?a.summary:a))?h:f.helperMissing,"function"===typeof h?h.call(null!=a?a:{},{name:"summary",hash:{},data:d}):h))+"\n"+(null!=(g=f["if"].call(null!=a?a:{},null!=a?a.details:a,{name:"if",hash:{},fn:b.program(7,d,0,e,c),inverse:b.noop,data:d}))?g:"")+'          </p>\n          <p class="fluid-grid__item medium--one-quarter">\n            <a class="small_details js_olg_qanda_skip_question">Sla deze vraag over</a>\n          </p>\n        </div>\n\n        \n        <div class="m-olg-qanda__answer-box--inner-alt">\n'+
(null!=(g=f["if"].call(null!=a?a:{},null!=a?a.bvprofileAuthor:a,{name:"if",hash:{},fn:b.program(9,d,0,e,c),inverse:b.program(11,d,0,e,c),data:d}))?g:"")+"        </div>\n        \n      </div>\n\n    </div>\n"},3:function(b,a,f,k,d,e,c){var g;return"              Een vraag van "+b.escapeExpression(b.lambda(null!=(g=null!=a?a.author:a)?g.nickName:g,a))+' over <a href="'+b.escapeExpression(b.lambda(null!=c[2]?c[2].productUrl:c[2],a))+'"  class="js_static_link">'+b.escapeExpression(b.lambda(null!=c[2]?
c[2].productTitle:c[2],a))+"</a>\n"},5:function(b,a,f,k,d,e,c){return'              Een vraag over <a href="'+b.escapeExpression(b.lambda(null!=c[2]?c[2].productUrl:c[2],a))+'">'+b.escapeExpression(b.lambda(null!=c[2]?c[2].productTitle:c[2],a))+"</a>\n"},7:function(b,a,f,k,d){var e;return'              <br><span class="small_details">'+b.escapeExpression((e=null!=(e=f.details||(null!=a?a.details:a))?e:f.helperMissing,"function"===typeof e?e.call(null!=a?a:{},{name:"details",hash:{},data:d}):e))+"</span>\n"},
9:function(b,a,f,k,d){var e;return null!=(e=b.invokePartial(k["_account_page_qa.answer_with_profile"],a,{name:"_account_page_qa.answer_with_profile",data:d,indent:"            ",helpers:f,partials:k,decorators:b.decorators}))?e:""},11:function(b,a,f,k,d){var e;return null!=(e=b.invokePartial(k["_account_page_qa.answer_no_profile"],a,{name:"_account_page_qa.answer_no_profile",data:d,indent:"            ",helpers:f,partials:k,decorators:b.decorators}))?e:""},usePartial:!0,useData:!0,useDepths:!0};Handlebars.templates["account_page_qa.loader"]={compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div class="is-loading js_olg_qanda_get_questions_loader">\n  <span class="css-loader"></span>\n</div>\n<p class="js_olg_qanda_get_questions_text">\n  Vragen worden geladen.\n</p>\n'},useData:!0};Handlebars.templates["_account_page_qa.answer_no_profile"]={compiler:[7,">= 4.0.0"],main:function(d,b,c,f,e){var a;return'\n  <p>\n    <a href="'+d.escapeExpression((a=null!=(a=c.staticAnswerUrl||(null!=b?b.staticAnswerUrl:b))?a:c.helperMissing,"function"===typeof a?a.call(null!=b?b:{},{name:"staticAnswerUrl",hash:{},data:e}):a))+'" class="js_static_answer_link js_static_link">Beantwoord</a> deze vraag.\n  </p>\n\n'},useData:!0};(function(k,e,h,g,c){var m=null,l=null,f=e.namespace("com.bol.template").Template;f.partial("_account_page_qa.question_slot");f.partial("_account_page_qa.error");f.partial("_account_page_qa.answer_no_profile");f.partial("_account_page_qa.answer_with_profile");f.partial("_account_page_qa.success");f.partial("_account_page_qa.spinner");e.QuestionsAnswers.AccountPageView=e.Class.create({init:function(a){h.defineAttributes(this,[["questionsAnswersContainerSelector","#olg_bazaarvoice_questions_container",
a.questionsAnswersContainerSelector]])&&(this.questionsAnswersContainerElement=c(this.questionsAnswersContainerSelector),this.containerRendered=!1,this.auth=new e.Authenticate,this.offset=0,this.getAuthenticationStatus(),this.bindEvents())},bindEvents:function(){e.mediator.subscribe(g.QuestionsAnswers.getQuestionsByOrderHistoryNoData,c.proxy(this.getQuestionsAnswersNoData,this));e.mediator.subscribe(g.QuestionsAnswers.getQuestionsByOrderHistoryError,c.proxy(function(a){this.getQuestionsAnswersError(a)},
this));e.mediator.subscribe(g.QuestionsAnswers.submitAnswerResponse,c.proxy(function(a){this.submitAnswerResponse(a)},this));c(this.questionsAnswersContainerSelector).on("click",c.proxy(this.handleContainerClick,this))},handleContainerClick:function(a){var b=c(a.target);if("file"==b.attr("type"))return this.handleFileInputUpload(b),!0;if(b.hasClass("js_static_link"))return!0;a.preventDefault();b.hasClass("js_olg_qanda_skip_question")&&this.closeQuestion(b);b.hasClass("js_olg_qanda_open_answer")&&
this.openAnswerBox(b);b.hasClass("js_olg_qanda_open_upload")&&this.openUploadBox(b);b.hasClass("js_olg_qanda_extra_photo")&&this.addExtraFileUpload(b);b.hasClass("js_olg_qanda_remove_file")&&this.removeFileAttachment(b);b.hasClass("js_olg_qanda_submit_answer")&&this.submitAnswer(b);b.hasClass("js_olg_qanda_cancel_answer")&&this.cancelAnswer(b)},getAuthenticationStatus:function(){var a=!1;h.isPresent(k.data.user.get("authenticationStatus"))||(a=!0);a&&(e.mediator.subscribe(g.Authenticate.getAuthenticationStatusDone,
c.proxy(function(a){k.data.user.set("authenticationStatus",a);this.getQuestions(this.offset,20)},this)),e.mediator.publish(g.Authenticate.getAuthenticationStatus))},closeQuestion:function(a){a.closest(".m-olg-qanda__question").animate({height:"0"},500,c.proxy(function(){a.closest(".m-olg-qanda__question").remove();this.updateTitle();0===this.questionsAnswersContainerElement.find(".m-olg-qanda__question").length?this.questionsAnswersContainerElement.find(".js_olg_qanda_accountbox").html('<p class="acenter">Er zijn geen openstaande vragen meer op basis van je bestelhistorie.</p>'):
this.renderHtml()},this))},getAuthorHtml:function(a){var b="";h.isPresent(a.nickName)&&(b+=a.nickName);h.isPresent(a.age)&&(b+=" | "+a.age);h.isPresent(a.location)&&(b+=" | "+a.location);return b},getQuestions:function(a,b){this.renderLoader();a=a||0;b=b||1;"undefined"!==typeof g.QuestionsAnswers&&(e.mediator.subscribe(g.QuestionsAnswers.getQuestionsByOrderHistorySuccess,c.proxy(function(a){this.questionsAnswersJson=this.enrichQuestionsAndAnswersWithProductDetails(a);this.questionsAnswersJsonProductQuestions=
this.questionsAnswersJson.productQuestions;this.removeAnsweredQuestions();0<this.questionsAnswersJsonProductQuestions.length&&(this.questionsAnswersContainerElement.closest(".questions_and_answers").toggle(!0),this.renderQuestionsAnswers());e.mediator.unsubscribe(g.QuestionsAnswers.getQuestionsByOrderHistorySuccess)},this)),e.mediator.publish(g.QuestionsAnswers.getQuestionsByOrderHistory,{offset:a,limit:b}))},enrichQuestionsAndAnswersWithProductDetails:function(a){if("undefined"!==typeof a.productQuestionsAndAnswers&&
"undefined"!==typeof a.productQuestionsAndAnswers.productQuestions)for(var b=a.productQuestionsAndAnswers.productQuestions,d=0;d<b.length;d++){var c=a.productDetails[b[d].id];"undefined"!==typeof c&&(b[d].productUrl=c.productUrl,b[d].productTitle=c.productTitle,b[d].productImageUrl=c.productImageUrl)}return a.productQuestionsAndAnswers},removeAnsweredQuestions:function(){this.questionsAnswersJsonProductQuestions=_.filter(this.questionsAnswersJsonProductQuestions,function(a){var b=a.questions[0].totalAnswerCount;
if(void 0===b||3>b)return a})},getOffset:function(){return c(this.questionsAnswersContainerSelector+" .m-olg-qanda__question").length},toggleAnswers:function(a){var b=a.closest(".m-olg-qanda__question");a=b.parent().find(".m-olg-qanda__answer-box");var d=b.find(".m-olg-qanda__answer-box"),c=b.parent().find(".m-olg-qanda__question--details"),b=b.find(".m-olg-qanda__question--details");d.is(":visible")?(a.toggle(!1),d.toggle(!1),c.toggle(!1),b.toggle(!1)):(a.toggle(!1),d.toggle(),c.toggle(!1),b.toggle())},
openAnswerBox:function(a){c(".m-olg-qanda__answer-form").removeClass("is-opened").addClass("is-closed");c(".m-olg-qanda__account-input").removeClass(".m-olg-qanda__account-input");a.closest(".m-olg-qanda__answer-form").removeClass("is-closed").addClass("is-opened");a.addClass(".m-olg-qanda__account-input")},openUploadBox:function(a){a.closest(".m-olg-qanda__form-inputs").find(".js_show_upload").toggle();a.closest(".m-olg-qanda__form-inputs").find(".js_button_bar").removeClass("medium--one-half").addClass("medium-one-whole")},
handleFileInputUpload:function(a){a.change(function(){a.next().toggle(!0)})},addExtraFileUpload:function(a){a.parent().parent().before('<div class="fluid-grid__item one-whole h-boxedbottom--s"><input type="file" name="photo" class="js_olg_qanda_upload_file"><a href="#" class="icon icon--delete js_olg_qanda_remove_file"></a></div>')},removeFileAttachment:function(a){a.parent().hasClass("first_file_input")?(a.parent().find(".js_olg_qanda_upload_file").val(""),a.toggle(!1)):a.parent().remove()},submitAnswer:function(a){if(this.validateAnswer(a)&&
(a.addClass("btn--disabled"),"undefined"!==typeof FormData)){var b=c(a).parents("[data-question-id]").data("question-id"),d=new FormData(document.querySelector("form.m-olg-qanda__answer-form.is-opened"));d.append("questionId",b);d.append("authorId",k.data.user.get("authenticationStatus").BazaarVoice.author.id);b=f.template("_account_page_qa.spinner")({});a.closest(".m-olg-qanda__answer-box--inner-alt").prepend(b);e.mediator.publish(g.QuestionsAnswers.submitAnswer,d)}},cancelAnswer:function(a){var b=
{bvprofileAuthor:this.getAuthorHtml(k.data.user.get("authenticationStatus").BazaarVoice.author)},b=f.template("_account_page_qa.answer_with_profile")(b);a.closest(".m-olg-qanda__answer-box--inner-alt").html(b)},validateAnswer:function(a){return this.isYoutubeLinkValid(a)&&this.isAnswerValid(a)},isYoutubeLinkValid:function(a){a=a.closest(".m-olg-qanda__answer-form");var b=a.find(".js_olg_qanda_youtube_link").val();if(""!==b){if(null!==b.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/))return a.find(".js_olg_qanda_youtube_link_error").toggle(!1),
!0;a.find(".js_olg_qanda_youtube_link_error").toggle(!0);return!1}a.find(".js_olg_qanda_youtube_link_error").toggle(!1);return!0},isAnswerValid:function(a){a=a.closest(".m-olg-qanda__answer-form");if(""!==a.find(".js_olg_qanda_open_answer").val())return a.find(".js_olg_qanda_answer_error").toggle(!1),!0;a.find(".js_olg_qanda_answer_error").html("Je moet een antwoord opgeven.").toggle(!0);return!1},renderLoader:function(){var a=f.template("account_page_qa.loader")({});this.doClearContentContainer().html(a)},
getQuestionsAnswersError:function(a){this.questionsAnswersContainerElement.find(".js_olg_qanda_get_questions_loader").toggle(!1);this.questionsAnswersContainerElement.find(".js_olg_qanda_get_questions_text").html("Op dit moment kunnen er geen vragen worden geladen.")},getQuestionsAnswersNoData:function(){0===this.questionsAnswersContainerElement.find(".m-olg-qanda__question").length&&(this.questionsAnswersContainerElement.find(".js_olg_qanda_get_questions_loader, .js_olg_qanda_get_questions_text").toggle(!1),
this.questionsAnswersContainerElement.find(".js_content_container, .js_olg_qanda_accountbox").html("<p>Er zijn geen openstaande vragen op basis van uw bestelhistorie.</p>"))},submitAnswerResponse:function(a){if(h.isPresent(a))if(!1===a.hasErrors){var b=f.template("_account_page_qa.success")({}),d=this.questionsAnswersContainerElement.find("[data-question-id='"+a.id+"']");d.find(".m-olg-qanda__question-slot").remove();d.find(".js_olg_qanda_skip_question").parent().remove();d.find(".m-olg-qanda__thumb").after(b);
setTimeout(c.proxy(function(){this.closeQuestion(d)},this),5E3)}else this.submitAnswerError(a);else this.submitAnswerError()},submitAnswerError:function(a){"undefined"!==typeof a&&this.questionsAnswersContainerElement.find("[data-question-id='"+a.id+"']").find(".m-olg-qanda__answer-box--inner-alt").find(".js_async-loader-answers").remove();this.questionsAnswersContainerElement.find(".js_olg_qanda_submit_answer").removeClass("btn--disabled");a=f.template("_account_page_qa.error")({});this.questionsAnswersContainerElement.find(".js_olg_qanda_submit_answer.btn--disabled").closest(".m-olg-qanda__question").find(".m-olg-qanda__answer-box--inner-alt").html(a)},
renderQuestionsAnswers:function(){if("undefined"!==typeof this.questionsAnswersJson){var a=this.questionsAnswersJson.productQuestions,b=k.data.user.get("authenticationStatus");if("undefined"!==typeof b.BazaarVoice&&h.isPresent(b.BazaarVoice.author))for(var b=this.getAuthorHtml(b.BazaarVoice.author),c=0;c<a.length;c++)a[c].questions[0].bvprofileAuthor=b;this.renderHtml();this.questionsAnswersContainerElement.find(".js_static_answer_link").off("click")}},renderHtml:function(){if(this.containerRendered){this.questionsAnswersJson.productQuestions=
[];this.questionsAnswersJson.productQuestions.push(this.questionsAnswersJsonProductQuestions.shift());if(void 0!=this.questionsAnswersJson.productQuestions[0]){var a=f.template("_account_page_qa.question_slot")(this.questionsAnswersJson.ProductQuestions[0]);this.questionsAnswersContainerElement.find(".js_olg_qanda_accountbox").append(a)}this.updateTitle()}else{this.questionsAnswersJson.productQuestions=[];for(a=0;3>a;a++)if(this.questionsAnswersJson.productQuestions.push(this.questionsAnswersJsonProductQuestions.shift()),
void 0==this.questionsAnswersJson.productQuestions[a]){this.questionsAnswersJson.productQuestions.pop();break}a=f.template("account_page_qa.container")(this.questionsAnswersJson);this.questionsAnswersContainerElement.html(a);this.updateTitle();this.containerRendered=!0}},getCanonicalUrl:function(){null===m&&(m=c("link[rel='canonical']").attr("href").replace(/^http:/,"https:"));return m},isStaging:function(){null===l&&(l=!0,"www.bol.com"==window.location.hostname&&(l=!1));return l},updateTitle:function(){1==
this.questionsAnswersContainerElement.find(".m-olg-qanda__question").length?this.questionsAnswersContainerElement.find(".m-olg-qanda--title").html("Weet je het antwoord op deze vraag?"):this.questionsAnswersContainerElement.find(".m-olg-qanda--title").html("Weet je het antwoord op deze vragen?")},doClearContentContainer:function(){return this.questionsAnswersContainerElement.find(".js_content_container").empty()}})})(WSP,WSP.core,WSP.utils,WSP.events,jQuery);});
$RNWY.define("product-image",function(){Handlebars.templates = Handlebars.templates || {};Handlebars.templates.fullscreen_zoom={compiler:[7,">= 4.0.0"],main:function(d,a,c,g,e){var b,f;return'<div class="fullscreen-zoom" data-test="fullscreen-zoom">\n  <div class="fullscreen-zoom--close-button js_close_button" data-test="close">&times;</div>\n\n  <a class="modal__header modal-header js_close_button" data-test="modal-header-back">\n    <span data-test="modal-header-chevron" class="sb sb-chevron-back sb-resize--lg"></span>\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.headerImgUrl:a,
{name:"if",hash:{},fn:d.program(1,e,0),inverse:d.noop,data:e}))?b:"")+'    <span data-test="modal-header-title" class="modal-header__title">'+d.escapeExpression((f=null!=(f=c.headerTitle||(null!=a?a.headerTitle:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"headerTitle",hash:{},data:e}):f))+'</span>\n  </a>\n\n  <div class="fullscreen-zoom--thumbs-list js_thumbs_list" data-test="thumbs-list"></div>\n  <div class="fullscreen-zoom--content js_zoomed_image_container'+(null!=(b=
c["if"].call(null!=a?a:{},null!=a?a.isMultipleImages:a,{name:"if",hash:{},fn:d.program(3,e,0),inverse:d.noop,data:e}))?b:"")+'" data-test="container"></div>\n</div>\n'},1:function(d,a,c,g,e){var b;return'      <img data-test="modal-header-image" class="modal-header__image" src="'+d.escapeExpression((b=null!=(b=c.headerImgUrl||(null!=a?a.headerImgUrl:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"headerImgUrl",hash:{},data:e}):b))+'" alt="'+d.escapeExpression((b=null!=(b=c.headerTitle||
(null!=a?a.headerTitle:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"headerTitle",hash:{},data:e}):b))+'">\n'},3:function(d,a,c,g,e){return" fullscreen-zoom--content--with-list"},useData:!0};Handlebars.templates["fullscreen_zoom.pansiblings"]={compiler:[7,">= 4.0.0"],main:function(c,a,e,f,d){var b;return(null!=(b=e["if"].call(null!=a?a:{},null!=a?a.next:a,{name:"if",hash:{},fn:c.program(1,d,0),inverse:c.noop,data:d}))?b:"")+"\n"+(null!=(b=e["if"].call(null!=a?a:{},null!=a?a.prev:a,{name:"if",hash:{},fn:c.program(3,d,0),inverse:c.noop,data:d}))?b:"")},1:function(c,a,e,f,d){var b;return'  <div class="fullscreen-zoom__pan fullscreen-zoom__pan--next js_fullscreen_zoom_pan_item" style="background-image: url(\''+
c.escapeExpression(c.lambda(null!=(b=null!=a?a.next:a)?b.xl:b,a))+"');\"></div>\n"},3:function(c,a,e,f,d){var b;return'  <div class="fullscreen-zoom__pan fullscreen-zoom__pan--prev js_fullscreen_zoom_pan_item" style="background-image: url(\''+c.escapeExpression(c.lambda(null!=(b=null!=a?a.prev:a)?b.xl:b,a))+"');\"></div>\n"},useData:!0};Handlebars.templates["fullscreen_zoom.thumbs_list"]={compiler:[7,">= 4.0.0"],main:function(c,a,d,g,b){var e;return'<div class="nav nav--prev js_nav_prev"'+(null!=(e=d.unless.call(null!=a?a:{},null!=a?a.isNavigationNeeded:a,{name:"unless",hash:{},fn:c.program(1,b,0),inverse:c.noop,data:b}))?e:"")+'><span class="chevron '+(null!=(e=d["if"].call(null!=a?a:{},null!=a?a.isNavigationHorizontal:a,{name:"if",hash:{},fn:c.program(3,b,0),inverse:c.program(5,b,0),data:b}))?e:"")+(null!=(e=d["if"].call(null!=
a?a:{},null!=a?a.previousDisabled:a,{name:"if",hash:{},fn:c.program(7,b,0),inverse:c.noop,data:b}))?e:"")+'" data-test="chervron-up"></span></div>\n<div class="list js_list">\n  <ul class="js_thumbs_list_ul" data-test="content">\n    '+(null!=(e=d.each.call(null!=a?a:{},null!=a?a.thumbs:a,{name:"each",hash:{},fn:c.program(9,b,0),inverse:c.noop,data:b}))?e:"")+'\n  </ul>\n</div>\n<div class="nav nav--next js_nav_next"'+(null!=(e=d.unless.call(null!=a?a:{},null!=a?a.isNavigationNeeded:a,{name:"unless",
hash:{},fn:c.program(1,b,0),inverse:c.noop,data:b}))?e:"")+'><span class="chevron '+(null!=(e=d["if"].call(null!=a?a:{},null!=a?a.isNavigationHorizontal:a,{name:"if",hash:{},fn:c.program(12,b,0),inverse:c.program(14,b,0),data:b}))?e:"")+(null!=(e=d["if"].call(null!=a?a:{},null!=a?a.nextDisabled:a,{name:"if",hash:{},fn:c.program(7,b,0),inverse:c.noop,data:b}))?e:"")+'" data-test="chevron-down"></span></div>\n'},1:function(c,a,d,g,b){return' style="display: none"'},3:function(c,a,d,g,b){return"chevron--left"},
5:function(c,a,d,g,b){return"chevron--up"},7:function(c,a,d,g,b){return" chevron--disabled"},9:function(c,a,d,g,b){var e,f;return'<li class="nav nav--thumb js_thumb'+(null!=(e=d["if"].call(null!=a?a:{},null!=a?a.isActive:a,{name:"if",hash:{},fn:c.program(10,b,0),inverse:c.noop,data:b}))?e:"")+'" data-index="'+c.escapeExpression((f=null!=(f=d.index||(null!=a?a.index:a))?f:d.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"index",hash:{},data:b}):f))+'" data-test="item"><img src="'+c.escapeExpression((f=
null!=(f=d.url||(null!=a?a.url:a))?f:d.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"url",hash:{},data:b}):f))+'" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img" data-test="image"></li>'},10:function(c,a,d,g,b){return" is-active"},12:function(c,a,d,g,b){return"chevron--right"},14:function(c,a,d,g,b){return"chevron--down"},useData:!0};Handlebars.templates["fullscreen_zoom.zoom_image"]={compiler:[7,">= 4.0.0"],main:function(c,a,e,g,d){var b;return'<div class="fullscreen-zoom--zoom-image js_fullscreen_zoom_pan_item '+(null!=(b=e["if"].call(null!=a?a:{},null!=a?a.showZoom:a,{name:"if",hash:{},fn:c.program(1,d,0),inverse:c.noop,data:d}))?b:"")+'"'+(null!=(b=e["if"].call(null!=a?a:{},null!=a?a.imageDimensionsKnown:a,{name:"if",hash:{},fn:c.program(3,d,0),inverse:c.noop,data:d}))?b:"")+' data-test="fullscreen-zoom-zoomed">\n'+(null!=
(b=e["if"].call(null!=a?a:{},null!=a?a.customDimensions:a,{name:"if",hash:{},fn:c.program(5,d,0),inverse:c.program(7,d,0),data:d}))?b:"")+"</div>\n"},1:function(c,a,e,g,d){return" with-zoom-allowed"},3:function(c,a,e,g,d){var b;return' style="background-image: url('+c.escapeExpression((b=null!=(b=e.zoomImageUrl||(null!=a?a.zoomImageUrl:a))?b:e.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"zoomImageUrl",hash:{},data:d}):b))+');"'},5:function(c,a,e,g,d){var b,f;return'    <img class="zoomed-image js_zoomed_image" unselectable="on" draggable="false" src="'+
c.escapeExpression((f=null!=(f=e.zoomImageUrl||(null!=a?a.zoomImageUrl:a))?f:e.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"zoomImageUrl",hash:{},data:d}):f))+'" border="0" style="display: none;width:'+c.escapeExpression(c.lambda(null!=(b=null!=a?a.imgDimensions:a)?b.width:b,a))+"px;height:"+c.escapeExpression(c.lambda(null!=(b=null!=a?a.imgDimensions:a)?b.height:b,a))+'px;" data-test="image" />\n'},7:function(c,a,e,g,d){var b;return'    <img class="zoomed-image js_zoomed_image" unselectable="on" draggable="false" src="'+
c.escapeExpression((b=null!=(b=e.zoomImageUrl||(null!=a?a.zoomImageUrl:a))?b:e.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"zoomImageUrl",hash:{},data:d}):b))+'" border="0" style="display: none;" data-test="image" />\n'},useData:!0};Handlebars.templates["modal-header"]={compiler:[7,">= 4.0.0"],main:function(d,a,c,g,e){var b,f;return'<a class="modal__header modal-header js_close_modal_window" data-test="modal-header-back">\n  <span data-test="modal-header-chevron" class="sb sb-chevron-back"></span>\n  '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.image:a,{name:"if",hash:{},fn:d.program(1,e,0),inverse:d.noop,data:e}))?b:"")+'\n  <span data-test="modal-header-title" class="modal-header__title">'+d.escapeExpression((f=null!=(f=
c.title||(null!=a?a.title:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"title",hash:{},data:e}):f))+"</span>\n</a>"},1:function(d,a,c,g,e){var b;return'<img data-test="modal-header-image" class="modal-header__image" src="'+d.escapeExpression((b=null!=(b=c.image||(null!=a?a.image:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"image",hash:{},data:e}):b))+'" alt="'+d.escapeExpression((b=null!=(b=c.title||(null!=a?a.title:a))?b:c.helperMissing,"function"===
typeof b?b.call(null!=a?a:{},{name:"title",hash:{},data:e}):b))+'">'},useData:!0};Handlebars.templates.video_dialog={compiler:[7,">= 4.0.0"],main:function(e,b,c,g,d){var f,a;return(null!=(f=(a=null!=(a=c.header||(null!=b?b.header:b))?a:c.helperMissing,"function"===typeof a?a.call(null!=b?b:{},{name:"header",hash:{},data:d}):a))?f:"")+'\n\n<div class="video_dialog-container js-video_dialog-container '+e.escapeExpression((a=null!=(a=c.containerClasses||(null!=b?b.containerClasses:b))?a:c.helperMissing,"function"===typeof a?a.call(null!=b?b:{},{name:"containerClasses",hash:{},data:d}):
a))+'">\n  <div class="video_dialog-loading js-video_dialog-loading">Bezig met laden video...</div>\n  <div class="video_dialog-player js-video_dialog-player" id="'+e.escapeExpression((a=null!=(a=c.containerId||(null!=b?b.containerId:b))?a:c.helperMissing,"function"===typeof a?a.call(null!=b?b:{},{name:"containerId",hash:{},data:d}):a))+'"></div>\n</div>\n<div class="video_dialog-paging-wrapper js-video_dialog-paging-wrapper"></div>'},useData:!0};Handlebars.templates["video_dialog-paging"]={compiler:[7,">= 4.0.0"],main:function(c,a,d,g,e){var f,b;return'<div class="video_dialog-paging js-video_dialog-paging">\n  <div class="video_dialog-paging-prev js-video_dialog-paging-prev'+(null!=(f=d["if"].call(null!=a?a:{},null!=a?a.isFirst:a,{name:"if",hash:{},fn:c.program(1,e,0),inverse:c.noop,data:e}))?f:"")+'"></div>\n  <div class="video_dialog-paging-text">Video '+c.escapeExpression((b=null!=(b=d.current||(null!=a?a.current:a))?b:d.helperMissing,
"function"===typeof b?b.call(null!=a?a:{},{name:"current",hash:{},data:e}):b))+" van "+c.escapeExpression((b=null!=(b=d.total||(null!=a?a.total:a))?b:d.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"total",hash:{},data:e}):b))+'</div>\n  <div class="video_dialog-paging-next js-video_dialog-paging-next'+(null!=(f=d["if"].call(null!=a?a:{},null!=a?a.isLast:a,{name:"if",hash:{},fn:c.program(1,e,0),inverse:c.noop,data:e}))?f:"")+'"></div>\n</div>'},1:function(c,a,d,g,e){return" is-disabled"},
useData:!0};Handlebars.templates["modal-content.reader_preview_footer"]={compiler:[7,">= 4.0.0"],main:function(c,a,e,g,d){var b;return'<div class="fluid-grid fluid-grid--middle js_reader_footer reader-dialog__footer" data-test="reader-dialog-footer">\n'+(null!=(b=e["if"].call(null!=a?a:{},null!=a?a.isOrderable:a,{name:"if",hash:{},fn:c.program(1,d,0),inverse:c.noop,data:d}))?b:"")+"</div>"},1:function(c,a,e,g,d){var b,f;return'    <div class="fluid-grid__item one-half">\n        <div class="product-prices" data-test="reader-dialog-prices">\n          '+
(null!=(b=e["if"].call(null!=a?a:{},null!=a?a.listPrice:a,{name:"if",hash:{},fn:c.program(2,d,0),inverse:c.noop,data:d}))?b:"")+'\n          <span class="product-prices__currency product-prices__bol-price" data-test="reader-dialog-price">'+c.escapeExpression((f=null!=(f=e.price||(null!=a?a.price:a))?f:e.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"price",hash:{},data:d}):f))+"</span>\n        </div>\n\n        "+(null!=(b=e["if"].call(null!=a?a:{},null!=a?a.availableNow:a,{name:"if",
hash:{},fn:c.program(4,d,0),inverse:c.noop,data:d}))?b:"")+'\n    </div>\n    <div class="fluid-grid__item one-half">\n      <div class="c-btn-buy--large sb-button sb-plus js_reader_preview_btn_buy sb-cart--r medium--is-hidden" data-test="reader-dialog-buy-button" style="float:right;">\n        <a class="h-boxedright--xs" href="/nl/inwinkelwagentje.html?quantity=1">In winkelwagen</a>\n      </div>\n      <div class="c-btn-buy--large sb-button sb-plus js_reader_preview_btn_buy medium--is-visible" data-test="reader-dialog-buy-button" style="float:right;">\n        <a class="h-boxedright--xs" href="/nl/inwinkelwagentje.html?quantity=1">In winkelwagen</a>\n      </div>\n    </div>\n'},
2:function(c,a,e,g,d){var b;return'<del class="product-prices__currency product-prices__list-price" data-test="reader-dialog-list-price">'+c.escapeExpression((b=null!=(b=e.listPrice||(null!=a?a.listPrice:a))?b:e.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"listPrice",hash:{},data:d}):b))+"</del>"},4:function(c,a,e,g,d){return'<div class="product-delivery h-bottom--0" data-test="reader-dialog-delivery">Direct beschikbaar</div>'},useData:!0};Handlebars.templates["modal-content.reader_preview_header"]={compiler:[7,">= 4.0.0"],main:function(d,a,c,g,e){var b,f;return'<div class="fluid-grid h-left--m h-right--m js_reader_header reader-dialog__header" data-test="reader-dialog-header">\n  <div class="fluid-grid__item one-whole">\n    <div class="product-title">'+d.escapeExpression((f=null!=(f=c.title||(null!=a?a.title:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"title",hash:{},data:e}):f))+(null!=(b=c["if"].call(null!=
a?a:{},null!=a?a.author:a,{name:"if",hash:{},fn:d.program(1,e,0),inverse:d.noop,data:e}))?b:"")+'</div>\n\n    <ul class="product-small-specs h-boxedbottom--0 h-bottom--0">\n      '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.language:a,{name:"if",hash:{},fn:d.program(3,e,0),inverse:d.noop,data:e}))?b:"")+"\n      "+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.productType:a,{name:"if",hash:{},fn:d.program(5,e,0),inverse:d.noop,data:e}))?b:"")+"\n    </ul>\n  </div>\n</div>"},1:function(d,a,c,g,
e){var b;return'<span class="h-bol-subtext-color"> - '+d.escapeExpression((b=null!=(b=c.author||(null!=a?a.author:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"author",hash:{},data:e}):b))+"</span>"},3:function(d,a,c,g,e){var b;return"<li>"+d.escapeExpression((b=null!=(b=c.language||(null!=a?a.language:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"language",hash:{},data:e}):b))+"</li>"},5:function(d,a,c,g,e){var b;return"<li>"+d.escapeExpression((b=
null!=(b=c.productType||(null!=a?a.productType:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"productType",hash:{},data:e}):b))+"</li>"},useData:!0};(function(f,d,q){function n(){"function"!==typeof window.messageReceived&&(window.messageReceived=function(b){b&&b.data&&("closeReaderPreview"===b.data?WSP.core.mediator.publish("wsp:modalwindow_hide"):"purchase"===b.data&&d(".js_floating_basket_btn").first().click())},window.addEventListener("message",window.messageReceived,!1))}function p(b){var a,e,c,k,l,g,m,h;b.preventDefault();a=d(b.currentTarget);e=g=a.data("is-orderable");h=a.data("reader-type")||"epub";k=e&&"epub"===h;productType=a.data("product-type");
l=a.data("has-discount");c="reader_dialog";(m=!WSP.utils.deviceProfile.matchBreakpoint("medium"))&&(c+=" js_full_modal_window");g&&(c+=" reader_dialog--has-footer");c=d("<div />",{"class":c});m?d(f.core.namespace("com.bol.template").Template.template("modal-header")({title:a.attr("title"),image:a.data("image")})).appendTo(c):d(f.core.namespace("com.bol.template").Template.template("modal-content.reader_preview_header")({title:a.attr("title"),author:a.data("author"),language:a.data("language"),productType:productType})).appendTo(c);
$readerPreviewBody=d("<iframe />",{src:b.currentTarget.href,seamless:"seamless",scrolling:"no","class":"reader_dialog-frame"}).appendTo(c);g&&(b=a.data("price"),a=l?a.data("list-price"):void 0,$readerPreviewFooter=d(f.core.namespace("com.bol.template").Template.template("modal-content.reader_preview_footer")({price:b,listPrice:a,isOrderable:e,availableNow:k})).appendTo(c));"function"===typeof window.px&&window.px("inkijkexemplaar."+h+".open");WSP.core.mediator.publish(WSP.events.ModalWindowResponsive.setContent,
c,{className:"modal__window--reader_dialog"});if(g)if(e=d(".js_reader_preview_btn_buy"),"undefined"!==typeof postMessage)e.on("click",function(a){a.preventDefault();d('a[data-buy-block-type="BuyBlock"]').attr("data-buy-block-type","preview"+h);postMessage("closeReaderPreview","*");postMessage("purchase","*")});else e.hide()}f.ReaderPreview=d.extend(f.ReaderPreview,{initialize:function(b){d(b||".js-product-image-cta--preview-reader").off("click.readerPreview").one("click",n).on("click.readerPreview",
p)}})})(WSP,window.jQuery,window.Handlebars);(function(e,c){var f={};e.TrailerUniverse=c.extend(e.TrailerUniverse,{ERROR_NO_TRAILERS:"NO_TRAILERS_FOUND",getTrailers:function(b){var d=c.Deferred();f[b]?d.resolve(f[b]):c.ajax({url:"https://bolcom.tu-vms.com/json/search/",cache:!1,dataType:"jsonp",jsonpCallback:"getTrailers",data:{context:"all",query:"ean_multistring:"+b+" AND ((publication:129^200) OR (publication:[0 TO *]^10)) AND status:published AND mediatype:video"},error:function(a,b,c){d.reject(e.TrailerUniverse.ERROR_NO_TRAILERS,b,c)},
success:function(a){a&&0!==a.numfound&&Array.isArray(a.items)?(a=a.items.map(function(a){return a.id}),f[b]=a,d.resolve(a)):d.reject(e.TrailerUniverse.ERROR_NO_TRAILERS)}});return d}})})(WSP,window.jQuery);(function(a,b){a.TrailerUniverse=b.extend(a.TrailerUniverse,{ERROR_FAILED_LOADING_PLAYER:"TrailerUniverseFailedErrorTrailer",getPlayerId:function(a){return"bb-ac-bol_playout_legacy_product_page-"+a},embedPlayer:function(c){var d=b.Deferred();b.ajax({context:a.TrailerUniverse,dataType:"script",url:"https://bolcom.tu-vms.com/p/bol_playout_legacy_product_page/c/"+c+".js",error:function(a,b,c){d.reject(WSP.TrailerUniverse.ERROR_FAILED_LOADING_PLAYER,b,c)},success:function(a){try{eval(a)}catch(b){window.console&&
window.console.error&&window.console.error(b)}d.resolve(a)}});return d}})})(WSP,window.jQuery);(function(e,g){function m(a){WSP.core.mediator.unsubscribe(WSP.events.ModalWindowResponsive.afterSetContent);h(a,0)}function h(a,b){b=b?Math.max(0,b%a.length):0;1<a.length&&n(a,b);var c=a[b],f=e.TrailerUniverse.getPlayerId(c);g(".js-video_dialog-container").find(".js-video_dialog-player").empty().attr("id",f);l(!0);WSP.TrailerUniverse.embedPlayer(c).then(function(){g("#"+f).removeAttr("style");l(!1)})}function n(a,b){if(1>=a.length)throw Error("Cannot render pagination, need 2 or more videos for that.");
var c,f,d={current:b+1,total:a.length,isFirst:0===b,isLast:b===a.length-1};k||(k=e.core.namespace("com.bol.template").Template.template("video_dialog-paging"));f=g(".js-video_dialog-paging-wrapper").empty();f.html(k(d));d.isFirst||(c=f.find(".js-video_dialog-paging-prev"),c.one("click",h.bind(this,a,b-1)));d.isLast||(c=f.find(".js-video_dialog-paging-next"),c.one("click",h.bind(this,a,b+1)))}function l(a){g(".js-video_dialog-loading").toggleClass("is-hidden",!a)}var k;e.TrailerUniverse=g.extend(e.TrailerUniverse,
{openVideoDialog:function(a,b,c){e.TrailerUniverse.getTrailers(a).then(function(a){var d="",e=Handlebars.template(Handlebars.templates["modal-header"])({title:b,image:c});WSP.utils.deviceProfile.matchBreakpoint("medium")||(d+=" js_full_modal_window");d=Handlebars.template(Handlebars.templates.video_dialog)({containerClasses:d,header:e});WSP.core.mediator.subscribe(WSP.events.ModalWindowResponsive.afterSetContent,m.bind(this,a));WSP.core.mediator.publish(WSP.events.ModalWindowResponsive.setContent,
d,{className:"modal__window--video_dialog"})})}})})(WSP,window.jQuery);(function(){window.RNWYComponents||(window.RNWYComponents={});window.RNWYComponents["pdp_image:image:v1:image"]={schema:{"?measureLoad":!1,activeImage:"&image@shared_type",hasMultipleImages:!0,hasNext:!0,hasPrevious:!1,totalImages:10},template:{1:function(c,a,e,f,d){return" product-image--single"},3:function(c,a,e,f,d){var b;return'<div class="sb sb-chevron-back sb-resize--lg product-image__paging product-image__prev js_prev'+(null!=(b=e.unless.call(null!=a?a:c.nullContext||{},null!=a?a.hasPrevious:
a,{name:"unless",hash:{},fn:c.program(4,d,0),inverse:c.noop,data:d}))?b:"")+'"></div>'},4:function(c,a,e,f,d){return" buttons--disabled"},6:function(c,a,e,f,d){return" product_zoom_wrapper--has-zoom"},8:function(c,a,e,f,d){return"onload=\"try { markPerformance('userready'); } catch(err) { }\""},10:function(c,a,e,f,d){var b;return'<div class="sb sb-chevron-next sb-resize--lg product-image__paging product-image__next js_next'+(null!=(b=e.unless.call(null!=a?a:c.nullContext||{},null!=a?a.hasNext:a,{name:"unless",
hash:{},fn:c.program(4,d,0),inverse:c.noop,data:d}))?b:"")+'"></div>'},12:function(c,a,e,f,d){var b,g;f=c.escapeExpression;return"Afbeelding "+f(c.lambda(null!=(b=null!=a?a.activeImage:a)?b.number:b,a))+" van "+f((g=null!=(g=e.totalImages||(null!=a?a.totalImages:a))?g:e.helperMissing,"function"===typeof g?g.call(null!=a?a:c.nullContext||{},{name:"totalImages",hash:{},data:d}):g))},compiler:[7,">= 4.0.0"],main:function(c,a,e,f,d){var b;f=null!=a?a:c.nullContext||{};var g=c.lambda,h=c.escapeExpression;
return'<div class="product-image-content js_image_container">\n <div class="product-image--content'+(null!=(b=e.unless.call(f,null!=a?a.hasMultipleImages:a,{name:"unless",hash:{},fn:c.program(1,d,0),inverse:c.noop,data:d}))?b:"")+' js_product_image_pan" data-test="product-image-content">\n '+(null!=(b=e["if"].call(f,null!=a?a.hasMultipleImages:a,{name:"if",hash:{},fn:c.program(3,d,0),inverse:c.noop,data:d}))?b:"")+'\n <div class="product_zoom_wrapper js_product_zoom_wrapper tst_product_zoom_wrapper js_product_image_pan_item'+
(null!=(b=e["if"].call(f,null!=(b=null!=a?a.activeImage:a)?b.xl:b,{name:"if",hash:{},fn:c.program(6,d,0),inverse:c.noop,data:d}))?b:"")+'"><img src="'+(null!=(b=g(null!=(b=null!=a?a.activeImage:a)?b.fullimage:b,a))?b:"")+'"\n data-zoom-src="'+(null!=(b=g(null!=(b=null!=a?a.activeImage:a)?b.xl:b,a))?b:"")+'"\n itemprop="image"\n class="js_product_img"\n alt="'+h(g(null!=(b=null!=a?a.activeImage:a)?b.name:b,a))+'"\n title="'+h(g(null!=(b=null!=a?a.activeImage:a)?b.name:b,a))+'"\n data-test="product-image"\n '+
(null!=(b=e["if"].call(f,null!=a?a.measureLoad:a,{name:"if",hash:{},fn:c.program(8,d,0),inverse:c.noop,data:d}))?b:"")+"></div>\n "+(null!=(b=e["if"].call(f,null!=a?a.hasMultipleImages:a,{name:"if",hash:{},fn:c.program(10,d,0),inverse:c.noop,data:d}))?b:"")+'\n </div>\n\n <div class="product-image__image-number js_product-image-number">'+(null!=(b=e["if"].call(f,null!=a?a.hasMultipleImages:a,{name:"if",hash:{},fn:c.program(12,d,0),inverse:c.noop,data:d}))?b:"")+"</div>\n</div>"},useData:!0},templateKey:"pdp_image:image:v1:image"}})();(function(){window.RNWYComponents||(window.RNWYComponents={});window.RNWYComponents["pdp_image:pan_siblings:v1:pan_siblings"]={schema:{"?next":"&image@shared_type","?previous":"&image@shared_type"},template:{1:function(c,a,d,f,e){var b;d=c.lambda;c=c.escapeExpression;return' <div class="product-image__pan product-image__pan--next js_product_image_pan_item">\n <img src="'+c(d(null!=(b=null!=a?a.next:a)?b.fullimage:b,a))+'" alt="'+c(d(null!=(b=null!=a?a.next:a)?b.name:b,a))+'">\n </div>\n'},3:function(c,
a,d,f,e){var b;d=c.lambda;c=c.escapeExpression;return' <div class="product-image__pan product-image__pan--prev js_product_image_pan_item">\n <img src="'+c(d(null!=(b=null!=a?a.prev:a)?b.fullimage:b,a))+'" alt="'+c(d(null!=(b=null!=a?a.prev:a)?b.name:b,a))+'">\n </div>\n'},compiler:[7,">= 4.0.0"],main:function(c,a,d,f,e){var b;f=null!=a?a:c.nullContext||{};return(null!=(b=d["if"].call(f,null!=a?a.next:a,{name:"if",hash:{},fn:c.program(1,e,0),inverse:c.noop,data:e}))?b:"")+"\n"+(null!=(b=d["if"].call(f,
null!=a?a.prev:a,{name:"if",hash:{},fn:c.program(3,e,0),inverse:c.noop,data:e}))?b:"")},useData:!0},templateKey:"pdp_image:pan_siblings:v1:pan_siblings"}})();(function(){window.RNWYComponents||(window.RNWYComponents={});window.RNWYComponents["pdp_image:thumbs:v1:thumbs"]={schema:{images:["&image@shared_type"],nextEnabled:!0,previousEnabled:!1},template:{1:function(b,a,e,f,d){return" product-image__thumb-list--has-navigation"},3:function(b,a,e,f,d){var c;return'<div class="nav nav--prev js_nav_prev'+(null!=(c=e.unless.call(null!=a?a:b.nullContext||{},null!=a?a.previousEnabled:a,{name:"unless",hash:{},fn:b.program(4,d,0),inverse:b.noop,data:d}))?c:"")+'"><span class="sb sb-chevron-back"></span></div>'},
4:function(b,a,e,f,d){return" nav--disabled"},6:function(b,a,e,f,d){var c;return null!=(c=e["if"].call(null!=a?a:b.nullContext||{},null!=a?a.thumbnail:a,{name:"if",hash:{},fn:b.program(7,d,0),inverse:b.noop,data:d}))?c:""},7:function(b,a,e,f,d){var c,g;f=null!=a?a:b.nullContext||{};var h=e.helperMissing,k=b.escapeExpression;return'<li class="nav nav--thumb js_thumb'+(null!=(c=e["if"].call(f,null!=a?a.isActive:a,{name:"if",hash:{},fn:b.program(8,d,0),inverse:b.noop,data:d}))?c:"")+'" data-index="'+
k((g=null!=(g=e.index||d&&d.index)?g:h,"function"===typeof g?g.call(f,{name:"index",hash:{},data:d}):g))+'"><img src="'+k((g=null!=(g=e.thumbnail||(null!=a?a.thumbnail:a))?g:h,"function"===typeof g?g.call(f,{name:"thumbnail",hash:{},data:d}):g))+'" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>'},8:function(b,a,e,f,d){return" is-active"},10:function(b,a,e,f,d){var c;return'<div class="nav nav--next js_nav_next'+(null!=(c=e.unless.call(null!=a?a:b.nullContext||
{},null!=a?a.nextEnabled:a,{name:"unless",hash:{},fn:b.program(4,d,0),inverse:b.noop,data:d}))?c:"")+'"><span class="sb sb-chevron-next"></span></div>'},compiler:[7,">= 4.0.0"],main:function(b,a,e,f,d){var c;f=null!=a?a:b.nullContext||{};return'<div class="fluid-grid__item one-whole product-image-thumb-list js_thumbs_list" data-test="thumb-list">\n <div class="product-image__thumb-list is-border-box'+(null!=(c=e["if"].call(f,null!=(c=null!=a?a.images:a)?c["4"]:c,{name:"if",hash:{},fn:b.program(1,
d,0),inverse:b.noop,data:d}))?c:"")+'" data-test="product-images">\n '+(null!=(c=e["if"].call(f,null!=(c=null!=a?a.images:a)?c["2"]:c,{name:"if",hash:{},fn:b.program(3,d,0),inverse:b.noop,data:d}))?c:"")+'\n <div class="list js_list">\n <ul class="js_thumbs_list_ul">\n '+(null!=(c=e.each.call(f,null!=a?a.images:a,{name:"each",hash:{},fn:b.program(6,d,0),inverse:b.noop,data:d}))?c:"")+"\n </ul>\n </div>\n "+(null!=(c=e["if"].call(f,null!=(c=null!=a?a.images:a)?c["2"]:c,{name:"if",hash:{},fn:b.program(10,
d,0),inverse:b.noop,data:d}))?c:"")+"\n </div>\n</div>"},useData:!0},templateKey:"pdp_image:thumbs:v1:thumbs"}})();!function(d){function b(k){if(a[k])return a[k].exports;var e=a[k]={exports:{},id:k,loaded:!1};return d[k].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var a={};return b.m=d,b.c=a,b.p="/static/",b(0)}([function(d,b,a){d.exports=a(1)},function(d,b,a){var k=(d=a(2))&&d.__esModule?d:{"default":d},e=(a=a(6))&&a.__esModule?a:{"default":a};window.makeProductImageStore=function(a){return new k["default"](a)};window.makeProductImage=function(a,c){var b=void 0;return 0!==c.images.length&&(b=window.makeProductImageStore(c),
a.store=b,new e["default"](a)),b}},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});var k=(d=a(3))&&d.__esModule?d:{"default":d};b["default"]=function(a){var b=new k["default"]({},{store:this}),c=new (Backbone.Model.extend({}));b.reset(a.images,{parse:!0});c.set(a.header);var q=new Backbone.ViewState({activeIndex:0,preloadedImageUrls:[]});this.getState=function(){return q};this.getImagesCollection=function(){return b};this.getHeaderModel=function(){return c}}},function(d,b,a){(function(k){Object.defineProperty(b,
"__esModule",{value:!0});var e=a(5),e=Backbone.Collection.extend({model:(e&&e.__esModule?e:{"default":e})["default"],initialize:function(a,c){this.store=c.store},findByIndex:function(a,c){var b=this.findWhere({index:a});return b&&c&&c(b),b},findActiveImage:function(){var a=this.store.getState().get("activeIndex");return this.findWhere({index:a})},parse:function(a){return k.chain(a).map(function(a,b){return a.index=b,a.xl=a.xl||a.fullimage,a}).value()}});b["default"]=e}).call(b,a(4))},function(d,b){d.exports=
_},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});var a=Backbone.Model.extend({hasMatchingUrls:function(){var a=this.get("xl"),b=this.get("fullimage");return!(!a||!b)&&a.split("/").slice(-1).pop()===b.split("/").slice(-1).pop()},getThumbUrl:function(){return this.get("xl").replace("/extralarge/","/large/")},isXL:function(){return-1<this.get("xl").indexOf("/extralarge/")}});b["default"]=a},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});var k=(d=a(7))&&d.__esModule?
d:{"default":d},e=(a=a(44))&&a.__esModule?a:{"default":a};a=Backbone.View.extend({initialize:function(a){this.store=a.store;this.collection=this.store.getImagesCollection();this.render()},isShowThumbList:function(){return 1<this.collection.size()},render:function(){var a=this.$(".js_image_container");this.ContentView?this.ContentView.setElement(a):this.ContentView=new k["default"]({el:a,collection:this.collection,store:this.store});this.isShowThumbList()&&new e["default"]({el:this.$(".js_thumbs_list"),
collection:this.collection,store:this.store})}});b["default"]=a},function(d,b,a){(function(k){function e(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var g=a(8),c=e(g),g=a(10),d=e(g),g=a(12),l=e(g),g=a(14),p=e(g),h=a(15),r=function(a){var b=new p["default"].Deferred,c=new Image;return c.src=a,c.complete?b.resolve({width:c.width,height:c.height}):(0,p["default"])(c).load(function(){b.resolve({width:c.width,height:c.height})}),b},n=window.WSP.utils.touchSupported(),
g=Backbone.View.extend({initialize:function(a){this.store=a.store;this.listenTo(this.store.getState(),"change:activeIndex",this.render);this.initialRender()},initialRender:function(){this.setElements();this.isSwipeable()&&this.renderPan()},events:function(){var a={"click .js_prev":"prevImage","click .js_next":"nextImage"};return window.WSP.utils.touchSupported()||p["default"].extend(a,{"mouseenter .js_product_img":"productImageMouseenter","mousemove .js_product_img":"productImageMousemove","mouseleave .js_product_img":"productImageMouseleave"}),
a},prevImage:function(){var a=this.store.getState().get("activeIndex");0>=a||this.store.getState().set("activeIndex",a-1)},nextImage:function(){var a=this.store.getState().get("activeIndex");a>=this.collection.size()-1||this.store.getState().set("activeIndex",a+1)},productImageMouseenter:function(a){var b=this.collection.findActiveImage();b.isXL()&&b.hasMatchingUrls()&&this.cachedPropertiesDfd((0,p["default"])(a.currentTarget)).done(k.bind(function(){if(!window.WSP.utils.touchSupported())return d["default"].hasInstance()?
void d["default"].getInstance().recover():void d["default"].setInstance(new c["default"]({model:b,parentView:this}))},this))},cachedPropertiesDfd:function(a){var b=new p["default"].Deferred,c=this.collection.findActiveImage(),f=r(c.get("fullimage")).done(k.bind(function(){this.cachedFullImageDimensions={width:a.width(),height:a.height()}},this)),c=r(c.get("xl")).done(k.bind(function(a){this.cachedXlDimensions=a},this));return this.cachedOffset=a.offset(),p["default"].when(f,c).done(b.resolve),b},
getCachedProperties:function(){return{fullImage:this.cachedFullImageDimensions,xl:this.cachedXlDimensions}},productImageMousemove:function(a){this.cachedOffset&&this.trigger("pointerPosition",{left:a.pageX-this.cachedOffset.left,top:a.pageY-this.cachedOffset.top})},productImageMouseleave:function(){this.trigger("pointerLeave")},getTemplateData:function(){var a=this.collection.findActiveImage(),a=a?a.toJSON():null,b=this.collection.size(),c=this.store.getState().get("activeIndex");return{templateKey:"pdp_image:image:v1:image",
hasMultipleImages:0<b,activeImage:a,hasNext:c!==b-1,hasPrevious:0!==c,totalImages:b}},renderPan:function(){var a=this.$(".js_product_image_pan");this.PanView?(this.PanView.unbindEvents(),this.PanView.setElement(a),this.PanView.bindEvents()):this.PanView=new l["default"]({el:a,collection:this.collection,store:this.store});this.renderPanSiblings()},renderPanSiblings:function(){var a=this.collection.size(),b=this.store.getState().get("activeIndex"),a=b<a-1,c=0<b,f=this.$(".js_product_image_pan").addClass("product-image--swipeable"),
v={templateKey:"pdp_image:pan_siblings:v1:pan_siblings"};a&&(v.next=this.collection.findByIndex(b+1).toJSON());c&&(v.prev=this.collection.findByIndex(b-1).toJSON());(0,h.render)(v).then(function(a){f.append(a.html)})},isSwipeable:function(){return n&&1<this.collection.size()},setElements:function(){this.$navPrev=this.$(".js_prev");this.$navNext=this.$(".js_next");this.$productImageNumber=this.$(".js_product-image-number")},render:function(){var a=this,b=this;(0,h.render)(this.getTemplateData()).then(function(c){a.$el.html(c.html);
b.setElements();b.isSwipeable()&&b.renderPan()})}});b["default"]=g}).call(b,a(4))},function(d,b,a){(function(k){function e(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var g=a(9),c=e(g),g=a(10),d=e(g),g=a(11),l=e(g),g=Backbone.View.extend({className:"zoom_image_target",initialize:function(a){this.parentView=a.parentView;this.imageProperties=this.parentView.getCachedProperties();this.indicator=new l["default"]({imageProperties:this.imageProperties,parentView:this.parentView});
this.$el.css({width:c["default"].TARGETWIDTH+"px",height:c["default"].TARGETHEIGHT+"px","background-image":"url("+this.model.get("xl")+")","background-size":[this.imageProperties.xl.width+"px",this.imageProperties.xl.height+"px"].join(" ")});this.parentView.$el.append(this.$el);this.listenTo(this.parentView,"pointerPosition",this.reposition);this.listenTo(this.parentView,"pointerLeave",this.fadeout)},getScale:function(){return{x:this.imageProperties.xl.width/this.imageProperties.fullImage.width,y:this.imageProperties.xl.height/
this.imageProperties.fullImage.height}},getPosition:function(a){var b=this.getScale();return{x:a.left*b.x-this.imageProperties.fullImage.width/2,y:a.top*b.y-this.imageProperties.fullImage.height/2}},fadeout:function(){this.indicator.$el.hide();this.$el.fadeOut(400,k.bind(function(){d["default"].unsetInstance();this.remove();this.indicator.remove()},this))},recover:function(){this.indicator.$el.show();this.$el.stop().css({opacity:1})},reposition:function(a){var b=this.getPosition(a);this.$el.css({"background-position":-b.x+
"px "+-b.y+"px"});this.indicator.reposition(a);this.$el.is(":hidden")&&this.$el.show()}});b["default"]=g}).call(b,a(4))},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]={TARGETWIDTH:464,TARGETHEIGHT:420}},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});var a=void 0;b["default"]={setInstance:function(b){a=b},getInstance:function(){return a},unsetInstance:function(){a=void 0},hasInstance:function(){return"undefined"!=typeof a}}},function(d,b,a){(function(d){Object.defineProperty(b,
"__esModule",{value:!0});var e=a(9),g=e&&e.__esModule?e:{"default":e},e=Backbone.View.extend({className:"zoom_indicator",initialize:function(a){var b=a.parentView.$(".js_product_img");this.imageProperties=a.imageProperties;this.fullImageWidth=this.imageProperties.fullImage.width;this.fullImageHeight=this.imageProperties.fullImage.height;this.cachedImageOffset={left:b.position().left+(b.outerWidth(!0)-b.innerWidth())/2,top:(b.outerHeight(!0)-b.innerHeight())/2};-1<navigator.userAgent.indexOf("Firefox")&&
d.extend(this.cachedImageOffset,{left:(a.parentView.$el.width()-b.width())/2});this.$el.css({display:"none",width:Math.floor(this.imageProperties.fullImage.width/(this.imageProperties.xl.width/g["default"].TARGETWIDTH)),height:Math.floor(this.imageProperties.fullImage.height/(this.imageProperties.xl.height/g["default"].TARGETHEIGHT))});a.parentView.$(".js_product_zoom_wrapper").append(this.$el)},reposition:function(a){var b=a.left-Math.floor(this.$el.width()/2);a=a.top-Math.floor(this.$el.height()/
2);var g=this.fullImageWidth-this.$el.width(),e=this.fullImageHeight-this.$el.height();this.$el.css({left:this.cachedImageOffset.left+Math.max(0,Math.min(b,g)),top:this.cachedImageOffset.top+Math.max(0,Math.min(a,e))});this.$el.is(":hidden")&&this.$el.show()}});b["default"]=e}).call(b,a(4))},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});var k=(d=a(13))&&d.__esModule?d:{"default":d};d=Backbone.View.extend({initialize:function(a){this.store=a.store;this.bindEvents()},bindEvents:function(){var a=
this;this.hammer=new k["default"].Manager(this.el);this.hammer.add(new k["default"].Pan({direction:k["default"].DIRECTION_HORIZONTAL}));this.hammer.on("panstart panmove panend pancancel",function(b){return a.handlePan(b)})},unbindEvents:function(){this.hammer.destroy()},animate:function(a){var b=this;return function(){b.$(".js_product_image_pan_item").removeClass("is-panning").css("transform","translate3d("+a+"px, 0, 0)");b.isPanning=!1}},animateTo:function(a){this.$(".js_product_image_pan_item").addClass("is-panning").css("transform",
"translate3d("+100*a+"%, 0, 0)")},handlePan:function(a){var b=this;if(this.isPanning||(this.currentAnimationFrame=requestAnimationFrame(this.animate(a.deltaX))),this.isPanning=!0,"panend"===a.type||"pancancel"===a.type){var c=100/this.$el.width()*a.deltaX;if(cancelAnimationFrame(this.currentAnimationFrame),this.isPanning=!1,"panend"===a.type&&15<Math.abs(c)){var d=this.store.getState().get("activeIndex");this.$(".js_product_image_pan_item").first().on("transitionend",function(){b.store.getState().set("activeIndex",
0>c?Math.min(b.collection.size()-1,d+1):Math.max(0,d-1))});0>d-1&&0<c||d+1>=this.collection.size()&&0>c?this.animateTo(0):this.animateTo(0>c?-1:1)}else this.animateTo(0)}}});b["default"]=d},function(d,b,a){var k;!function(e,g,c,q){function l(m,a,b){return setTimeout(t(m,b),a)}function p(m,a,b){return!!Array.isArray(m)&&(h(m,b[a],b),!0)}function h(m,a,b){var c;if(m)if(m.forEach)m.forEach(a,b);else if(m.length!==q)for(c=0;c<m.length;)a.call(b,m[c],c,m),c++;else for(c in m)m.hasOwnProperty(c)&&a.call(b,
m[c],c,m)}function r(m,a,b){var c="DEPRECATED METHOD: "+a+"\n"+b+" AT \n";return function(){var a=Error("get-stack-trace"),a=a&&a.stack?a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",b=e.console&&(e.console.warn||e.console.log);return b&&b.call(e.console,c,a),m.apply(this,arguments)}}function n(m,a,b){var c=a.prototype;a=m.prototype=Object.create(c);a.constructor=m;a._super=c;b&&F(a,b)}function t(m,a){return function(){return m.apply(a,
arguments)}}function w(m,a){return typeof m==Pa?m.apply(a?a[0]||q:q,a):m}function u(m,a,b){h(K(a),function(a){m.addEventListener(a,b,!1)})}function f(m,a,b){h(K(a),function(a){m.removeEventListener(a,b,!1)})}function v(m,a){for(;m;){if(m==a)return!0;m=m.parentNode}return!1}function K(m){return m.trim().split(/\s+/g)}function D(m,a,b){if(m.indexOf&&!b)return m.indexOf(a);for(var c=0;c<m.length;){if(b&&m[c][b]==a||!b&&m[c]===a)return c;c++}return-1}function G(m){return Array.prototype.slice.call(m,
0)}function H(m,a,b){for(var c=[],f=[],h=0;h<m.length;){var v=a?m[h][a]:m[h];0>D(f,v)&&c.push(m[h]);f[h]=v;h++}return b&&(c=a?c.sort(function(m,b){return m[a]>b[a]}):c.sort()),c}function aa(m,a){for(var b,c,f=a[0].toUpperCase()+a.slice(1),h=0;h<wa.length;){if(b=wa[h],c=b?b+f:a,c in m)return c;h++}return q}function xa(m){m=m.ownerDocument||m;return m.defaultView||m.parentWindow||e}function A(m,a){var b=this;this.manager=m;this.callback=a;this.element=m.element;this.target=m.options.inputTarget;this.domHandler=
function(a){w(m.options.enable,[m])&&b.handler(a)};this.init()}function Qa(m){var a=m.options.inputClass;return new (a?a:Ra?la:Sa?ba:ya?ma:ca)(m,Ta)}function Ta(m,a,b){var c,f,h=b.pointers.length;c=b.changedPointers.length;var g=a&y&&0===h-c,h=a&(x|z)&&0===h-c;b.isFirst=!!g;b.isFinal=!!h;g&&(m.session={});b.eventType=a;a=m.session;g=b.pointers;h=g.length;a.firstInput||(a.firstInput=za(b));1<h&&!a.firstMultiple?a.firstMultiple=za(b):1===h&&(a.firstMultiple=!1);c=a.firstInput;f=(h=a.firstMultiple)?
h.center:c.center;var e=b.center=Aa(g);b.timeStamp=na();b.deltaTime=b.timeStamp-c.timeStamp;b.angle=oa(f,e);b.distance=da(f,e);c=b.center;f=a.offsetDelta||{};var e=a.prevDelta||{},d=a.prevInput||{};b.eventType!==y&&d.eventType!==x||(e=a.prevDelta={x:d.deltaX||0,y:d.deltaY||0},f=a.offsetDelta={x:c.x,y:c.y});b.deltaX=e.x+(c.x-f.x);b.deltaY=e.y+(c.y-f.y);b.offsetDirection=Ba(b.deltaX,b.deltaY);f=b.deltaTime;c=b.deltaX/f||0;f=b.deltaY/f||0;b.overallVelocityX=c;b.overallVelocityY=f;b.overallVelocity=M(c)>
M(f)?c:f;h?(c=h.pointers,c=da(g[0],g[1],ea)/da(c[0],c[1],ea)):c=1;b.scale=c;h?(h=h.pointers,g=oa(g[1],g[0],ea)+oa(h[1],h[0],ea)):g=0;b.rotation=g;b.maxPointers=a.prevInput?b.pointers.length>a.prevInput.maxPointers?b.pointers.length:a.prevInput.maxPointers:b.pointers.length;f=a.lastInterval||b;g=b.timeStamp-f.timeStamp;b.eventType!=z&&(g>Ua||f.velocity===q)?(c=b.deltaX-f.deltaX,f=b.deltaY-f.deltaY,e=c/g||0,d=f/g||0,g=e,h=d,e=M(e)>M(d)?e:d,c=Ba(c,f),a.lastInterval=b):(e=f.velocity,g=f.velocityX,h=f.velocityY,
c=f.direction);b.velocity=e;b.velocityX=g;b.velocityY=h;b.direction=c;a=m.element;v(b.srcEvent.target,a)&&(a=b.srcEvent.target);b.target=a;m.emit("hammer.input",b);m.recognize(b);m.session.prevInput=b}function za(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:R(a.pointers[c].clientX),clientY:R(a.pointers[c].clientY)},c++;return{timeStamp:na(),pointers:b,center:Aa(b),deltaX:a.deltaX,deltaY:a.deltaY}}function Aa(a){var b=a.length;if(1===b)return{x:R(a[0].clientX),y:R(a[0].clientY)};for(var c=
0,f=0,h=0;h<b;)c+=a[h].clientX,f+=a[h].clientY,h++;return{x:R(c/b),y:R(f/b)}}function Ba(a,b){return a===b?fa:M(a)>=M(b)?0>a?T:U:0>b?V:W}function da(a,b,c){c||(c=Ca);var f=b[c[0]]-a[c[0]];a=b[c[1]]-a[c[1]];return Math.sqrt(f*f+a*a)}function oa(a,b,c){c||(c=Ca);return 180*Math.atan2(b[c[1]]-a[c[1]],b[c[0]]-a[c[0]])/Math.PI}function ca(){this.evEl=Va;this.evWin=Wa;this.pressed=!1;A.apply(this,arguments)}function la(){this.evEl=Da;this.evWin=Ea;A.apply(this,arguments);this.store=this.manager.session.pointerEvents=
[]}function Fa(){this.evTarget=Xa;this.evWin=Ya;this.started=!1;A.apply(this,arguments)}function ba(){this.evTarget=Za;this.targetIds={};A.apply(this,arguments)}function $a(a,b){var c=G(a.touches),f=this.targetIds;if(b&(y|N)&&1===c.length)return f[c[0].identifier]=!0,[c,c];var h,g=G(a.changedTouches),e=[],d=this.target;if(h=c.filter(function(a){return v(a.target,d)}),b===y)for(c=0;c<h.length;)f[h[c].identifier]=!0,c++;for(c=0;c<g.length;)f[g[c].identifier]&&e.push(g[c]),b&(x|z)&&delete f[g[c].identifier],
c++;return e.length?[H(h.concat(e),"identifier",!0),e]:void 0}function ma(){A.apply(this,arguments);var a=t(this.handler,this);this.touch=new ba(this.manager,a);this.mouse=new ca(this.manager,a);this.primaryTouch=null;this.lastTouches=[]}function Ga(a){a=a.changedPointers[0];if(a.identifier===this.primaryTouch){var b={x:a.clientX,y:a.clientY};this.lastTouches.push(b);var c=this.lastTouches;setTimeout(function(){var a=c.indexOf(b);-1<a&&c.splice(a,1)},ab)}}function pa(a,b){this.manager=a;this.set(b)}
function bb(a){if(-1<a.indexOf(O))return O;var b=-1<a.indexOf(X),c=-1<a.indexOf(Y);return b&&c?O:b||c?b?X:Y:-1<a.indexOf(qa)?qa:Ha}function I(a){this.options=F({},this.defaults,a||{});this.id=cb++;this.manager=null;a=this.options.enable;this.options.enable=a===q?!0:a;this.state=ga;this.simultaneous={};this.requireFail=[]}function Ia(a){return a&Z?"cancel":a&L?"end":a&S?"move":a&B?"start":""}function Ja(a){return a==W?"down":a==V?"up":a==T?"left":a==U?"right":""}function ha(a,b){var c=b.manager;return c?
c.get(a):a}function C(){I.apply(this,arguments)}function ia(){C.apply(this,arguments);this.pY=this.pX=null}function ra(){C.apply(this,arguments)}function sa(){I.apply(this,arguments);this._input=this._timer=null}function ta(){C.apply(this,arguments)}function ua(){C.apply(this,arguments)}function ja(){I.apply(this,arguments);this.pCenter=this.pTime=!1;this._input=this._timer=null;this.count=0}function P(a,b){b=b||{};var c=b.recognizers;return b.recognizers=c===q?P.defaults.preset:c,new va(a,b)}function va(a,
b){this.options=F({},P.defaults,b||{});this.options.inputTarget=this.options.inputTarget||a;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=a;this.input=Qa(this);this.touchAction=new pa(this,this.options.touchAction);Ka(this,!0);h(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]);a[3]&&b.requireFailure(a[3])},this)}function Ka(a,b){var c=a.element;if(c.style){var f;h(a.options.cssProps,function(h,g){f=aa(c.style,g);
b?(a.oldCssProps[f]=c.style[f],c.style[f]=h):c.style[f]=a.oldCssProps[f]||""});b||(a.oldCssProps={})}}function db(a,b){var c=g.createEvent("Event");c.initEvent(a,!0,!0);c.gesture=b;b.target.dispatchEvent(c)}var F,wa=" webkit Moz MS ms o".split(" "),eb=g.createElement("div"),Pa="function",R=Math.round,M=Math.abs,na=Date.now;F="function"!=typeof Object.assign?function(a){if(a===q||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var f=
arguments[c];if(f!==q&&null!==f)for(var h in f)f.hasOwnProperty(h)&&(b[h]=f[h])}return b}:Object.assign;var La=r(function(a,b,c){for(var f=Object.keys(b),h=0;h<f.length;)(!c||c&&a[f[h]]===q)&&(a[f[h]]=b[f[h]]),h++;return a},"extend","Use `assign`."),fb=r(function(a,b){return La(a,b,!0)},"merge","Use `assign`."),cb=1,gb=/mobile|tablet|ip(ad|hone|od)|android/i,ya="ontouchstart"in e,Ra=aa(e,"PointerEvent")!==q,Sa=ya&&gb.test(navigator.userAgent),Ua=25,y=1,N=2,x=4,z=8,fa=1,T=2,U=4,V=8,W=16,E=T|U,Q=V|
W,Ma=E|Q,Ca=["x","y"],ea=["clientX","clientY"];A.prototype={handler:function(){},init:function(){this.evEl&&u(this.element,this.evEl,this.domHandler);this.evTarget&&u(this.target,this.evTarget,this.domHandler);this.evWin&&u(xa(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler);this.evTarget&&f(this.target,this.evTarget,this.domHandler);this.evWin&&f(xa(this.element),this.evWin,this.domHandler)}};var hb={mousedown:y,mousemove:N,mouseup:x},
Va="mousedown",Wa="mousemove mouseup";n(ca,A,{handler:function(a){var b=hb[a.type];b&y&&0===a.button&&(this.pressed=!0);b&N&&1!==a.which&&(b=x);this.pressed&&(b&x&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:"mouse",srcEvent:a}))}});var ib={pointerdown:y,pointermove:N,pointerup:x,pointercancel:z,pointerout:z},jb={2:"touch",3:"pen",4:"mouse",5:"kinect"},Da="pointerdown",Ea="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Da=
"MSPointerDown",Ea="MSPointerMove MSPointerUp MSPointerCancel");n(la,A,{handler:function(a){var b=this.store,c=!1,f=a.type.toLowerCase().replace("ms",""),f=ib[f],h=jb[a.pointerType]||a.pointerType,g="touch"==h,v=D(b,a.pointerId,"pointerId");f&y&&(0===a.button||g)?0>v&&(b.push(a),v=b.length-1):f&(x|z)&&(c=!0);0>v||(b[v]=a,this.callback(this.manager,f,{pointers:b,changedPointers:[a],pointerType:h,srcEvent:a}),c&&b.splice(v,1))}});var kb={touchstart:y,touchmove:N,touchend:x,touchcancel:z},Xa="touchstart",
Ya="touchstart touchmove touchend touchcancel";n(Fa,A,{handler:function(a){var b=kb[a.type];if(b===y&&(this.started=!0),this.started){var c,f=G(a.touches);c=G(a.changedTouches);c=(b&(x|z)&&(f=H(f.concat(c),"identifier",!0)),[f,c]);b&(x|z)&&0===c[0].length-c[1].length&&(this.started=!1);this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:"touch",srcEvent:a})}}});var lb={touchstart:y,touchmove:N,touchend:x,touchcancel:z},Za="touchstart touchmove touchend touchcancel";n(ba,A,
{handler:function(a){var b=lb[a.type],c=$a.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:"touch",srcEvent:a})}});var ab=2500;n(ma,A,{handler:function(a,b,c){var f="touch"==c.pointerType,h="mouse"==c.pointerType;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(f)b&y?(this.primaryTouch=c.changedPointers[0].identifier,Ga.call(this,c)):b&(x|z)&&Ga.call(this,c);else{if(f=h)a:{for(var f=c.srcEvent.clientX,h=c.srcEvent.clientY,g=0;g<
this.lastTouches.length;g++){var v=this.lastTouches[g],e=Math.abs(h-v.y);if(25>=Math.abs(f-v.x)&&25>=e){f=!0;break a}}f=!1}if(f)return}this.callback(a,b,c)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var Na=aa(eb.style,"touchAction"),Oa=Na!==q,Ha="auto",qa="manipulation",O="none",X="pan-x",Y="pan-y",ka=function(){if(!Oa)return!1;var a={},b=e.CSS&&e.CSS.supports;return"auto;manipulation;pan-y;pan-x;pan-x pan-y;none".split(";").forEach(function(c){a[c]=!b||e.CSS.supports("touch-action",
c)}),a}();pa.prototype={set:function(a){"compute"==a&&(a=this.compute());Oa&&this.manager.element.style&&ka[a]&&(this.manager.element.style[Na]=a);this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return h(this.manager.recognizers,function(b){w(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),bb(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();
var f=this.actions,h=-1<f.indexOf(O)&&!ka[O],g=-1<f.indexOf(Y)&&!ka[Y],f=-1<f.indexOf(X)&&!ka[X];if(h){var v=2>a.distance,e=250>a.deltaTime;if(1===a.pointers.length&&v&&e)return}return f&&g?void 0:h||g&&c&E||f&&c&Q?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0;a.preventDefault()}};var ga=1,B=2,S=4,L=8,J=L,Z=16;I.prototype={defaults:{},set:function(a){return F(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(p(a,
"recognizeWith",this))return this;var b=this.simultaneous;return a=ha(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return p(a,"dropRecognizeWith",this)?this:(a=ha(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(p(a,"requireFailure",this))return this;var b=this.requireFail;return a=ha(a,this),-1===D(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(p(a,"dropRequireFailure",this))return this;a=ha(a,
this);a=D(this.requireFail,a);return-1<a&&this.requireFail.splice(a,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(f){c.manager.emit(f,a)}var c=this,f=this.state;f<L&&b(c.options.event+Ia(f));b(c.options.event);a.additionalEvent&&b(a.additionalEvent);f>=L&&b(c.options.event+Ia(f))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=32)},canEmit:function(){for(var a=
0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(32|ga)))return!1;a++}return!0},recognize:function(a){a=F({},a);return w(this.options.enable,[this,a])?(this.state&(J|Z|32)&&(this.state=ga),this.state=this.process(a),void(this.state&(B|S|L|Z)&&this.tryEmit(a))):(this.reset(),void(this.state=32))},process:function(a){},getTouchAction:function(){},reset:function(){}};n(C,I,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=
this.state,c=a.eventType,f=b&(B|S);a=this.attrTest(a);return f&&(c&z||!a)?b|Z:f||a?c&x?b|L:b&B?b|S:B:32}});n(ia,C,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ma},getTouchAction:function(){var a=this.options.direction,b=[];return a&E&&b.push(Y),a&Q&&b.push(X),b},directionTest:function(a){var b=this.options,c=!0,f=a.distance,h=a.direction,g=a.deltaX,v=a.deltaY;return h&b.direction||(b.direction&E?(h=0===g?fa:0>g?T:U,c=g!=this.pX,f=Math.abs(a.deltaX)):(h=0===v?fa:0>v?V:W,c=v!=this.pY,f=
Math.abs(a.deltaY))),a.direction=h,c&&f>b.threshold&&h&b.direction},attrTest:function(a){return C.prototype.attrTest.call(this,a)&&(this.state&B||!(this.state&B)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX;this.pY=a.deltaY;var b=Ja(a.direction);b&&(a.additionalEvent=this.options.event+b);this._super.emit.call(this,a)}});n(ra,C,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[O]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-
1)>this.options.threshold||this.state&B)},emit:function(a){1!==a.scale&&(a.additionalEvent=this.options.event+(1>a.scale?"in":"out"));this._super.emit.call(this,a)}});n(sa,I,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ha]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,f=a.distance<b.threshold,h=a.deltaTime>b.time;if(this._input=a,!f||!c||a.eventType&(x|z)&&!h)this.reset();else if(a.eventType&y)this.reset(),this._timer=l(function(){this.state=
J;this.tryEmit()},b.time,this);else if(a.eventType&x)return J;return 32},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===J&&(a&&a.eventType&x?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=na(),this.manager.emit(this.options.event,this._input)))}});n(ta,C,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[O]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&
B)}});n(ua,C,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:E|Q,pointers:1},getTouchAction:function(){return ia.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(E|Q)?b=a.overallVelocity:c&E?b=a.overallVelocityX:c&Q&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&M(b)>this.options.velocity&&a.eventType&x},emit:function(a){var b=Ja(a.offsetDirection);
b&&this.manager.emit(this.options.event+b,a);this.manager.emit(this.options.event,a)}});n(ja,I,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[qa]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,f=a.distance<b.threshold,h=a.deltaTime<b.time;if(this.reset(),a.eventType&y&&0===this.count)return this.failTimeout();if(f&&h&&c){if(a.eventType!=x)return this.failTimeout();c=!this.pTime||a.timeStamp-this.pTime<
b.interval;f=!this.pCenter||da(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp;this.pCenter=a.center;f&&c?this.count+=1:this.count=1;this._input=a;if(0===this.count%b.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=J;this.tryEmit()},b.interval,this),B):J}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==J&&(this._input.tapCount=
this.count,this.manager.emit(this.options.event,this._input))}});P.VERSION="2.0.7";P.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[ta,{enable:!1}],[ra,{enable:!1},["rotate"]],[ua,{direction:E}],[ia,{direction:E},["swipe"]],[ja],[ja,{event:"doubletap",taps:2},["tap"]],[sa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};va.prototype={set:function(a){return F(this.options,
a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,f=this.recognizers,h=b.curRecognizer;(!h||h&&h.state&J)&&(h=b.curRecognizer=null);for(var g=0;g<f.length;)c=f[g],2===b.stopped||h&&c!=h&&!c.canRecognizeWith(h)?c.reset():c.recognize(a),!h&&c.state&(B|S|L)&&(h=b.curRecognizer=
c),g++}},get:function(a){if(a instanceof I)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(p(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(p(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers;a=D(b,a);-1!==a&&(b.splice(a,1),this.touchAction.update())}return this},on:function(a,
b){if(a!==q&&b!==q){var c=this.handlers;return h(K(a),function(a){c[a]=c[a]||[];c[a].push(b)}),this}},off:function(a,b){if(a!==q){var c=this.handlers;return h(K(a),function(a){b?c[a]&&c[a].splice(D(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&db(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a;b.preventDefault=function(){b.srcEvent.preventDefault()};for(var f=0;f<c.length;)c[f](b),f++}},destroy:function(){this.element&&Ka(this,!1);this.handlers=
{};this.session={};this.input.destroy();this.element=null}};F(P,{INPUT_START:y,INPUT_MOVE:N,INPUT_END:x,INPUT_CANCEL:z,STATE_POSSIBLE:ga,STATE_BEGAN:B,STATE_CHANGED:S,STATE_ENDED:L,STATE_RECOGNIZED:J,STATE_CANCELLED:Z,STATE_FAILED:32,DIRECTION_NONE:fa,DIRECTION_LEFT:T,DIRECTION_RIGHT:U,DIRECTION_UP:V,DIRECTION_DOWN:W,DIRECTION_HORIZONTAL:E,DIRECTION_VERTICAL:Q,DIRECTION_ALL:Ma,Manager:va,Input:A,TouchAction:pa,TouchInput:ba,MouseInput:ca,PointerEventInput:la,TouchMouseInput:ma,SingleTouchInput:Fa,
Recognizer:I,AttrRecognizer:C,Tap:ja,Pan:ia,Swipe:ua,Pinch:ra,Rotate:ta,Press:sa,on:u,off:f,each:h,merge:fb,extend:La,assign:F,inherit:n,bindFn:t,prefixed:aa});("undefined"!=typeof e?e:"undefined"!=typeof self?self:{}).Hammer=P;k=function(){return P}.call(b,a,b,d);!(k!==q&&(d.exports=k))}(window,document,"Hammer")},function(d,b){d.exports=jQuery},function(d,b,a){function k(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});b.setComponentDidMount=b.setComponent=
b.render=b.mount=b.getComponent=void 0;d=a(16);d=k(d);var e=a(20),e=k(e),g=a(21);a=a(22);a=k(a);window.Promise||(window.Promise=d["default"]);b.getComponent=g.getComponent;b.mount=e["default"];b.render=a["default"];b.setComponent=g.setComponent;b.setComponentDidMount=g.setComponentDidMount},function(d,b,a){(function(a){var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a};!function(g){function c(){}function q(a,b){return function(){a.apply(b,arguments)}}function l(a){if("object"!==b(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];w(a,this)}function p(a,b){for(;3===a._state;)a=a._value;return 0===a._state?void a._deferreds.push(b):(a._handled=!0,void l._immediateFn(function(){var c=1===a._state?b.onFulfilled:
b.onRejected;if(null===c)return void(1===a._state?h:r)(b.promise,a._value);var g;try{g=c(a._value)}catch(e){return void r(b.promise,e)}h(b.promise,g)}))}function h(a,c){try{if(c===a)throw new TypeError("A promise cannot be resolved with itself.");if(c&&("object"===("undefined"==typeof c?"undefined":b(c))||"function"==typeof c)){var h=c.then;if(c instanceof l)return a._state=3,a._value=c,void n(a);if("function"==typeof h)return void w(q(h,c),a)}a._state=1;a._value=c;n(a)}catch(g){r(a,g)}}function r(a,
b){a._state=2;a._value=b;n(a)}function n(a){2===a._state&&0===a._deferreds.length&&l._immediateFn(function(){a._handled||l._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)p(a,a._deferreds[b]);a._deferreds=null}function t(a,b,c){this.onFulfilled="function"==typeof a?a:null;this.onRejected="function"==typeof b?b:null;this.promise=c}function w(a,b){var c=!1;try{a(function(a){c||(c=!0,h(b,a))},function(a){c||(c=!0,r(b,a))})}catch(g){c||(c=!0,r(b,g))}}var u=setTimeout;l.prototype["catch"]=
function(a){return this.then(null,a)};l.prototype.then=function(a,b){var h=new this.constructor(c);return p(this,new t(a,b,h)),h};l.all=function(a){var c=Array.prototype.slice.call(a);return new l(function(a,h){function f(d,u){try{if(u&&("object"===("undefined"==typeof u?"undefined":b(u))||"function"==typeof u)){var n=u.then;if("function"==typeof n)return void n.call(u,function(a){f(d,a)},h)}c[d]=u;0===--g&&a(c)}catch(l){h(l)}}if(0===c.length)return a([]);for(var g=c.length,d=0;d<c.length;d++)f(d,
c[d])})};l.resolve=function(a){return a&&"object"===("undefined"==typeof a?"undefined":b(a))&&a.constructor===l?a:new l(function(b){b(a)})};l.reject=function(a){return new l(function(b,c){c(a)})};l.race=function(a){return new l(function(b,c){for(var h=0,g=a.length;h<g;h++)a[h].then(b,c)})};l._immediateFn="function"==typeof a&&function(b){a(b)}||function(a){u(a,0)};l._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};l._setImmediateFn=
function(a){l._immediateFn=a};l._setUnhandledRejectionFn=function(a){l._unhandledRejectionFn=a};"undefined"!=typeof d&&d.exports?d.exports=l:g.Promise||(g.Promise=l)}(void 0)}).call(b,a(17).setImmediate)},function(d,b,a){function k(a,b){this._id=a;this._clearFn=b}var e=Function.prototype.apply;b.setTimeout=function(){return new k(e.call(setTimeout,window,arguments),clearTimeout)};b.setInterval=function(){return new k(e.call(setInterval,window,arguments),clearInterval)};b.clearTimeout=b.clearInterval=
function(a){a&&a.close()};k.prototype.unref=k.prototype.ref=function(){};k.prototype.close=function(){this._clearFn.call(window,this._id)};b.enroll=function(a,b){clearTimeout(a._idleTimeoutId);a._idleTimeout=b};b.unenroll=function(a){clearTimeout(a._idleTimeoutId);a._idleTimeout=-1};b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;0<=b&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))};a(18);b.setImmediate=setImmediate;b.clearImmediate=
clearImmediate},function(d,b,a){(function(a,b){!function(a,c){function d(a){"function"!=typeof a&&(a=new Function(""+a));for(var b=Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];return K[v]={callback:a,args:b},f(v),v++}function l(a){delete K[a]}function k(a){if(D)setTimeout(k,0,a);else{var b=K[a];if(b){D=!0;try{var h=b.callback,f=b.args;switch(f.length){case 0:h();break;case 1:h(f[0]);break;case 2:h(f[0],f[1]);break;case 3:h(f[0],f[1],f[2]);break;default:h.apply(c,f)}}finally{l(a),
D=!1}}}}function h(){f=function(a){b.nextTick(function(){k(a)})}}function r(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}function n(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&k(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c);f=function(c){a.postMessage(b+c,"*")}}function t(){var a=
new MessageChannel;a.port1.onmessage=function(a){k(a.data)};f=function(b){a.port2.postMessage(b)}}function w(){var a=G.documentElement;f=function(b){var c=G.createElement("script");c.onreadystatechange=function(){k(b);c.onreadystatechange=null;a.removeChild(c);c=null};a.appendChild(c)}}function u(){f=function(a){setTimeout(k,0,a)}}if(!a.setImmediate){var f,v=1,K={},D=!1,G=a.document,H=Object.getPrototypeOf&&Object.getPrototypeOf(a),H=H&&H.setTimeout?H:a;"[object process]"==={}.toString.call(a.process)?
h():r()?n():a.MessageChannel?t():G&&"onreadystatechange"in G.createElement("script")?w():u();H.setImmediate=d;H.clearImmediate=l}}("undefined"==typeof self?"undefined"==typeof a?this:a:self)}).call(b,function(){return this}(),a(19))},function(d,b){function a(){throw Error("setTimeout has not been defined");}function k(){throw Error("clearTimeout has not been defined");}function e(b){if(h===setTimeout)return setTimeout(b,0);if((h===a||!h)&&setTimeout)return h=setTimeout,setTimeout(b,0);try{return h(b,
0)}catch(c){try{return h.call(null,b,0)}catch(f){return h.call(this,b,0)}}}function g(a){if(r===clearTimeout)return clearTimeout(a);if((r===k||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(a);try{return r(a)}catch(b){try{return r.call(null,a)}catch(c){return r.call(this,a)}}}function c(){u&&t&&(u=!1,t.length?w=t.concat(w):f=-1,w.length&&q())}function q(){if(!u){var a=e(c);u=!0;for(var b=w.length;b;){t=w;for(w=[];++f<b;)t&&t[f].run();f=-1;b=w.length}t=null;u=!1;g(a)}}function l(a,b){this.fun=
a;this.array=b}function p(){}var h,r,n=d.exports={};try{h="function"==typeof setTimeout?setTimeout:a}catch(v){h=a}try{r="function"==typeof clearTimeout?clearTimeout:k}catch(v){r=k}!0;var t,w=[],u=!1,f=-1;n.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];w.push(new l(a,b));1!==w.length||u||e(q)};l.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=!0;n.env={};n.argv=[];n.version="";
n.versions={};n.on=p;n.addListener=p;n.once=p;n.off=p;n.removeListener=p;n.removeAllListeners=p;n.emit=p;n.prependListener=p;n.prependOnceListener=p;n.listeners=function(a){return[]};n.binding=function(a){throw Error("process.binding is not supported");};n.cwd=function(){return"/"};n.chdir=function(a){throw Error("process.chdir is not supported");};n.umask=function(){return 0}},function(d,b,a){function k(a,b){return(0,n["default"])(b).then(function(b){var c=b.html,g=b.componentMap;b=b.data;c=(0,t.parseHtml)(c);
return(0,h.toArray)(c.querySelectorAll("[data-rnwy-component]")).forEach((0,h.partial)(e,c,g)),e(c,g,c),a.parentNode.replaceChild(c,a),{node:c,data:b}})}function e(a,b,c){var e=c.dataset.rnwyComponent,d=b[e];(0,r.getComponent)(d.templateKey).then(function(n){"function"==typeof n.componentDidMount&&n.componentDidMount(c,l(b,d),(0,h.partial)(g,{root:a,componentMap:b,identifier:e}))})}function g(a,b){var f=a.root,g=a.componentMap,e=c(g,a.identifier,b),g=(0,h.extendOwn)({},g,e);return k(f,l(g,g[f.dataset.rnwyComponent]))}
function c(a,b,c){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},e=(0,h.extendOwn),d;d={};var n=q({componentMap:a,newNodes:g},a[b],c);d=(b in d?Object.defineProperty(d,b,{value:n,enumerable:!0,configurable:!0,writable:!0}):d[b]=n,d);return e(g,d)}function q(a,b,f){var g=a.componentMap;a=a.newNodes;var d=(0,h.partial)(q,{componentMap:g,newNodes:a});return Array.isArray(b)?b.map(function(a,c){return d(b[c],f[c])}):"object"===("undefined"==typeof b?"undefined":p(b))?(0,h.mapObject)(b,
function(a,c){return d(b[c],f[c])}):"string"==typeof b&&g[b]?(c(g,b,f,a),b):f}function l(a,b){var c=(0,h.partial)(l,a);return Array.isArray(b)?b.map(c):"object"===("undefined"==typeof b?"undefined":p(b))?(0,h.mapObject)(b,c):"string"==typeof b&&a[b]?c(a[b]):b}Object.defineProperty(b,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":
typeof a};b["default"]=k;var h=a(4),r=a(21),n=(d=a(22))&&d.__esModule?d:{"default":d},t=a(42)},function(d,b,a){function k(a){return c.has(a)?Promise.resolve(c.get(a)):window.RNWYComponents&&window.RNWYComponents[a]?(e(window.RNWYComponents[a]),Promise.resolve(window.RNWYComponents[a])):Promise.reject(Error("Component "+a+" is not registered."))}function e(a){c.set(a.templateKey,a)}Object.defineProperty(b,"__esModule",{value:!0});b.getComponent=k;b.setComponent=e;b.setComponentDidMount=function(a,
b){k(a).then(function(a){if("function"!=typeof b)throw Error(b+" is not a function.");e((0,g.extendOwn)({},a,{componentDidMount:b}))})};var g=a(4),c=new Map},function(d,b,a){function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=q();return Promise.all([(0,n.getComponent)(a.templateKey),g(b,(0,r.omit)(a,"templateKey"))]).then(function(g){var e=p(g,2);g=e[1];
e=h["default"].template(e[0].template)(g);e=(e=(0,t.parseHtml)(e))?(0,t.addDataAttr)(e,"rnwyComponent",d).outerHTML:"";return{html:e,data:g,componentMap:(0,r.extendOwn)(b,k({},d,c(a,g)))}})}function g(a,b){var c=(0,r.partial)(g,a);if(Array.isArray(b))return Promise.all(b.map(c));if("object"===("undefined"==typeof b?"undefined":l(b))){if(b.templateKey)return e(b,a).then((0,r.property)("html"));var h=Object.keys(b).map(function(a){return c(b[a]).then(function(b){return[a,b]})});return(0,w.reducePromise)(function(a,
b){var c=p(b,2),h=c[0],c=c[1];return(0,r.extendOwn)(a,k({},h,c))},{},h)}return Promise.resolve(b)}function c(a,b){if(Array.isArray(a))return a.map(function(h,g){return c(a[g],b[g])});if("object"===("undefined"==typeof a?"undefined":l(a))){var h=/data-rnwy-component="(.*)"/;return"string"==typeof b&&h.test(b)?b.match(h)[1]:(0,r.mapObject)(a,function(h,g){return c(a[g],b[g])})}return a}function q(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===
a?b:3&b|8).toString(16)})}Object.defineProperty(b,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},p=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],h=!0,g=!1,e=void 0;try{for(var d,n=a[Symbol.iterator]();!(h=(d=n.next()).done)&&(c.push(d.value),!b||c.length!==b);h=
!0);}catch(k){g=!0,e=k}finally{try{!h&&n["return"]&&n["return"]()}finally{if(g)throw e;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b["default"]=e;var h=(d=a(23))&&d.__esModule?d:{"default":d},r=a(4),n=a(21),t=a(42),w=a(43)},function(d,b,a){d.exports=a(24)["default"]},function(d,b,a){function k(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,
c)&&(b[c]=a[c]);return b["default"]=a,b}function g(){var a=new q.HandlebarsEnvironment;return h.extend(a,q),a.SafeString=l["default"],a.Exception=p["default"],a.Utils=h,a.escapeExpression=h.escapeExpression,a.VM=r,a.template=function(b){return r.template(b,a)},a}b.__esModule=!0;var c=a(25),q=e(c),c=a(39),l=k(c),c=a(27),p=k(c),c=a(26),h=e(c),c=a(40),r=e(c);a=a(41);a=k(a);c=g();c.create=g;a["default"](c);c["default"]=c;b["default"]=c;d.exports=b["default"]},function(d,b,a){function k(a,b,h){this.helpers=
a||{};this.partials=b||{};this.decorators=h||{};c.registerDefaultHelpers(this);q.registerDefaultDecorators(this)}b.__esModule=!0;b.HandlebarsEnvironment=k;var e=a(26),g=(d=a(27))&&d.__esModule?d:{"default":d},c=a(28),q=a(36);a=(a=a(38))&&a.__esModule?a:{"default":a};b.VERSION="4.0.10";b.COMPILER_REVISION=7;b.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};k.prototype={constructor:k,logger:a["default"],log:a["default"].log,
registerHelper:function(a,b){if("[object Object]"===e.toString.call(a)){if(b)throw new g["default"]("Arg not supported with multiple helpers");e.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if("[object Object]"===e.toString.call(a))e.extend(this.partials,a);else{if("undefined"==typeof b)throw new g["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},
registerDecorator:function(a,b){if("[object Object]"===e.toString.call(a)){if(b)throw new g["default"]("Arg not supported with multiple decorators");e.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};b.log=a["default"].log;b.createFrame=e.createFrame;b.logger=a["default"]},function(d,b){function a(a){return e[a]}function k(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],
c)&&(a[c]=arguments[b][c]);return a}b.__esModule=!0;b.extend=k;b.indexOf=function(a,b){for(var c=0,g=a.length;c<g;c++)if(a[c]===b)return c;return-1};b.escapeExpression=function(b){if("string"!=typeof b){if(b&&b.toHTML)return b.toHTML();if(null==b)return"";if(!b)return b+"";b=""+b}return c.test(b)?b.replace(g,a):b};b.isEmpty=function(a){return!a&&0!==a||!(!p(a)||0!==a.length)};b.createFrame=function(a){var b=k({},a);return b._parent=a,b};b.blockParams=function(a,b){return a.path=b,a};b.appendContextPath=
function(a,b){return(a?a+".":"")+b};var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},g=/[&<>"'`=]/g,c=/[&<>"'`=]/,q=Object.prototype.toString;b.toString=q;var l=function(a){return"function"==typeof a};l(/x/)&&(b.isFunction=l=function(a){return"function"==typeof a&&"[object Function]"===q.call(a)});b.isFunction=l;var p=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===q.call(a)};b.isArray=p},function(d,b){function a(b,g){var c=
g&&g.loc,d=void 0,l=void 0;c&&(d=c.start.line,l=c.start.column,b+=" - "+d+":"+l);for(var p=Error.prototype.constructor.call(this,b),h=0;h<k.length;h++)this[k[h]]=p[k[h]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{c&&(this.lineNumber=d,Object.defineProperty?Object.defineProperty(this,"column",{value:l,enumerable:!0}):this.column=l)}catch(r){}}b.__esModule=!0;var k="description fileName lineNumber message name number stack".split(" ");a.prototype=Error();b["default"]=a;d.exports=b["default"]},
function(d,b,a){function k(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;b.registerDefaultHelpers=function(a){e["default"](a);g["default"](a);c["default"](a);q["default"](a);l["default"](a);p["default"](a);h["default"](a)};d=a(29);var e=k(d);d=a(30);var g=k(d);d=a(31);var c=k(d);d=a(32);var q=k(d);d=a(33);var l=k(d);d=a(34);var p=k(d);a=a(35);var h=k(a)},function(d,b,a){b.__esModule=!0;var k=a(26);b["default"]=function(a){a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse,
l=c.fn;if(!0===b)return l(this);if(!1===b||null==b)return d(this);if(k.isArray(b))return 0<b.length?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):d(this);c.data&&c.ids&&(d=k.createFrame(c.data),d.contextPath=k.appendContextPath(c.data.contextPath,c.name),c={data:d});return l(b,c)})};d.exports=b["default"]},function(d,b,a){b.__esModule=!0;var k=a(26),e=(a=a(27))&&a.__esModule?a:{"default":a};b["default"]=function(a){a.registerHelper("each",function(a,b){function d(b,h,f){t&&(t.key=b,t.index=h,t.first=
0===h,t.last=!!f,w&&(t.contextPath=w+b));n+=g(a[b],{data:t,blockParams:k.blockParams([a[b],b],[w+b,null])})}if(!b)throw new e["default"]("Must pass iterator to #each");var g=b.fn,h=b.inverse,r=0,n="",t=void 0,w=void 0;if(b.data&&b.ids&&(w=k.appendContextPath(b.data.contextPath,b.ids[0])+"."),k.isFunction(a)&&(a=a.call(this)),b.data&&(t=k.createFrame(b.data)),a&&"object"==typeof a)if(k.isArray(a))for(var u=a.length;r<u;r++)r in a&&d(r,r,r===a.length-1);else{var u=void 0,f;for(f in a)a.hasOwnProperty(f)&&
(void 0!==u&&d(u,r-1),u=f,r++);void 0!==u&&d(u,r-1,!0)}return 0===r&&(n=h(this)),n})};d.exports=b["default"]},function(d,b,a){b.__esModule=!0;var k=(a=a(27))&&a.__esModule?a:{"default":a};b["default"]=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new k["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');})};d.exports=b["default"]},function(d,b,a){b.__esModule=!0;var k=a(26);b["default"]=function(a){a.registerHelper("if",function(a,b){return k.isFunction(a)&&
(a=a.call(this)),!b.hash.includeZero&&!a||k.isEmpty(a)?b.inverse(this):b.fn(this)});a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})};d.exports=b["default"]},function(d,b){b.__esModule=!0;b["default"]=function(a){a.registerHelper("log",function(){for(var b=[void 0],d=arguments[arguments.length-1],g=0;g<arguments.length-1;g++)b.push(arguments[g]);g=1;null!=d.hash.level?g=d.hash.level:d.data&&null!=d.data.level&&(g=d.data.level);b[0]=
g;a.log.apply(a,b)})};d.exports=b["default"]},function(d,b){b.__esModule=!0;b["default"]=function(a){a.registerHelper("lookup",function(a,b){return a&&a[b]})};d.exports=b["default"]},function(d,b,a){b.__esModule=!0;var k=a(26);b["default"]=function(a){a.registerHelper("with",function(a,b){k.isFunction(a)&&(a=a.call(this));var d=b.fn;if(k.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=k.createFrame(b.data),e.contextPath=k.appendContextPath(b.data.contextPath,b.ids[0])),d(a,
{data:e,blockParams:k.blockParams([a],[e&&e.contextPath])})})};d.exports=b["default"]},function(d,b,a){b.__esModule=!0;b.registerDefaultDecorators=function(a){k["default"](a)};var k=(d=a(37))&&d.__esModule?d:{"default":d}},function(d,b,a){b.__esModule=!0;var k=a(26);b["default"]=function(a){a.registerDecorator("inline",function(a,b,d,e){var p=a;return b.partials||(b.partials={},p=function(h,e){var n=d.partials;d.partials=k.extend({},n,b.partials);var l=a(h,e);return d.partials=n,l}),b.partials[e.args[0]]=
e.fn,p})};d.exports=b["default"]},function(d,b,a){b.__esModule=!0;var k=a(26),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=k.indexOf(e.methodMap,a.toLowerCase());a=0<=b?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var d=arguments.length,k=Array(1<d?d-1:0),p=1;p<d;p++)k[p-1]=arguments[p];console[b].apply(console,
k)}}};b["default"]=e;d.exports=b["default"]},function(d,b){function a(a){this.string=a}b.__esModule=!0;a.prototype.toString=a.prototype.toHTML=function(){return""+this.string};b["default"]=a;d.exports=b["default"]},function(d,b,a){function k(a,b,d,e,g,k,f){function l(b){var c=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],g=f;return!f||b==f[0]||b===a.nullContext&&null===f[0]||(g=[b].concat(f)),d(a,b,a.helpers,a.partials,c.data||e,k&&[c.blockParams].concat(k),g)}return l=c(d,l,a,f,e,k),
l.program=b,l.depth=f?f.length:0,l.blockParams=g||0,l}function e(){return""}function g(a,b){return b&&"root"in b||(b=b?p.createFrame(b):{},b.root=a),b}function c(a,b,c,d,e,g){if(a.decorator){var f={};b=a.decorator(b,f,c,d&&d[0],e,g,d);q.extend(b,f)}return b}b.__esModule=!0;b.checkRevision=function(a){var b=a&&a[0]||1,c=p.COMPILER_REVISION;if(b!==c){if(b<c)throw new l["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+
p.REVISION_CHANGES[c]+") or downgrade your runtime to an older version ("+p.REVISION_CHANGES[b]+").");throw new l["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").");}};b.template=function(a,b){function d(b){function k(b){return""+a.main(e,b,e.helpers,e.partials,l,q,p)}var f=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],l=f.data;d._setup(f);!f.partial&&a.useData&&(l=g(b,l));var p=
void 0,q=a.useBlockParams?[]:void 0;return a.useDepths&&(p=f.depths?b!=f.depths[0]?[b].concat(f.depths):f.depths:[b]),(k=c(a.main,k,e,f.depths||[],l,q))(b,f)}if(!b)throw new l["default"]("No environment passed to template");if(!a||!a.main)throw new l["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d;b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new l["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,
d=0;d<c;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:q.escapeExpression,invokePartial:function(c,d,f){f.hash&&(d=q.extend({},d,f.hash),f.ids&&(f.ids[0]=!0));c=b.VM.resolvePartial.call(this,c,d,f);var e=b.VM.invokePartial.call(this,c,d,f);if(null==e&&b.compile&&(f.partials[f.name]=b.compile(c,a.compilerOptions,b),e=f.partials[f.name](d,f)),null!=e){if(f.indent){c=e.split("\n");d=0;for(e=c.length;d<e&&(c[d]||d+1!==e);d++)c[d]=
f.indent+c[d];e=c.join("\n")}return e}throw new l["default"]("The partial "+f.name+" could not be compiled when running in runtime-only mode");},fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,h){var e=this.programs[a],g=this.fn(a);return b||h||d||c?e=k(this,a,g,b,c,d,h):e||(e=this.programs[a]=k(this,a,g)),e},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=q.extend({},b,a)),c},nullContext:Object.seal({}),
noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials,e.decorators=c.decorators):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(e.decorators=e.merge(c.decorators,b.decorators)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new l["default"]("must pass block params");if(a.useDepths&&!g)throw new l["default"]("must pass parent depths");
return k(e,b,a[b],c,0,d,g)},d};b.wrapProgram=k;b.resolvePartial=function(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a};b.invokePartial=function(a,b,c){var d=c.data&&c.data["partial-block"];c.partial=!0;c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var g=void 0;if(c.fn&&c.fn!==e&&!function(){c.data=p.createFrame(c.data);var a=c.fn;g=c.data["partial-block"]=function(b){var c=1>=arguments.length||void 0===
arguments[1]?{}:arguments[1];return c.data=p.createFrame(c.data),c.data["partial-block"]=d,a(b,c)};a.partials&&(c.partials=q.extend({},c.partials,a.partials))}(),void 0===a&&g&&(a=g),void 0===a)throw new l["default"]("The partial "+c.name+" could not be found");if(a instanceof Function)return a(b,c)};b.noop=e;var q=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(a(26)),l=(d=a(27))&&d.__esModule?
d:{"default":d},p=a(25)},function(d,b){(function(a){b.__esModule=!0;b["default"]=function(b){var d="undefined"!=typeof a?a:window,g=d.Handlebars;b.noConflict=function(){return d.Handlebars===b&&(d.Handlebars=g),b}};d.exports=b["default"]}).call(b,function(){return this}())},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.addDataAttr=function(a,b,d){a=a.cloneNode(!0);return a.dataset[b]=d,a};b.parseHtml=function(a){return(a=(new DOMParser).parseFromString(a,"text/html").body.childNodes[0])?
document.importNode(a,!0):void 0}},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.reducePromise=function(a,b,d){return Promise.all(d).then(function(d){return d.reduce(a,b)})}},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});var k=a(15);d=(d=a(45))&&d.__esModule?d:{"default":d};var e=(a=a(14))&&a.__esModule?a:{"default":a},g=d["default"].loadImage;a=Backbone.View.extend({initialize:function(a){var b=this;this.store=a.store;this.viewState=new Backbone.ViewState({offset:0});
this.listenTo(this.store.getState(),"change:activeIndex",this.activeIndexChange);this.setElements();Object.defineProperty(this,"_offset",{value:0,writable:!0});Object.defineProperty(this,"offset",{get:function(){return b._offset},set:function(a){b._offset=Math.round(a);window.WSP.utils.has3DSupport()?b.$internalList.css({transform:"translate3d(-"+b._offset+"px, 0, 0)"}):b.$internalList.css({left:"-"+b._offset+"px"})}})},events:{"click .js_thumb":"thumbClick","click .js_nav_prev":"prevClick","click .js_nav_next":"nextClick",
"mouseenter .js_thumb":"thumbMouseEnter","mouseenter .js_nav_prev":"prevMouseEnter","mouseenter .js_nav_next":"nextMouseEnter"},thumbClick:function(a){a=(0,e["default"])(a.currentTarget).data("index");this.store.getState().set("activeIndex",a)},nextClick:function(){var a=this.store.getState().get("activeIndex");a>=this.collection.size()-1||(this.store.getState().set("activeIndex",a+1),this.preloadImageByIndex(a+2))},prevClick:function(){var a=this.store.getState().get("activeIndex");0>=a||(this.store.getState().set("activeIndex",
a-1),this.preloadImageByIndex(a-2))},thumbMouseEnter:function(a){a=(0,e["default"])(a.currentTarget).data("index");this.preloadImageByIndex(a)},prevMouseEnter:function(){var a=this.store.getState().get("activeIndex");this.preloadImageByIndex(a-1)},nextMouseEnter:function(){var a=this.store.getState().get("activeIndex");this.preloadImageByIndex(a+1)},preloadImageByIndex:function(a){0>a||a>this.collection.size()-1||this.collection.findByIndex(a,function(a){a&&g(a.get("fullimage"))})},getThumbsList:function(){var a=
this.store.getState().get("activeIndex");return this.collection.map(function(a){return function(b){return{thumbnail:b.get("thumbnail"),index:b.get("index"),isActive:a===b.get("index")}}}(a))},activeIndexChange:function(){this.updateLiveComponents();var a=this.store.getState().get("activeIndex");this.preloadImageByIndex(a)},hasScroll:function(){return 4<this.collection.size()},isScrollerEnabled:function(){return void 0===this._isScrollerEnabled&&Object.defineProperty(this,"_isScrollerEnabled",{value:"CSS"in
window&&"supports"in window.CSS&&window.CSS.supports("pointer-events","none")}),this._isScrollerEnabled},updateLiveComponents:function(){var a=this.store.getState().get("activeIndex"),b=this.$(".is-active"),d=this.$("[data-index="+a+"]"),e=a===this.collection.size()-1,a=0===a,h=this.viewState.get("lastOffsetVertical")||0,g=d.position().left,k=this.$list.width(),t=d.outerWidth(),w=0;this.hasScroll()&&(w=g+t>k+h?g+4+t-k:g<h?g:h,this.viewState.set("lastOffsetVertical",w,{silent:!0}),this.offset=w);b.removeClass("is-active");
d.addClass("is-active");this.$navNext.toggleClass("nav--disabled",e);this.$navPrev.toggleClass("nav--disabled",a);this.updateScroller(d)},updateScroller:function(a){if(this.$scroller){var b=a.position().top;this.$scroller.css({transform:"translate3d("+a.position().left+"px, "+b+"px, 0)",width:a.width()+"px",height:a.height()+"px"})}},getTemplateData:function(){var a=this.store.getState().get("activeIndex");return{templateKey:"pdp_image:thumbs:v1:thumbs",images:this.getThumbsList(),nextEnabled:a!==
this.collection.size()-1,previousEnabled:0!==a}},setElements:function(){this.$internalList=this.$el.find(".js_thumbs_list_ul");this.$list=this.$(".js_list");this.$navPrev=this.$(".js_nav_prev");this.$navNext=this.$(".js_nav_next");this.isScrollerEnabled()&&(this.$scroller=(0,e["default"])('<div class="product-image__thumb-scroller" />').appendTo(this.$internalList),this.$scroller.css("transition-duration","0s"),this.updateScroller(this.$(".is-active")),this.$scroller.css("transition-duration",""),
this.$internalList.addClass("product-image__thumb-list--has-scroller"))},render:function(){var a=this;(0,k.render)(this.getTemplateData()).then(function(b){a.$el.html(b.html);a.setElements();a.updateLiveComponents()})}});b["default"]=a},function(d,b,a){(function(d){Object.defineProperty(b,"__esModule",{value:!0});var e=a(14),g=e&&e.__esModule?e:{"default":e},c={},q={};b["default"]={gatherImageDimensions:function(a){var b=new g["default"].Deferred;return window.WSP.utils.isPresent(q[a])?b.resolve(d.clone(q[a])):
this.loadImage(a).done(function(c){q[a]=c;b.resolve(c)}),b},loadImage:function(a){var b=new g["default"].Deferred,d=new Image,e=void 0;return window.WSP.utils.isPresent(c[a])?(b.resolve(c[a]),b):(d.onload=function(){e={width:d.width,height:d.height};c[a]=e;b.resolve(e)},d.src=a,d.complete&&(e={width:d.width,height:d.height},c[a]=e,b.resolve(e)),b)}}}).call(b,a(4))}]);!function(l){function m(n){if(f[n])return f[n].exports;var g=f[n]={exports:{},id:n,loaded:!1};return l[n].call(g.exports,g,g.exports,m),g.loaded=!0,g.exports}var f={};return m.m=l,m.c=f,m.p="/static/",m(0)}([function(l,m,f){l.exports=f(1)},function(l,m,f){var n=(l=f(2))&&l.__esModule?l:{"default":l},g=(f=f(11))&&f.__esModule?f:{"default":f};window.makeFullscreenZoom=function(e){e.store=new g["default"](e.store);new n["default"](e)}},function(l,m,f){Object.defineProperty(m,"__esModule",{value:!0});
var n=(l=f(3))&&l.__esModule?l:{"default":l},g=(f=f(4))&&f.__esModule?f:{"default":f};m["default"]=function(e){function f(a){if("number"!=typeof a||null===a||0>a)return!1;c.getState().set("activeIndex",a);return!!c.getImagesCollection().findActiveImage()&&(p||(p=new g["default"]({fullscreenZoom:l,store:c})),!0)}function k(a){var e=c.getImagesCollection().find(function(c){return-1<c.get("xl").indexOf(a)});return f(e?c.getImagesCollection().indexOf(e):0)}function m(a){var c=(0,n["default"])(a.currentTarget).attr("data-zoom-src");
return c?k(c):(0,n["default"])(a.currentTarget).attr("src")}var c=e.store,p=void 0,l=this;(function(a,c){c?a.on("click",c,m.bind(this)):a.on("click",f.bind(this,0))})(e.el,e.clickSelector);this.kill=function(){p&&(p.remove(),p=null)}}},function(l,m){l.exports=jQuery},function(l,m,f){(function(l){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(m,"__esModule",{value:!0});var e=f(6),t=g(e),e=f(3),k=g(e),e=f(7),q=g(e),e=f(10),c=g(e),p=t["default"].getTemplate,G=t["default"].isCSSAnimated,
e=Backbone.View.extend({initialize:function(a){this.fullscreenZoom=a.fullscreenZoom;this.store=a.store;a=this.store.getImagesCollection();this.render();this.determineWindowProperties();this.thumbsList=new c["default"]({store:this.store,el:this.$el.find(".js_thumbs_list"),collection:a});this.zoomedImage=new q["default"]({store:this.store,el:this.$el.find(".js_zoomed_image_container"),collection:a});this.updateFullscreenComponents();this.bindOutsideContextEvents()},bindOutsideContextEvents:function(){this.store.getState().on("change:fullscreen",
this.fullscreenChange,this);l.bindAll(this,"windowResize","windowKeydown");this.$el.on("click",this.wrapperClick.bind(this)).on("click",".js_close_button",this.closeClick.bind(this));(0,k["default"])(window).on("resize.fullscreen_popup_view",this.windowResize.bind(this)).on("keydown.fullscreen_popup_view",this.windowKeydown.bind(this));(0,k["default"])(document).on("mousewheel.fullscreen_popup_view",function(a){return a.preventDefault(),!1}).on("touchmove.fullscreen_popup_view",function(a){a.preventDefault()})},
unbindOutsideContextEvents:function(){this.store.getState().off(null,null,this);(0,k["default"])(window).off(".fullscreen_popup_view");(0,k["default"])(document).off(".fullscreen_popup_view")},determineWindowProperties:function(){this.store.getState().set({windowWidth:window.innerWidth||(0,k["default"])(window).width(),windowHeight:window.innerHeight||(0,k["default"])(window).height(),docWidth:(0,k["default"])(document).width(),docHeight:(0,k["default"])(document).height(),fullscreen:window.WSP.utils.touchSupported()})},
wrapperClick:function(a){(0,k["default"])(a.target).is(this.$el)&&this.fullscreenZoom.kill()},closeClick:function(a){this.fullscreenZoom.kill();a.preventDefault();a.stopPropagation()},windowResize:function(){this.determineWindowProperties();this.removeZoomedImage();this.updateFullscreenComponents()},windowKeydown:function(a){27===a.keyCode?this.fullscreenZoom.kill():38===a.keyCode||37===a.keyCode?(this.prevImage(),a.preventDefault()):40!==a.keyCode&&39!==a.keyCode||(this.nextImage(),a.preventDefault())},
fullscreenChange:function(){this.updateFullscreenComponents()},toggleModalState:function(a){var c=this.store.getState().get("fullscreen");(0,k["default"])(document.body).toggleClass("modal--is-open modal--is-open-full",c&&a)},remove:function(){this.toggleModalState(!1);var a=(0,k["default"])(document.body),c=(0,k["default"])("html");(a.add(c).css("overflow",""),G())?(this.$el.one("animationend webkitAnimationEnd transitionend webkitTransitionEnd",this.destroy.bind(this)),setTimeout(this.$el.trigger.bind(this.$el,
"animationend"),400)):this.destroy()},destroy:function(){this.unbindOutsideContextEvents();this.thumbsList.destroy();this.zoomedImage.destroy();this.$el.remove()},nextImage:function(){var a=this.store.getState().get("activeIndex");a!==this.store.getImagesCollection().size()-1&&this.store.getState().set("activeIndex",a+1)},prevImage:function(){var a=this.store.getState().get("activeIndex");0!==a&&this.store.getState().set("activeIndex",a-1)},removeZoomedImage:function(){this.zoomedImage.removeZoomedImage()},
updateFullscreenComponents:function(){var a=this.store.getState().get("fullscreen");this.$el.find("> div").toggleClass("fill-full",a);this.$el.toggleClass("modal modal--full",a);this.toggleModalState(!0);t["default"].isNavigationHorizontal()?this.$el.addClass("nav--horizontal"):this.$el.removeClass("nav--horizontal");this.thumbsList&&this.thumbsList.render()},render:function(){var a=(0,k["default"])(document.body),c=(0,k["default"])("html");a.add(c).css("overflow","hidden");this.toggleModalState(!0);
this.$el=(0,k["default"])('<div class="fullscreen-zoom-wrapper" />');this.$el.html(p("fullscreen_zoom")({isMultipleImages:1<this.store.getImagesCollection().size(),headerImgUrl:this.store.getHeaderModel().get("productImgUrl"),headerTitle:this.store.getHeaderModel().get("productTitle")}));this.$el.appendTo(a)}});m["default"]=e}).call(m,f(5))},function(l,m){l.exports=_},function(l,m,f){(function(l){function g(c){return window.setTimeout(c,1E3/30)}Object.defineProperty(m,"__esModule",{value:!0});var e=
f(3),t=e&&e.__esModule?e:{"default":e},k={},q={getTemplate:function(c){return window.WSP.core.require("com.bol.template").Template.template(c)},isCSSAnimated:function(){var c=document.querySelector(".modal");return!!c&&-1!==window.getComputedStyle(c,":before").getPropertyValue("content").indexOf("animated")},requestAnimFrame:function(c){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||g)(c)},getScreenDimensions:function(){return{width:0<window.innerWidth?
window.innerWidth:screen.width,height:0<window.innerHeight?window.innerHeight:screen.height}},isNavigationHorizontal:function(){var c=q.getScreenDimensions();return c.width<c.height},loadImage:function(c){function e(){k={};Object.defineProperties(k,{height:{enumerable:!0,value:a.naturalHeight||a.height},width:{enumerable:!0,value:a.naturalWidth||a.width}});f.resolve(k)}var f=new t["default"].Deferred,a=new Image,k=void 0;return a.onload=function(){e()},a.src=c,a.complete&&e(),f},gatherImageDimensions:function(c){var e=
new t["default"].Deferred;return window.WSP.utils.isPresent(k[c])?e.resolve(l.clone(k[c])):q.loadImage(c).done(function(f){k[c]=f;e.resolve(f)}),e},getCalculatedDimensions:function(c,e,f){var a=c.getState().get("windowWidth");c=c.getState().get("windowHeight");return e||(a*=.9,c*=.9),f&&(q.isNavigationHorizontal()?c-=160:a-=160,window.WSP.utils.deviceProfile.matchBreakpoint("medium")||(c-=60)),{width:a,height:c}}};m["default"]=q}).call(m,f(5))},function(l,m,f){(function(l){function g(u){return u&&
u.__esModule?u:{"default":u}}Object.defineProperty(m,"__esModule",{value:!0});var e=f(6),e=g(e),t=f(3),k=g(t),t=f(8),q=g(t),c=e["default"].getTemplate,p=e["default"].requestAnimFrame,G=e["default"].getCalculatedDimensions,a=e["default"].gatherImageDimensions,E=window.WSP.utils.touchSupported(),M=function(u,a){return Math.max(Math.min(0,u),-a)},e=Backbone.View.extend({initialize:function(u){this.store=u.store;u=this.store.getState().get("fullscreen");var a=1<this.store.getImagesCollection().size();
this.viewState=new Backbone.ViewState({containerDimensions:G(this.store,u,a),zoomActive:!1,customDimensions:!1,preventcontainerClick:!1,positions:{X:0,Y:0},imgDimensions:null,fixedPositions:null,originPositions:null,overlapX:0,overlapY:0,__dirty:!1,__destroyed:!1});this.bindEvents();this.getImageDimensions();p(this.draw)},bindEvents:function(){l.bindAll(this,"draw","imageTouchmove","imageTouchstart","imageMousemove","imageTouchend","activeIndexChange","onDimensionsReady","containerClick","render",
"windowResize","windowOrientationChange");E?(0,k["default"])(document).on("touchstart.fullscreen_zoomed_image",this.imageTouchstart).on("touchmove.fullscreen_zoomed_image",this.imageTouchmove).on("touchend.fullscreen_zoomed_image",this.imageTouchend):(0,k["default"])(document).on("mousemove.fullscreen_zoomed_image",this.imageMousemove);this.$el.on("click",this.containerClick);this.viewState.on("change:imageDimensionsKnown",this.render);(0,k["default"])(window).on("resize.fullscreen_zoomed_image",
this.windowResize).on("orientationchange.fullscreen_zoomed_image",this.windowOrientationChange);this.store.getState().on("change:activeIndex",this.activeIndexChange,this)},destroy:function(){(0,k["default"])(document).off(".fullscreen_zoomed_image");(0,k["default"])(window).off(".fullscreen_zoomed_image");this.viewState.set("__destroyed",!0);this.store.getState().off(null,null,this);this.$el.remove()},containerClick:function(a){this.isZoomAllowed()&&(this.viewState.get("preventcontainerClick")||(this.viewState.get("zoomActive")?
(this.removeZoomedImage(),this.panView&&this.panView.bindEvents()):(this.createZoomedImage(a.pageX,a.pageY),this.panView&&this.panView.unbindEvents())))},imageMousemove:function(a){this.setPositions(a.pageX,a.pageY)},imageTouchstart:function(a){if(1<a.originalEvent.touches.length&&(a.preventDefault(),this.viewState.set("scale",1)),this.viewState.get("zoomActive")){var c=parseInt(a.originalEvent.changedTouches[0].pageX,10);a=parseInt(a.originalEvent.changedTouches[0].pageY,10);this.viewState.set("originPositions",
{X:c,Y:a})}},imageTouchmove:function(a){if(1<a.originalEvent.touches.length&&(a.preventDefault(),this.viewState.set("scale",a.originalEvent.scale)),this.viewState.get("zoomActive")){a.preventDefault();var c=parseInt(a.originalEvent.changedTouches[0].pageX,10);a=parseInt(a.originalEvent.changedTouches[0].pageY,10);var e=this.viewState.get("originPositions"),f=this.viewState.get("fixedPositions"),k=e.Y-a,e={X:M(f.X-(e.X-c),this.viewState.get("overlapX")),Y:M(f.Y-k,this.viewState.get("overlapY"))};this.viewState.set({fixedPositions:e,
originPositions:{X:c,Y:a},preventcontainerClick:!0},{silent:!0});this.setPositions(c,a)}},imageTouchend:function(){var a=this.viewState.get("resetTimeout");a&&clearTimeout(a);a=l.bind(function(){this.viewState.set("preventcontainerClick",!1,{silent:!0})},this);a=l.delay(a,500);this.viewState.set("resetTimeout",a)},activeIndexChange:function(){this.removeZoomedImage();this.viewState.set({imageDimensionsKnown:!1});this.getImageDimensions()},windowResize:function(){var a=this.store.getState().get("fullscreen"),
c=1<this.store.getImagesCollection().size();this.viewState.get("zoomActive")||this.removeZoomedImage();this.viewState.set({containerDimensions:G(this.store,a,c),zoomActive:!1})},windowOrientationChange:function(){this.viewState.set({imageDimensionsKnown:!1},{silent:!0});this.getImageDimensions()},getImageDimensions:function(){var c=this,e=this.store.getImagesCollection().findActiveImage().get("xl");a(e).done(function(a){c.onDimensionsReady(a)})},onDimensionsReady:function(a){this.recalculateDimensionProperties(a)},
recalculateDimensionProperties:function(a){var c=l.extend({},a),e=this.viewState.get("containerDimensions"),f=this.viewState.get("customDimensions"),k=c.width-e.width,g=c.height-e.height,m=!1,p=this.magnificationFactor(a,e);1!==p&&(k=Math.min(1.5,p),c.width=a.width*k,c.height=a.height*k,k=c.width-e.width,g=c.height-e.height,m=!0);this.viewState.set({imageDimensionsKnown:!0,imgDimensions:c,originalDimensions:a,customDimensions:m,overlapX:k,overlapY:g,fixedPositions:{X:-(.5*k),Y:-(.5*g)},__dirty:!0});
f!==m&&this.render()},magnificationFactor:function(a,c){return window.innerHeight&&this.store.getState().get("fullscreen")?a?Math.min(1.5,2*c.width/a.width):1.5:1},createZoomedImage:function(a,c){var e=this.$el.parent();this.$el.find("> div").css("background-image","none");e.addClass("has-zoomed-image");this.viewState.set({offset:this.$el.offset(),positions:{X:a,Y:c},zoomActive:!0});e=this.viewState.getAttributes();this.recalculateDimensionProperties(e.originalDimensions);E?this.drawForTouch(e):this.drawForMouse(e);
this.$zoomImage.show()},removeZoomedImage:function(){this.viewState.getAttributes().zoomActive&&(this.$el.parent().removeClass("has-zoomed-image"),this.viewState.set({zoomActive:!1}),this.render())},drawForMouse:function(a){var c=void 0,e=void 0,f=void 0,k=void 0,g=void 0,l=void 0,m=void 0;a.containerDimensions.width<a.imgDimensions.width?(c=a.positions.X-a.offset.left,f=100/a.containerDimensions.width*c,g=a.overlapX+60,g=30+-(g/100*f)):(g=a.containerDimensions.width-a.imgDimensions.width,g/=2);a.containerDimensions.height<
a.imgDimensions.height?(e=a.positions.Y-a.offset.top,k=100/a.containerDimensions.height*e,l=a.overlapY+60,l=30+-(l/100*k)):(l=a.containerDimensions.height-a.imgDimensions.height,l/=2);window.WSP.utils.has3DSupport()?(m="translate3d("+g+"px, "+l+"px, 0)",this.$zoomImage.css({transform:m})):this.$zoomImage.css({top:l+"px",left:g+"px"})},drawForTouch:function(a){var c=a.fixedPositions.X;a=a.fixedPositions.Y;window.WSP.utils.has3DSupport()?this.$zoomImage.css({transform:"translate3d("+c+"px, "+a+"px, 0)"}):
this.$zoomImage.css({top:a+"px",left:c+"px"})},draw:function(){var a=this.viewState.getAttributes();a.__destroyed||(a.imageDimensionsKnown&&a.zoomActive&&a.__dirty&&(E?this.drawForTouch(a):this.drawForMouse(a),this.viewState.set("__dirty",!1,{silent:!0})),p(this.draw))},isZoomAllowed:function(){var a=!1,c=this.viewState.getAttributes();return 1<Math.max(c.imgDimensions.height/c.containerDimensions.height,c.imgDimensions.width/c.containerDimensions.width)&&(a=!0),a||this.store.getState().get("fullscreen")},
setPositions:function(a,c){this.viewState.set({positions:{X:a,Y:c},__dirty:!0})},getTemplateData:function(){var a=this.viewState.getAttributes(),c=this.store.getImagesCollection().findActiveImage();return l.extend(a,{showZoom:this.isZoomAllowed(),zoomImageUrl:c.get("xl")})},render:function(){this.$el.html(c("fullscreen_zoom.zoom_image")(this.getTemplateData()));this.$zoomImage=this.$el.find(".js_zoomed_image");1<this.store.getImagesCollection().size()&&E&&(this.panView?(this.panView.setElement(this.el),
this.panView.render()):this.panView=new q["default"]({collection:this.collection,el:this.el,store:this.store}))}});m["default"]=e}).call(m,f(5))},function(l,m,f){Object.defineProperty(m,"__esModule",{value:!0});var n=(l=f(9))&&l.__esModule?l:{"default":l};f=f(6);var g=(f&&f.__esModule?f:{"default":f})["default"].getTemplate;f=Backbone.View.extend({initialize:function(e){this.store=e.store;this.bindEvents();this.render()},bindEvents:function(){var e=this;this.hammer=new n["default"].Manager(this.el);
this.hammer.add(new n["default"].Pan({direction:n["default"].DIRECTION_HORIZONTAL}));this.hammer.on("panstart panmove panend pancancel",function(f){return e.handlePan(f)})},unbindEvents:function(){this.hammer.destroy()},animate:function(e){var f=this;return function(){f.$(".js_fullscreen_zoom_pan_item").removeClass("is-panning").css("transform","translate3d("+e+"px, 0, 0)");f.isPanning=!1}},animateTo:function(e){this.$(".js_fullscreen_zoom_pan_item").addClass("is-panning").css("transform","translate3d("+
100*e+"%, 0, 0)")},handlePan:function(e){var f=this;if(this.isPanning||(this.currentAnimationFrame=requestAnimationFrame(this.animate(e.deltaX))),this.isPanning=!0,"panend"===e.type||"pancancel"===e.type){var k=100/this.$el.width()*e.deltaX;if(cancelAnimationFrame(this.currentAnimationFrame),this.isPanning=!1,"panend"===e.type&&15<Math.abs(k)){var g=this.store.getState().get("activeIndex");this.$(".js_fullscreen_zoom_pan_item").first().on("transitionend",function(){f.store.getState().set("activeIndex",
0>k?Math.min(f.collection.size()-1,g+1):Math.max(0,g-1))});0>g-1&&0<k||g+1>=this.collection.size()&&0>k?this.animateTo(0):this.animateTo(0>k?-1:1)}else this.animateTo(0)}},render:function(){var e=this.collection.size(),f=this.store.getState().get("activeIndex"),e=f<e-1,k=0<f;return this.$el.append(g("fullscreen_zoom.pansiblings")({next:e?this.collection.findByIndex(f+1).toJSON():null,prev:k?this.collection.findByIndex(f-1).toJSON():null})),this}});m["default"]=f},function(l,m,f){var n;!function(g,
e,t,k){function q(b,h,d){return setTimeout(E(b,d),h)}function c(b,h,d){return!!Array.isArray(b)&&(p(b,d[h],d),!0)}function p(b,h,d){var a;if(b)if(b.forEach)b.forEach(h,d);else if(b.length!==k)for(a=0;a<b.length;)h.call(d,b[a],a,b),a++;else for(a in b)b.hasOwnProperty(a)&&h.call(d,b[a],a,b)}function G(b,h,d){var a="DEPRECATED METHOD: "+h+"\n"+d+" AT \n";return function(){var h=Error("get-stack-trace"),h=h&&h.stack?h.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,
"{anonymous}()@"):"Unknown Stack Trace",d=g.console&&(g.console.warn||g.console.log);return d&&d.call(g.console,a,h),b.apply(this,arguments)}}function a(b,h,d){var a=h.prototype;h=b.prototype=Object.create(a);h.constructor=b;h._super=a;d&&B(h,d)}function E(b,h){return function(){return b.apply(h,arguments)}}function M(b,h){return typeof b==Ra?b.apply(h?h[0]||k:k,h):b}function u(b,h,d){p(Y(h),function(h){b.addEventListener(h,d,!1)})}function X(b,h,d){p(Y(h),function(h){b.removeEventListener(h,d,!1)})}
function wa(b,h){for(;b;){if(b==h)return!0;b=b.parentNode}return!1}function Y(b){return b.trim().split(/\s+/g)}function N(b,h,d){if(b.indexOf&&!d)return b.indexOf(h);for(var a=0;a<b.length;){if(d&&b[a][d]==h||!d&&b[a]===h)return a;a++}return-1}function Z(b){return Array.prototype.slice.call(b,0)}function xa(b,h,d){for(var a=[],c=[],e=0;e<b.length;){var f=h?b[e][h]:b[e];0>N(c,f)&&a.push(b[e]);c[e]=f;e++}return d&&(a=h?a.sort(function(b,d){return b[h]>d[h]}):a.sort()),a}function aa(b,h){for(var d,a,
c=h[0].toUpperCase()+h.slice(1),e=0;e<ya.length;){if(d=ya[e],a=d?d+c:h,a in b)return a;e++}return k}function za(b){b=b.ownerDocument||b;return b.defaultView||b.parentWindow||g}function x(b,h){var d=this;this.manager=b;this.callback=h;this.element=b.element;this.target=b.options.inputTarget;this.domHandler=function(h){M(b.options.enable,[b])&&d.handler(h)};this.init()}function Sa(b){var h=b.options.inputClass;return new (h?h:Ta?la:Ua?ba:Aa?ma:ca)(b,Va)}function Va(b,h,d){var a,c,e=d.pointers.length;
a=d.changedPointers.length;var f=h&v&&0===e-a,e=h&(r|w)&&0===e-a;d.isFirst=!!f;d.isFinal=!!e;f&&(b.session={});d.eventType=h;h=b.session;f=d.pointers;e=f.length;h.firstInput||(h.firstInput=Ba(d));1<e&&!h.firstMultiple?h.firstMultiple=Ba(d):1===e&&(h.firstMultiple=!1);a=h.firstInput;c=(e=h.firstMultiple)?e.center:a.center;var g=d.center=Ca(f);d.timeStamp=na();d.deltaTime=d.timeStamp-a.timeStamp;d.angle=oa(c,g);d.distance=da(c,g);a=d.center;c=h.offsetDelta||{};var g=h.prevDelta||{},l=h.prevInput||{};
d.eventType!==v&&l.eventType!==r||(g=h.prevDelta={x:l.deltaX||0,y:l.deltaY||0},c=h.offsetDelta={x:a.x,y:a.y});d.deltaX=g.x+(a.x-c.x);d.deltaY=g.y+(a.y-c.y);d.offsetDirection=Da(d.deltaX,d.deltaY);c=d.deltaTime;a=d.deltaX/c||0;c=d.deltaY/c||0;d.overallVelocityX=a;d.overallVelocityY=c;d.overallVelocity=H(a)>H(c)?a:c;e?(a=e.pointers,a=da(f[0],f[1],ea)/da(a[0],a[1],ea)):a=1;d.scale=a;e?(e=e.pointers,f=oa(f[1],f[0],ea)+oa(e[1],e[0],ea)):f=0;d.rotation=f;d.maxPointers=h.prevInput?d.pointers.length>h.prevInput.maxPointers?
d.pointers.length:h.prevInput.maxPointers:d.pointers.length;c=h.lastInterval||d;f=d.timeStamp-c.timeStamp;d.eventType!=w&&(f>Wa||c.velocity===k)?(a=d.deltaX-c.deltaX,c=d.deltaY-c.deltaY,g=a/f||0,l=c/f||0,f=g,e=l,g=H(g)>H(l)?g:l,a=Da(a,c),h.lastInterval=d):(g=c.velocity,f=c.velocityX,e=c.velocityY,a=c.direction);d.velocity=g;d.velocityX=f;d.velocityY=e;d.direction=a;h=b.element;wa(d.srcEvent.target,h)&&(h=d.srcEvent.target);d.target=h;b.emit("hammer.input",d);b.recognize(d);b.session.prevInput=d}function Ba(b){for(var h=
[],a=0;a<b.pointers.length;)h[a]={clientX:O(b.pointers[a].clientX),clientY:O(b.pointers[a].clientY)},a++;return{timeStamp:na(),pointers:h,center:Ca(h),deltaX:b.deltaX,deltaY:b.deltaY}}function Ca(b){var h=b.length;if(1===h)return{x:O(b[0].clientX),y:O(b[0].clientY)};for(var a=0,c=0,e=0;e<h;)a+=b[e].clientX,c+=b[e].clientY,e++;return{x:O(a/h),y:O(c/h)}}function Da(b,a){return b===a?fa:H(b)>=H(a)?0>b?Q:R:0>a?S:T}function da(b,a,d){d||(d=Ea);var c=a[d[0]]-b[d[0]];b=a[d[1]]-b[d[1]];return Math.sqrt(c*
c+b*b)}function oa(b,a,d){d||(d=Ea);return 180*Math.atan2(a[d[1]]-b[d[1]],a[d[0]]-b[d[0]])/Math.PI}function ca(){this.evEl=Xa;this.evWin=Ya;this.pressed=!1;x.apply(this,arguments)}function la(){this.evEl=Fa;this.evWin=Ga;x.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function Ha(){this.evTarget=Za;this.evWin=$a;this.started=!1;x.apply(this,arguments)}function ba(){this.evTarget=ab;this.targetIds={};x.apply(this,arguments)}function bb(b,a){var d=Z(b.touches),c=this.targetIds;
if(a&(v|I)&&1===d.length)return c[d[0].identifier]=!0,[d,d];var e,f=Z(b.changedTouches),g=[],k=this.target;if(e=d.filter(function(b){return wa(b.target,k)}),a===v)for(d=0;d<e.length;)c[e[d].identifier]=!0,d++;for(d=0;d<f.length;)c[f[d].identifier]&&g.push(f[d]),a&(r|w)&&delete c[f[d].identifier],d++;return g.length?[xa(e.concat(g),"identifier",!0),g]:void 0}function ma(){x.apply(this,arguments);var b=E(this.handler,this);this.touch=new ba(this.manager,b);this.mouse=new ca(this.manager,b);this.primaryTouch=
null;this.lastTouches=[]}function Ia(b){b=b.changedPointers[0];if(b.identifier===this.primaryTouch){var a={x:b.clientX,y:b.clientY};this.lastTouches.push(a);var d=this.lastTouches;setTimeout(function(){var b=d.indexOf(a);-1<b&&d.splice(b,1)},cb)}}function pa(b,a){this.manager=b;this.set(a)}function db(b){if(-1<b.indexOf(J))return J;var a=-1<b.indexOf(U),d=-1<b.indexOf(V);return a&&d?J:a||d?a?U:V:-1<b.indexOf(qa)?qa:Ja}function C(b){this.options=B({},this.defaults,b||{});this.id=eb++;this.manager=
null;b=this.options.enable;this.options.enable=b===k?!0:b;this.state=ga;this.simultaneous={};this.requireFail=[]}function Ka(b){return b&W?"cancel":b&F?"end":b&P?"move":b&y?"start":""}function La(b){return b==T?"down":b==S?"up":b==Q?"left":b==R?"right":""}function ha(b,a){var d=a.manager;return d?d.get(b):b}function z(){C.apply(this,arguments)}function ia(){z.apply(this,arguments);this.pY=this.pX=null}function ra(){z.apply(this,arguments)}function sa(){C.apply(this,arguments);this._input=this._timer=
null}function ta(){z.apply(this,arguments)}function ua(){z.apply(this,arguments)}function ja(){C.apply(this,arguments);this.pCenter=this.pTime=!1;this._input=this._timer=null;this.count=0}function K(b,a){a=a||{};var d=a.recognizers;return a.recognizers=d===k?K.defaults.preset:d,new va(b,a)}function va(b,a){this.options=B({},K.defaults,a||{});this.options.inputTarget=this.options.inputTarget||b;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=b;this.input=Sa(this);
this.touchAction=new pa(this,this.options.touchAction);Ma(this,!0);p(this.options.recognizers,function(b){var a=this.add(new b[0](b[1]));b[2]&&a.recognizeWith(b[2]);b[3]&&a.requireFailure(b[3])},this)}function Ma(b,a){var d=b.element;if(d.style){var c;p(b.options.cssProps,function(e,f){c=aa(d.style,f);a?(b.oldCssProps[c]=d.style[c],d.style[c]=e):d.style[c]=b.oldCssProps[c]||""});a||(b.oldCssProps={})}}function fb(b,a){var d=e.createEvent("Event");d.initEvent(b,!0,!0);d.gesture=a;a.target.dispatchEvent(d)}
var B,ya=" webkit Moz MS ms o".split(" "),gb=e.createElement("div"),Ra="function",O=Math.round,H=Math.abs,na=Date.now;B="function"!=typeof Object.assign?function(b){if(b===k||null===b)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(b),d=1;d<arguments.length;d++){var c=arguments[d];if(c!==k&&null!==c)for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])}return a}:Object.assign;var Na=G(function(b,a,d){for(var c=Object.keys(a),e=0;e<c.length;)(!d||d&&b[c[e]]===k)&&(b[c[e]]=
a[c[e]]),e++;return b},"extend","Use `assign`."),hb=G(function(b,a){return Na(b,a,!0)},"merge","Use `assign`."),eb=1,ib=/mobile|tablet|ip(ad|hone|od)|android/i,Aa="ontouchstart"in g,Ta=aa(g,"PointerEvent")!==k,Ua=Aa&&ib.test(navigator.userAgent),Wa=25,v=1,I=2,r=4,w=8,fa=1,Q=2,R=4,S=8,T=16,A=Q|R,L=S|T,Oa=A|L,Ea=["x","y"],ea=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&u(this.element,this.evEl,this.domHandler);this.evTarget&&u(this.target,this.evTarget,this.domHandler);
this.evWin&&u(za(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&X(this.element,this.evEl,this.domHandler);this.evTarget&&X(this.target,this.evTarget,this.domHandler);this.evWin&&X(za(this.element),this.evWin,this.domHandler)}};var jb={mousedown:v,mousemove:I,mouseup:r},Xa="mousedown",Ya="mousemove mouseup";a(ca,x,{handler:function(b){var a=jb[b.type];a&v&&0===b.button&&(this.pressed=!0);a&I&&1!==b.which&&(a=r);this.pressed&&(a&r&&(this.pressed=!1),this.callback(this.manager,
a,{pointers:[b],changedPointers:[b],pointerType:"mouse",srcEvent:b}))}});var kb={pointerdown:v,pointermove:I,pointerup:r,pointercancel:w,pointerout:w},lb={2:"touch",3:"pen",4:"mouse",5:"kinect"},Fa="pointerdown",Ga="pointermove pointerup pointercancel";g.MSPointerEvent&&!g.PointerEvent&&(Fa="MSPointerDown",Ga="MSPointerMove MSPointerUp MSPointerCancel");a(la,x,{handler:function(b){var a=this.store,d=!1,c=b.type.toLowerCase().replace("ms",""),c=kb[c],e=lb[b.pointerType]||b.pointerType,f="touch"==e,
g=N(a,b.pointerId,"pointerId");c&v&&(0===b.button||f)?0>g&&(a.push(b),g=a.length-1):c&(r|w)&&(d=!0);0>g||(a[g]=b,this.callback(this.manager,c,{pointers:a,changedPointers:[b],pointerType:e,srcEvent:b}),d&&a.splice(g,1))}});var mb={touchstart:v,touchmove:I,touchend:r,touchcancel:w},Za="touchstart",$a="touchstart touchmove touchend touchcancel";a(Ha,x,{handler:function(b){var a=mb[b.type];if(a===v&&(this.started=!0),this.started){var d,c=Z(b.touches);d=Z(b.changedTouches);d=(a&(r|w)&&(c=xa(c.concat(d),
"identifier",!0)),[c,d]);a&(r|w)&&0===d[0].length-d[1].length&&(this.started=!1);this.callback(this.manager,a,{pointers:d[0],changedPointers:d[1],pointerType:"touch",srcEvent:b})}}});var nb={touchstart:v,touchmove:I,touchend:r,touchcancel:w},ab="touchstart touchmove touchend touchcancel";a(ba,x,{handler:function(b){var a=nb[b.type],d=bb.call(this,b,a);d&&this.callback(this.manager,a,{pointers:d[0],changedPointers:d[1],pointerType:"touch",srcEvent:b})}});var cb=2500;a(ma,x,{handler:function(b,a,d){var c=
"touch"==d.pointerType,e="mouse"==d.pointerType;if(!(e&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(c)a&v?(this.primaryTouch=d.changedPointers[0].identifier,Ia.call(this,d)):a&(r|w)&&Ia.call(this,d);else{if(c=e)a:{for(var c=d.srcEvent.clientX,e=d.srcEvent.clientY,f=0;f<this.lastTouches.length;f++){var g=this.lastTouches[f],k=Math.abs(e-g.y);if(25>=Math.abs(c-g.x)&&25>=k){c=!0;break a}}c=!1}if(c)return}this.callback(b,a,d)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});
var Pa=aa(gb.style,"touchAction"),Qa=Pa!==k,Ja="auto",qa="manipulation",J="none",U="pan-x",V="pan-y",ka=function(){if(!Qa)return!1;var b={},a=g.CSS&&g.CSS.supports;return"auto;manipulation;pan-y;pan-x;pan-x pan-y;none".split(";").forEach(function(d){b[d]=!a||g.CSS.supports("touch-action",d)}),b}();pa.prototype={set:function(b){"compute"==b&&(b=this.compute());Qa&&this.manager.element.style&&ka[b]&&(this.manager.element.style[Pa]=b);this.actions=b.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},
compute:function(){var b=[];return p(this.manager.recognizers,function(a){M(a.options.enable,[a])&&(b=b.concat(a.getTouchAction()))}),db(b.join(" "))},preventDefaults:function(b){var a=b.srcEvent,d=b.offsetDirection;if(this.manager.session.prevented)return void a.preventDefault();var c=this.actions,e=-1<c.indexOf(J)&&!ka[J],f=-1<c.indexOf(V)&&!ka[V],c=-1<c.indexOf(U)&&!ka[U];if(e){var g=2>b.distance,k=250>b.deltaTime;if(1===b.pointers.length&&g&&k)return}return c&&f?void 0:e||f&&d&A||c&&d&L?this.preventSrc(a):
void 0},preventSrc:function(b){this.manager.session.prevented=!0;b.preventDefault()}};var ga=1,y=2,P=4,F=8,D=F,W=16;C.prototype={defaults:{},set:function(b){return B(this.options,b),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(b){if(c(b,"recognizeWith",this))return this;var a=this.simultaneous;return b=ha(b,this),a[b.id]||(a[b.id]=b,b.recognizeWith(this)),this},dropRecognizeWith:function(b){return c(b,"dropRecognizeWith",this)?this:(b=ha(b,this),delete this.simultaneous[b.id],
this)},requireFailure:function(b){if(c(b,"requireFailure",this))return this;var a=this.requireFail;return b=ha(b,this),-1===N(a,b)&&(a.push(b),b.requireFailure(this)),this},dropRequireFailure:function(b){if(c(b,"dropRequireFailure",this))return this;b=ha(b,this);b=N(this.requireFail,b);return-1<b&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(b){return!!this.simultaneous[b.id]},emit:function(b){function a(c){d.manager.emit(c,
b)}var d=this,c=this.state;c<F&&a(d.options.event+Ka(c));a(d.options.event);b.additionalEvent&&a(b.additionalEvent);c>=F&&a(d.options.event+Ka(c))},tryEmit:function(b){return this.canEmit()?this.emit(b):void(this.state=32)},canEmit:function(){for(var b=0;b<this.requireFail.length;){if(!(this.requireFail[b].state&(32|ga)))return!1;b++}return!0},recognize:function(b){b=B({},b);return M(this.options.enable,[this,b])?(this.state&(D|W|32)&&(this.state=ga),this.state=this.process(b),void(this.state&(y|
P|F|W)&&this.tryEmit(b))):(this.reset(),void(this.state=32))},process:function(b){},getTouchAction:function(){},reset:function(){}};a(z,C,{defaults:{pointers:1},attrTest:function(b){var a=this.options.pointers;return 0===a||b.pointers.length===a},process:function(b){var a=this.state,d=b.eventType,c=a&(y|P);b=this.attrTest(b);return c&&(d&w||!b)?a|W:c||b?d&r?a|F:a&y?a|P:y:32}});a(ia,z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Oa},getTouchAction:function(){var b=this.options.direction,
a=[];return b&A&&a.push(V),b&L&&a.push(U),a},directionTest:function(b){var a=this.options,c=!0,e=b.distance,f=b.direction,g=b.deltaX,k=b.deltaY;return f&a.direction||(a.direction&A?(f=0===g?fa:0>g?Q:R,c=g!=this.pX,e=Math.abs(b.deltaX)):(f=0===k?fa:0>k?S:T,c=k!=this.pY,e=Math.abs(b.deltaY))),b.direction=f,c&&e>a.threshold&&f&a.direction},attrTest:function(b){return z.prototype.attrTest.call(this,b)&&(this.state&y||!(this.state&y)&&this.directionTest(b))},emit:function(b){this.pX=b.deltaX;this.pY=b.deltaY;
var a=La(b.direction);a&&(b.additionalEvent=this.options.event+a);this._super.emit.call(this,b)}});a(ra,z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[J]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&y)},emit:function(b){1!==b.scale&&(b.additionalEvent=this.options.event+(1>b.scale?"in":"out"));this._super.emit.call(this,b)}});a(sa,C,{defaults:{event:"press",pointers:1,time:251,threshold:9},
getTouchAction:function(){return[Ja]},process:function(b){var a=this.options,c=b.pointers.length===a.pointers,e=b.distance<a.threshold,f=b.deltaTime>a.time;if(this._input=b,!e||!c||b.eventType&(r|w)&&!f)this.reset();else if(b.eventType&v)this.reset(),this._timer=q(function(){this.state=D;this.tryEmit()},a.time,this);else if(b.eventType&r)return D;return 32},reset:function(){clearTimeout(this._timer)},emit:function(b){this.state===D&&(b&&b.eventType&r?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=
na(),this.manager.emit(this.options.event,this._input)))}});a(ta,z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[J]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&y)}});a(ua,z,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:A|L,pointers:1},getTouchAction:function(){return ia.prototype.getTouchAction.call(this)},attrTest:function(b){var a,c=this.options.direction;return c&(A|L)?
a=b.overallVelocity:c&A?a=b.overallVelocityX:c&L&&(a=b.overallVelocityY),this._super.attrTest.call(this,b)&&c&b.offsetDirection&&b.distance>this.options.threshold&&b.maxPointers==this.options.pointers&&H(a)>this.options.velocity&&b.eventType&r},emit:function(b){var a=La(b.offsetDirection);a&&this.manager.emit(this.options.event+a,b);this.manager.emit(this.options.event,b)}});a(ja,C,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[qa]},
process:function(b){var a=this.options,c=b.pointers.length===a.pointers,e=b.distance<a.threshold,f=b.deltaTime<a.time;if(this.reset(),b.eventType&v&&0===this.count)return this.failTimeout();if(e&&f&&c){if(b.eventType!=r)return this.failTimeout();c=!this.pTime||b.timeStamp-this.pTime<a.interval;e=!this.pCenter||da(this.pCenter,b.center)<a.posThreshold;this.pTime=b.timeStamp;this.pCenter=b.center;e&&c?this.count+=1:this.count=1;this._input=b;if(0===this.count%a.taps)return this.hasRequireFailures()?
(this._timer=q(function(){this.state=D;this.tryEmit()},a.interval,this),y):D}return 32},failTimeout:function(){return this._timer=q(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==D&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});K.VERSION="2.0.7";K.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[ta,{enable:!1}],[ra,{enable:!1},
["rotate"]],[ua,{direction:A}],[ia,{direction:A},["swipe"]],[ja],[ja,{event:"doubletap",taps:2},["tap"]],[sa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};va.prototype={set:function(a){return B(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){var c=
this.session;if(!c.stopped){this.touchAction.preventDefaults(a);var d,e=this.recognizers,f=c.curRecognizer;(!f||f&&f.state&D)&&(f=c.curRecognizer=null);for(var g=0;g<e.length;)d=e[g],2===c.stopped||f&&d!=f&&!d.canRecognizeWith(f)?d.reset():d.recognize(a),!f&&d.state&(y|P|F)&&(f=c.curRecognizer=d),g++}},get:function(a){if(a instanceof C)return a;for(var c=this.recognizers,d=0;d<c.length;d++)if(c[d].options.event==a)return c[d];return null},add:function(a){if(c(a,"add",this))return this;var e=this.get(a.options.event);
return e&&this.remove(e),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(c(a,"remove",this))return this;if(a=this.get(a)){var e=this.recognizers;a=N(e,a);-1!==a&&(e.splice(a,1),this.touchAction.update())}return this},on:function(a,c){if(a!==k&&c!==k){var d=this.handlers;return p(Y(a),function(a){d[a]=d[a]||[];d[a].push(c)}),this}},off:function(a,c){if(a!==k){var d=this.handlers;return p(Y(a),function(a){c?d[a]&&d[a].splice(N(d[a],c),1):delete d[a]}),this}},
emit:function(a,c){this.options.domEvents&&fb(a,c);var d=this.handlers[a]&&this.handlers[a].slice();if(d&&d.length){c.type=a;c.preventDefault=function(){c.srcEvent.preventDefault()};for(var e=0;e<d.length;)d[e](c),e++}},destroy:function(){this.element&&Ma(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};B(K,{INPUT_START:v,INPUT_MOVE:I,INPUT_END:r,INPUT_CANCEL:w,STATE_POSSIBLE:ga,STATE_BEGAN:y,STATE_CHANGED:P,STATE_ENDED:F,STATE_RECOGNIZED:D,STATE_CANCELLED:W,STATE_FAILED:32,
DIRECTION_NONE:fa,DIRECTION_LEFT:Q,DIRECTION_RIGHT:R,DIRECTION_UP:S,DIRECTION_DOWN:T,DIRECTION_HORIZONTAL:A,DIRECTION_VERTICAL:L,DIRECTION_ALL:Oa,Manager:va,Input:x,TouchAction:pa,TouchInput:ba,MouseInput:ca,PointerEventInput:la,TouchMouseInput:ma,SingleTouchInput:Ha,Recognizer:C,AttrRecognizer:z,Tap:ja,Pan:ia,Swipe:ua,Pinch:ra,Rotate:ta,Press:sa,on:u,off:X,each:p,merge:hb,extend:Na,assign:B,inherit:a,bindFn:E,prefixed:aa});("undefined"!=typeof g?g:"undefined"!=typeof self?self:{}).Hammer=K;n=function(){return K}.call(m,
f,m,l);!(n!==k&&(l.exports=n))}(window,document,"Hammer")},function(l,m,f){(function(l){function g(c){return function(e,f){return{url:e.get("thumbnail"),isActive:c===f,index:f}}}Object.defineProperty(m,"__esModule",{value:!0});var e=f(6),t=e&&e.__esModule?e:{"default":e},k=(e=f(3))&&e.__esModule?e:{"default":e},q=t["default"].getTemplate,e=Backbone.View.extend({initialize:function(c){this.store=c.store;this.viewState=new Backbone.ViewState({offset:0,thumbsLoaded:!1});this.loadThumbs();this.store.getState().on("change:activeIndex",
this.activeIndexChange,this)},events:{"click .js_thumb":"thumbClick","click .js_nav_prev":"prevClick","click .js_nav_next":"nextClick"},destroy:function(){this.store.getState().off(null,null,this);this.$el.remove()},thumbClick:function(c){c=(0,k["default"])(c.currentTarget).data("index");this.store.getState().set("activeIndex",c)},nextClick:function(){var c=this.store.getState().get("activeIndex");c!==this.collection.size()-1&&this.store.getState().set("activeIndex",c+1)},prevClick:function(){var c=
this.store.getState().get("activeIndex");0!==c&&this.store.getState().set("activeIndex",c-1)},loadThumbs:function(){var c=this,e=[];return l(this.getThumbsList()).each(function(c){var a=new k["default"].Deferred;t["default"].loadImage(c.url).done(a.resolve);e.push(a)}),k["default"].when.apply(this,e).done(function(){c.viewState.set("thumbsLoaded",!0);c.isNavigationNeeded()&&c.$el.find(".js_nav_next, .js_nav_prev").show()})},isNavigationNeeded:function(){return!(2>this.collection.size())&&!!this.viewState.get("thumbsLoaded")&&
(t["default"].isNavigationHorizontal(),!0)},calculateOffset:function(c){var e=c.position().top;c=c.height();var f=this.$el.height();return e+c<f?e+c-f:0},getThumbsList:function(){var c=this.store.getState().get("activeIndex");return this.collection.map(g(c))},activeIndexChange:function(){this.updateLiveComponents()},updateLiveComponents:function(){var c=this.store.getState().get("activeIndex"),e=this.$el.find(".js_list"),f=this.$el.find(".is-active"),a=this.$el.find("[data-index="+c+"]"),g=this.$el.find(".js_nav_prev .chevron"),
k=this.$el.find(".js_nav_next .chevron"),l=c===this.collection.size()-1,c=0===c,m=0,m=void 0;if(t["default"].isNavigationHorizontal()){var n=a.position().left,e=e.width(),q=a.outerWidth(),m=this.viewState.get("lastOffsetHorizontal")||0,m=n+q>e+m?n+q-e:n<m?n:m;this.viewState.set("lastOffsetHorizontal",m,{silent:!0});window.WSP.utils.has3DSupport()?this.$internalList.css({transform:"translate3d(-"+m+"px, 0, 0)"}):this.$internalList.css({left:"-"+m+"px"})}else m=this.viewState.get("lastOffsetVertical")||
0,n=a.position().top,e=e.height(),q=a.outerHeight(),m=n+q>e+m?n+q-e:n<m?n:m,this.viewState.set("lastOffsetVertical",m,{silent:!0}),window.WSP.utils.has3DSupport()?this.$internalList.css({transform:"translate3d(0, -"+m+"px, 0)"}):this.$internalList.css({top:"-"+m+"px"});f.removeClass("is-active");a.addClass("is-active");l?k.addClass("chevron--disabled"):k.removeClass("chevron--disabled");c?g.addClass("chevron--disabled"):g.removeClass("chevron--disabled")},getTemplateData:function(){var c=this.store.getState().get("activeIndex"),
e=this.isNavigationNeeded(),f=t["default"].isNavigationHorizontal(),a=null;return f&&(a=131*(this.collection.size()+1)),{isNavigationNeeded:e,isNavigationHorizontal:f,thumbs:this.getThumbsList(),nextDisabled:c===this.collection.size()-1,previousDisabled:0===c,listWidth:a}},render:function(){this.$el.html(q("fullscreen_zoom.thumbs_list")(this.getTemplateData()));this.$internalList=this.$el.find(".js_thumbs_list_ul");1<this.collection.size()?this.$el.show():this.$el.hide();this.updateLiveComponents()}});
m["default"]=e}).call(m,f(5))},function(l,m){Object.defineProperty(m,"__esModule",{value:!0});m["default"]=function(f){var l=f.getState(),g=f.getImagesCollection(),e=f.getHeaderModel();this.getState=function(){return l};this.getImagesCollection=function(){return g};this.getHeaderModel=function(){return e}}}]);});
$RNWY.define("scroll-hint",function(){(function(c,b){var a=b(window),d=_.debounce(function(){window.requestAnimationFrame(a.trigger.bind(a,"resizeUpdate"))},150),e=_.debounce(function(){window.requestAnimationFrame(a.trigger.bind(a,"scrollUpdate"))},100);a.on("resize",d).on("scroll",e);c.createClass("ScrollHint",{$hint:void 0,$scroller:void 0,animationDuration:500,hideOffset:30,eventNamespace:".scrollHint",hideLabelOffset:50,hasHiddenLabel:!1,hintSelector:".js_scroll_hint",init:function(){this.$hint=b(this.hintSelector);this.$scroller=
b("html, body");this.setHideOffset();this.showHint();this.bindEvents();WSP.core.mediator.installTo(this)},bindEvents:function(){a.on("resizeUpdate"+this.eventNamespace,this.onResizeUpdate.bind(this)).on("scrollUpdate"+this.eventNamespace,this.onScrollUpdate.bind(this));this.$hint.on("click"+this.eventNamespace,this.onClick.bind(this))},destroy:function(){this.$hint.remove();this.$hint=void 0},hideHint:function(){this.isHidden||(this.$hint.off(this.eventNamespace).addClass("is-hidden"),a.off(this.eventNamespace),
setTimeout(this.destroy.bind(this),this.animationDuration+100),this.isHidden=!0)},hideLabel:function(){this.hasHiddenLabel||(this.$hint.addClass("has-hidden-label"),this.hasHiddenLabel=!0)},onClick:function(a){a=window.pageYOffset+.85*window.innerHeight;a>this.hideLabelOffset&&this.hideLabel();a>this.hideOffset&&this.hideHint();this.$scroller.animate({scrollTop:a},this.animationDuration)},onResizeUpdate:function(){this.setHideOffset()},onScrollUpdate:function(){!this.hasHiddenLabel&&window.pageYOffset>
this.hideLabelOffset&&this.hideLabel();window.pageYOffset>this.hideOffset&&this.hideHint()},setHideOffset:function(){this.hideOffset=Math.max(0,Math.round(document.body.scrollHeight-window.innerHeight-400))},showHint:function(){this.$hint.removeClass("is-hidden")}})})(WSP.core,jQuery);});
$RNWY.define("align-columns",function(){(function(F,B){function G(){if(d){var a=document.querySelector(".header-section--search.fixed, .js_main_header.is--pinned");a&&0===n?n=a.offsetHeight||a.clientHeight||B(a).outerHeight():a||(n=0);var a=24+n>>0,e=window.pageYOffset-C+a>>0,e=0<e?e<t?"fixed":"bottom":"default";if(e!==k||"fixed"===e&&u!==a)switch(e){case "fixed":b.style.top=a+"px";e!==k&&(b.style.position="fixed",b.style.removeProperty("transform"),b.style.setProperty("width",v+"px","important"),g&&(g.style.marginLeft=v+"px"));break;case "bottom":b.style.removeProperty("position");
b.style.removeProperty("top");b.style.removeProperty("width");b.style.transform="translateY("+t+"px)";g&&(g.style.marginLeft="");break;case "default":h(c),h(f)}k=e;u=a}w=!1;x&&l()}function h(a){D.forEach(function(b){a.style.removeProperty(b)})}function H(){var a=d;k=void 0;if(d=WSP.utils.deviceProfile.matchBreakpoint("medium"))if(c||(c=document.querySelector(".js_above_ribbon_left_column"),f=document.querySelector(".js_above_ribbon_right_column")),c&&f){h(c);h(f);C=Math.round(c.getBoundingClientRect().top+
window.pageYOffset);p=c.clientHeight;y=f.clientHeight;q=Math.max(p,y);z=Math.min(p,y);b=q===p?f:c;v=b.clientWidth;t=q-z;if(d=100<q-z)b.style.willChange="transform, top, position";b===c?(b.style.zIndex=10,g=f,g.style.setProperty("willChange","margin-left")):g=void 0}else d=!1;else c&&(h(c),h(f));if(d&&!a)m.on("scroll.alignAboveRibbonItems",I).on("header:sticky.alignAboveRibbonItems",J);else!d&&a&&(u=k=void 0,m.off("scroll.alignAboveRibbonItems").off("header:sticky.alignAboveRibbonItems"));d&&l();A=
!1}function K(){r();m.off("scroll.alignAboveRibbonItemsFirst");if(d)m.one("scroll.alignAboveRibbonItemsFirst",r)}function I(){x=!0;l();clearTimeout(E);E=setTimeout(function(){x=!1;l()},100)}function J(){l()}function l(){!w&&d&&(w=!0,window.requestAnimationFrame(G.bind(this)))}function r(){A||(A=!0,window.requestAnimationFrame(H))}var q,d,n,x=!1,k,u,c,p,t,g,D,f,y,b,z,v,E,C,w,A,m=B(window);D=["margin-left","position","top","transform","width"];F.createClass("AlignColumns",{init:function(){m.on("resize.alignAboveRibbonItems",
r).on("load.alignAboveRibbonItems",K).one("scroll.alignAboveRibbonItemsFirst",r)}})})(WSP.core,jQuery);});
$RNWY.define("scroll-to-element",function(){(function(e,b,c){var d=[];e.createClass("ScrollToElement",{init:function(a){b.isPresent(a)||(a={});b.defineAttributes(this,[["linkSelector",null,a.linkSelector]])&&(this.linkSelector instanceof c&&(this.linkSelector=this.linkSelector.selector),WSP.core.mediator.installTo(this),this.bindEvents())},bindEvents:function(){-1===d.indexOf(this.linkSelector)&&(c(document).on("click.scrollToElement",this.linkSelector,this.onClickScrollToElement),d.push(this.linkSelector))},onClickScrollToElement:function(a){a.preventDefault();
(href=a.currentTarget.getAttribute("href"))&&"#"===href[0]&&((targetElement=document.getElementById(href.substr(1)))||(targetElement=document.querySelector('a[name="'+href.substr(1)+'"]')),targetElement&&b.scrollTo(targetElement))}})})(WSP.core,WSP.utils,jQuery);});
$RNWY.define("review",function(){(function(b,f){function g(a,d){this.Module=a;this.options=b.extend({},k,d);this.moduleName=a.name||"Factory#"+h;this.dataProperty="__"+this.moduleName;h++}var h=0,k={defaultSelector:void 0};b.extend(g.prototype,{init:function(a,d,c){a=a||this.options.defaultSelector;if(!a)throw Error("selector is required");return(c&&c.eq(0).is(a)?c:c?c.find(a):b(a)).each(function(a,c){var e=b(c);e.data(this.dataProperty)||e.data(this.dataProperty,new this.Module(e,d))}.bind(this))}});f.reviews=b.extend(f.reviews,
{Factory:{create:function(a,b){return new g(a,b)}}})})(window.jQuery,window.WSP);(function(g,k,h,m){function l(b){this.$feedback=b;this.$feedbackButtons=b.find(".js-review-feedback-button");this.$feedbackButtons.on("click.reviewFeedback",this.onFeedbackClick.bind(this));this.updateFeedbackStateFromCookie(this.$feedbackButtons.data("contentId"))}g.extend(l.prototype,{onFeedbackClick:function(b){var d,a,c,f,e;b.preventDefault();d=g(b.currentTarget);e=d.data();f=e.currentCount;a={contentId:e.contentId,contentType:"REVIEW",feedbackType:e.feedbackType};c=e.feedbackType;e.vote&&(a.vote=
e.vote,c=a.vote);b=b.currentTarget.href;this.setFeedbackState(a.contentId,c,!1);b={contentType:"application/json;charset=UTF-8",data:JSON.stringify(a),dataType:"json",type:"POST",url:b};g.ajax(b).done(this.setFeedbackState.bind(this,a.contentId,c,!0));void 0!==f&&d.text(parseInt(f,10)+1)},setFeedbackState:function(b,d,a){var c=this.$feedbackButtons.filter("INAPPROPIATE"===d?"[data-feedback-type=INAPPROPIATE]":"[data-vote="+d+"]");this.$feedbackButtons.off(".reviewFeedback").addClass("is-choosen is-disabled").not(c).removeClass("is-choosen");
!0===a&&"INAPPROPIATE"!==d&&(a=h.read("BV_VOTE_HISTORY")||"",h.write("BV_VOTE_HISTORY",(a?a+",":"")+b+":"+d,365))},updateFeedbackStateFromCookie:function(b){var d=h.read("BV_VOTE_HISTORY")||"",a,c,f=b+":";d&&(a=d.indexOf(f),-1!==a&&(a+=f.length,c=d.indexOf(",",a),c=d.substring(a,-1===c?d.length:c),"POSITIVE"!==c&&"NEGATIVE"!==c||this.setFeedbackState(b,c,!1)));return c}});k.reviews=g.extend(k.reviews,{ReviewFeedback:m.create(l,{defaultSelector:".js-review-feedback"})})})(window.jQuery,window.WSP,
WSP.utils.Cookie,WSP.reviews.Factory);(function(d,e,h,f){function g(a){this.$imagesContainer=a;this.elementData=this.$imagesContainer.data();this.lazyLoadImages();this.elementData.initFullscreenImages&&this.initFullscreenImages()}d.extend(g.prototype,{initFullscreenImages:function(){f.loader().dom(this.elementData.scriptUrl).dom(this.onScriptLoaded.bind(this))},lazyLoadImages:function(){this.$imagesContainer.find(".js-review-image").each(function(a,b){b.src=b.getAttribute("data-src")})},onImageClick:function(a){var b;a.preventDefault();
this.store&&(b=this.$imageLinks.index(a.currentTarget),setTimeout(function(){this.store.getState().set("activeIndex",b)}.bind(this),0))},onPageLoaded:function(){var a=[];this.$imageLinks.each(function(b,c){a.push({id:b,name:c.title,fullimage:c.href,thumbnail:c.getAttribute("data-thumbnail"),type:"image"})});this.store=window.makeProductImageStore({header:{productTitle:this.elementData.productTitle,productImgUrl:this.elementData.productImage},images:a});window.makeFullscreenZoom({el:this.$imagesContainer,
store:this.store})},onScriptLoaded:function(){this.$imageLinks=this.$imagesContainer.find(".js-review-image-link");this.$imageLinks.on("click",this.onImageClick.bind(this));f.loader().win(this.onPageLoaded.bind(this))}});e.reviews=d.extend(e.reviews,{ReviewImages:h.create(g,{defaultSelector:".js-review-images"})})})(window.jQuery,window.WSP,window.WSP.reviews.Factory,window.$RNWY);(function(b,c){c.reviews=b.extend(c.reviews,{ReviewLoadMore:{isLoading:!1,init:function(a){this.$loadMoreContainer=b(".js-review-load-more-container",a);this.initializeButton(a)},initializeButton:function(a){this.$loadMoreContainer&&(this.$reviewsContainer=b(".js-reviews",a),this.$loadMoreButton=this.$loadMoreContainer.find(".js-review-load-more-button"),this.$loadMoreButton.on("click",this.onLoadMoreClick.bind(this)))},loadMore:function(a){this.isLoading||(this.isLoading=!0,this.$loadMoreButton.addClass("is-loading"),
a={dataType:"html",url:a},b.ajax(a).done(this.onLoadMoreDone.bind(this)).fail(this.onLoadMoreFailed.bind(this)))},onLoadMoreClick:function(a){a.preventDefault();this.loadMore(a.currentTarget.getAttribute("data-href"))},onLoadMoreDone:function(a){a=b(a);var d;d=a.find(".js-review");this.$reviewsContainer.append(d);c.reviews.Reviews.init(d);this.$loadMoreButton.remove();this.$loadMoreButton=a.find(".js-review-load-more-button");this.$loadMoreButton.length?(this.$loadMoreContainer.append(this.$loadMoreButton),
this.initializeButton()):this.$loadMoreContainer.remove();this.isLoading=!1},onLoadMoreFailed:function(){this.$loadMore.removeClass("is-loading");this.isLoading=!1}}})})(window.jQuery,window.WSP);(function(c,e,g){function f(a){a.on("click",this.onToggleClick.bind(this))}c.extend(f.prototype,{onToggleClick:function(a){var b,d;a.preventDefault();b=c(a.currentTarget).closest(".js-review-toggle-container");a=b.find(".js-review-toggle-content");d=!b.hasClass("is-active");b.toggleClass("is-active",d);a.length&&(d?a.slideUp(0).slideDown(250):a.slideDown(0).slideUp(250))}});e.reviews=c.extend(e.reviews,{ReviewToggle:g.create(f,{defaultSelector:".js-review-toggle-button"})})})(window.jQuery,window.WSP,
window.WSP.reviews.Factory);(function(c,a){a.reviews=c.extend(a.reviews,{Reviews:{initialized:!1,init:function(b,c){this.initialized&&!c||a.reviews.ReviewLoadMore.init(b);a.reviews.ReviewToggle.init(void 0,void 0,b);a.reviews.ReviewFeedback.init(void 0,void 0,b);a.reviews.ReviewImages.init(void 0,void 0,b);this.initialized=!0}}})})(window.jQuery,window.WSP);(function(e,f,g,c){var d;e.createClass("ProsCons",{init:function(){this.$prosConsContainer=c(".js_pros_cons");d=15;this.bindEvents()},bindEvents:function(){this.$prosConsContainer.find(".js_add_pro").on("click",c.proxy(this.handleAddProInput,this));this.$prosConsContainer.find(".js_add_con").on("click",c.proxy(this.handleAddConInput,this))},handleAddProInput:function(a){a.preventDefault();a=this.getAmountOfPros();a<=d&&(this.addInputField("add-pro","pro",a),a=this.getLastProConContainerEl("pro"),
this.initializeInput(a.find("input")))},handleAddConInput:function(a){a.preventDefault();a=this.getAmountOfCons();a<=d&&(this.addInputField("add-con","con",a),a=this.getLastProConContainerEl("con"),this.initializeInput(a.find("input")))},initializeInput:function(a){a.first().click();a.last().focus();this.addListenersToInputField(a.last());this.hideAddButtonForProCon(a.last())},addListenersToInputField:function(a){var b=this;a.on("keydown",function(a){13===a.keyCode&&a.preventDefault()});a.on("input",
function(){b.checkInput(a)});a.on("blur",function(){b.handleBlurOnInput(a);b.checkToShowAddButtonForProCon(a)})},generateInputField:function(a,b){var c=a+b,d=document.createElement("li");d.setAttribute("data-type",a);d.className="extendable-list__item";d.innerHTML='<span class="checkbox-input"><input type="checkbox" id="box'+c+'"><label for="box'+c+'"></label></span><input type="text" id="input'+c+'" name="'+a+'" class="text-input text-input--small js_text-input" placeholder="Voeg je eigen punt toe" maxlength="50">';
return d},addInputField:function(a,b,c){b=this.generateInputField(b,c);a=document.getElementById(a).parentElement;this.insertBefore(b,a)},checkInput:function(a){var b=a.val();a.parents("li").attr("data-type");0===b.length?this.hideAddButtonForProCon(a):(this.checkToShowAddButtonForProCon(a),this.checkBoxForInputField(a))},getTypeForInputEl:function(a){return a.parents("li").attr("data-type")},hideAddButtonForProCon:function(a){c(".js_add_"+this.getTypeForInputEl(a)).hide()},checkToShowAddButtonForProCon:function(a){a=
this.getAmountOfPros();var b=this.getAmountOfCons();a<d&&c(".js_add_pro").show();b<d&&c(".js_add_con").show()},insertBefore:function(a,b){b.parentNode.insertBefore(a,b)},handleBlurOnInput:function(a){""===a.val()&&(a.prev().parent().remove(),a.prev().remove(),a.remove())},getAmountOfPros:function(){return c(".js_pros li.extendable-list__item").length},getAmountOfCons:function(){return c(".js_cons li.extendable-list__item").length},getLastProConContainerEl:function(a){return c(".js_"+a+"s li.extendable-list__item").last()},
checkBoxForInputField:function(a){a.siblings().children("input:checkbox").attr("checked",!0)}})})(WSP.core,WSP.utils,WSP.events,jQuery);(function(c,d,e,f,b){c.createClass("Feedback",{validators:{validatePresenceOf:["feedbackLinkSelector","feedbackSubmitUrl","feedbackFormSelector"]},init:function(a){this.feedbackLinkSelector=a.feedbackLinkSelector;this.feedbackSubmitUrl=a.feedbackSubmitUrl;this.feedbackFormSelector=a.feedbackFormSelector;c.mediator.installTo(this);d.isPresent(a);this.setupFeedbackLink()},setupFeedbackLink:function(){b("body").on("click",this.feedbackLinkSelector,b.proxy(this.feedbackLinkClicked,this))},feedbackLinkClicked:function(a){a.preventDefault();
b(".info-popup").hide();this.lastUniqueId="form_"+(new Date).getTime();a=b(b(this.feedbackFormSelector).html());a.attr("id",this.lastUniqueId);c.mediator.publish(f.events.ModalWindowResponsive.setContent,a.get(0).outerHTML);a=b("#"+this.lastUniqueId);a.find(".js_feedback_choice_item").on("click",this.selectChoice);a.find(".js_send_feedback").on("click",b.proxy(this.getAndSendFeedback,this))},getAndSendFeedback:function(a){a.preventDefault();a=b("#"+this.lastUniqueId);a={question1:parseInt(a.find(".js_feedback_choice_box.js_question1").attr("data-selection")),
question2:parseInt(a.find(".js_feedback_choice_box.js_question2").attr("data-selection")),remarks:a.find(".js_feedback_remarks").val()};this.sendFeedback(a);c.mediator.publish(e.ModalWindowResponsive.hide)},selectChoice:function(a){a.preventDefault();b(this).closest(".js_feedback_choice_box").attr("data-selection",b(this).text()).find(".c-btn-primary--medium").removeClass("c-btn-primary--medium").addClass("c-btn-tertiary--medium");b(this).parent().removeClass("c-btn-tertiary--medium").addClass("c-btn-primary--medium")},
sendFeedback:function(a){b.ajax({url:this.feedbackSubmitUrl,contentType:"application/json",dataType:"json",type:"POST",data:JSON.stringify(a)})}})})(WSP.core,WSP.utils,WSP.events,WSP,jQuery);});
$RNWY.define("soundplayer",function(){WSP.core.namespace("soundPlayer");WSP.core.namespace("soundPlayer.models");WSP.core.namespace("soundPlayer.collections");WSP.core.namespace("soundPlayer.views");(function(l,p){var m=l.require("soundPlayer"),n=function(){var d={PLAYING:"player:playing",PAUSED:"player:paused",RESUMED:"player:resumed",STOPPED:"player:stopped",PLAY_END:"player:play-end"},c={PLAY:"player-trigger:play",PAUSE:"player-trigger:pause",RESUME:"player-trigger:resume",STOP:"player-trigger:stop",TOGGLE:"player-trigger:toggle"},b=new Backbone.ViewState({currentTrack:null,paused:!1}),a=_.extend({getState:function(){return b.getAttributes()},triggerEvents:c,playerEvents:d},Backbone.Events),
e=null,g=function(c){e&&f();b.set("currentTrack",c);if(!c)return f();e=new Howl({urls:[c],buffer:!0,onload:function(){this.stop().play();a.trigger(d.PLAYING,b.getAttributes())},onend:function(){a.trigger(d.PLAY_END,b.getAttributes())}});b.set("paused",!1)},h=function(){e.pause();b.set("paused",!0);a.trigger(d.PAUSED,b.getAttributes())},k=function(){b.set("paused",!1);e.play();a.trigger(d.RESUMED,b.getAttributes())},f=function(){b.get("currentTrack")&&e.stop();b.set("paused",!1);b.set("currentTrack",
null);a.trigger(d.STOPPED,b.getAttributes())};a.listenTo(a,c.STOP,f);a.listenTo(a,c.PAUSE,h);a.listenTo(a,c.RESUME,k);a.listenTo(a,c.TOGGLE,function(a){var c=b.getAttributes();a===c.currentTrack?!0===c.paused?k():h():g(a)});a.listenTo(a,c.PLAY,g);return a}();m.API=n})(WSP.core,jQuery);(function(a){a.require("soundPlayer.models").Track=Backbone.Model.extend({})})(WSP.core);(function(a){var b=a.require("soundPlayer.collections");a=a.require("soundPlayer.models");b.Tracklist=Backbone.Collection.extend({model:a.Track,findByUrl:function(a){return this.findWhere({location:a})}})})(WSP.core);(function(e,h,f){e=e.require("soundPlayer");var b=e.API,d=b.playerEvents,g=b.triggerEvents;e.views.Tracklist=Backbone.View.extend({initialize:function(a){this.listenTo(b,d.PLAYING,this.onPlayerPlaying);this.listenTo(b,d.PAUSED,this.onPlayerPaused);this.listenTo(b,d.RESUMED,this.onPlayerResumed);this.listenTo(b,d.STOPPED,this.onPlayerStopped);this.listenTo(b,d.PLAY_END,this.onPlayEnd)},events:{"click .js_play":"playClick"},playClick:function(a){a.preventDefault();b.trigger(g.TOGGLE,f(a.currentTarget).data("id"))},
onPlayerStopped:function(a){this.onPlayerPaused(a)},onPlayerResumed:function(a){this.onPlayerPlaying(a)},onPlayEnd:function(a){this.onPlayerPaused(a);this.shouldPlayNextSong()&&this.playNext()},onPlayerPlaying:function(a){f("li[data-id='"+a.currentTrack+"']").addClass("playing")},onPlayerPaused:function(){f("li.playing").removeClass("playing")},playNext:function(){var a=this.getNextTrack();a&&b.trigger(g.PLAY,a.get("location"))},playPrevious:function(){var a=this.getPreviousTrack();a&&b.trigger(g.PLAY,
a.get("location"))},getNextTrack:function(){var a=b.getState().currentTrack,c=this.collection,a=c.indexOf(c.findByUrl(a));return c.at(a+1)},getPreviousTrack:function(){var a=b.getState().currentTrack,c=this.collection,a=c.indexOf(c.findByUrl(a));return c.at(a-1)},shouldPlayNextSong:function(){return!h.touchSupported()}})})(WSP.core,WSP.utils,jQuery);});
$RNWY.define("multi-bundle",function(){(function(c,d,b){var e=b(".multibundle-product-page-quantity-radio");c.Multibundles=c.Class.create({init:function(a){d.defineAttributes(this,[["$multibundlePickerHeader",null,a.multibundlePickerHeader],["$quantitySelectionList",null,a.quantitySelectionList],["$quantitySelectionButtons",null,a.quantitySelectionButtons],["multiBundleQuantity",null,a.multiBundleQuantity],["variant",null,a.variant],["disableBuyButtonBeforeRefinement",null,a.disableBuyButtonBeforeRefinement]]);this.$quantitySelectionList.val(this.multiBundleQuantity);
"mb_con"!==this.variant&&this.$multibundlePickerHeader.html('Aantal: <span class="quantity">'+this.multiBundleQuantity+" stuks</span>");this.$quantitySelectionButtons.on("click",b.proxy(function(a){a.preventDefault();this.desiredQuantity=b(a.currentTarget).data("multibundleQuantity");b(".js_product-picker-buy-button").remove();b(a.currentTarget).hasClass("js_multibundle__link")?(this.$quantitySelectionButtons.removeClass("selected"),b(a.currentTarget).addClass("selected")):(this.$quantitySelectionButtons.find(".box").removeClass("selected"),
b(a.currentTarget).find(".box").addClass("selected"));this.$quantitySelectionList.val(this.desiredQuantity);"mb_b"===this.variant&&b(a.currentTarget).find(".multibundle-product-page-quantity-radio").prop("checked",!0);this.$multibundlePickerHeader.html('Aantal: <span class="quantity">'+this.desiredQuantity+" stuks</span>")},this));if("mb_b"===this.variant)e.on("mousedown touchstart",function(){b(this).prop("checked",!0)})}})})(WSP.core,WSP.utils,jQuery);});
$RNWY.define("pdf-viewer",function(){window.WSP=window.WSP||{};
window.WSP.PDFViewer=function(b,r){function t(z){function A(){B=f.offsetWidth-C.offsetWidth;D=f.offsetHeight-C.offsetHeight;E=f.clientHeight-D;F=f.clientWidth-B}function c(a,b){b?(a.classList.remove("is-hidden"),a.classList.add("is-enabled")):a.classList.remove("is-enabled")}function r(){l.call(d,a+1)}function u(a){clearTimeout(G);a?G=setTimeout(function(){b.classList.add("is-loading")},250):b.classList.remove("is-loading")}function v(a,b){u(!0);if(k)return k.then(function(){return v(a,b)});var e=
b.getViewport(1),e=b.getViewport(Math.min(F/e.width,E/e.height)*m*h);H.clearRect(0,0,g.width,g.height);g.height=e.height;g.width=e.width;1!==m&&(g.style.height=g.height/m+"px",g.style.width=g.width/m+"px");e={canvasContext:H,viewport:e};w[a]=b;k=b.render(e).promise.then(function(){k=void 0});k.then(u.bind(d,!1));return k}function t(){l.call(d,a-1)}function l(b,d){var e=Math.max(1,Math.min(b,this.numPages));if(a!==e||d){a=e;u(!0);1<this.numPages&&(1===a?(c(q,!1),c(n,!0)):(c(q,!0),a===this.numPages?
c(n,!1):c(n,!0)));if(w[a])return v(a,w[a]);if(!p[a])return p[a]=z.getPage(a).then(v.bind(this,a)),p[a]}if(p[a])return Promise.resolve(p[a])}function x(c){c=Math.max(1,Math.min(2,c));c!==h&&(h=c,l.call(d,a,!0).then(function(){1===c?b.classList.remove("is-zoomed"):(b.classList.add("is-zoomed"),f.scrollLeft=(f.scrollWidth-f.clientWidth)/2,f.scrollTop=(f.scrollHeight-f.clientHeight)/2)}))}function K(){A();l.call(d,a,!0);y=!1}var d=this,a,w=[],p=[],h=1,B,D,k,n=b.querySelector(".js-pdf-viewer-button-next"),
q=b.querySelector(".js-pdf-viewer-button-previous"),f=b.querySelector(".js-pdf-viewer-container"),C=b.querySelector(".js-pdf-viewer-canvas-container"),g=b.querySelector(".js-pdf-viewer-canvas"),I=b.querySelector(".js-pdf-viewer-button-zoom-in"),J=b.querySelector(".js-pdf-viewer-button-zoom-out"),H=g.getContext("2d"),E,F,y=!1,G;Object.defineProperty(this,"numPages",{enumerable:!0,value:z.pdfInfo.numPages});Object.defineProperty(this,"page",{get:function(){return a},set:l,enumerable:!0});Object.defineProperty(this,
"zoom",{get:function(){return h},set:x,enumerable:!0});1<this.numPages&&(c(n,!0),c(q,!0),n.addEventListener("click",r.bind(d),!1),q.addEventListener("click",t.bind(d),!1));I.addEventListener("click",function(){2!==h&&x.call(d,h+.25)}.bind(d),!1);J.addEventListener("click",function(){1!==h&&x.call(d,h-.25)}.bind(d),!1);c(I,!0);c(J,!0);window.addEventListener("resize",function(){if(!y){y=!0;var a=K.bind(d);window.setTimeout(a,250)}}.bind(this),!1);A();this.page=1}var m=Math.max(1,window.devicePixelRatio||
1);1<m&&b.classList.add("has-retina");PDFJS.disableAutoFetch=!0;PDFJS.disableStream=!0;PDFJS.getDocument(r).then(function(b){new t(b)})};});