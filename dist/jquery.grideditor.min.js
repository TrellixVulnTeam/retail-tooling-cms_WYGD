!function(t){t.fn.gridEditor=function(e){var a=this.data("grideditor"),n=0;if("getHtml"==arguments[0]){if(a){a.deinit();var i=this.html();return a.init(),i}return this.html()}return"deinit"==arguments[0]&&a?(a.deinit(),t(".ge-mainControls").remove(),void t(".ge-html-output").remove()):(this.each(function(a,i){i=t(i);var o,s,l,r,c=t.extend({new_row_layouts:[[12],[6,6],[4,4,4],[3,3,3,3],[2,2,2,2,2,2],[2,8,2],[4,8],[8,4]],row_classes:[{label:"Example class",cssClass:"example-class"}],col_classes:[{label:"Example class",cssClass:"example-class"}],col_tools:[],row_tools:[],custom_filter:"",editor_types:["tinymce"],valid_col_sizes:[1,2,3,4,5,6,7,8,9,10,11,12],source_textarea:"",content_types:[{id:"text",label:"Tekst"},{id:"rich-text",label:"Opgemaakte tekst"},{id:"list",label:"Lijst"},{id:"quote",label:"Annotatie"},{id:"image",label:"Afbeelding"},{id:"image-list",label:"Meerdere afbeeldingen"},{id:"warning",label:"Waarschuwing"}],template_types:[{id:"basic",label:"Basic"},{id:"collapsible",label:"Collapsible"}],default_content_type_id:"text"},e),d=["col-md-","col-sm-","col-xs-"],p=0,u=12;if(c.source_textarea){var m=t(c.source_textarea);m.addClass("ge-html-output"),r=m,m.val()&&i.html(m.val())}if(i.children().length&&!i.find("div.row").length){var h=i.children();t('<div class="row"><div class="col-md-12"/></div>').appendTo(i).find(".col-md-12").append(h)}!function(){o=i.addClass("ge-canvas"),void 0!==r&&r.length||(r=t('<textarea class="ge-html-output"/>').insertBefore(o));s=t('<div class="ge-mainControls" />').insertBefore(r);var e=t('<div class="ge-wrapper ge-top" />').appendTo(s),a=t('<div id="preview-controls" class="form-inline"></div>').appendTo(e),n=t('<div class="form-group"></div>').appendTo(a),d=t('<div class="dropdown ge-layout-mode"><label for="layout-type-select">Preview size: </label><button id="layout-type-select" type="button" class="btn btn-md btn-secondary dropdown-toggle" data-toggle="dropdown"><span>Desktop</span></button><ul class="dropdown-menu" role="menu"><li><a data-width="auto" title="Desktop"><span>Desktop</span></a></li><li><a title="Tablet"><span>Tablet</span></li><li><a title="Phone"><span>Phone</span></a></li></ul></div>').on("click","a",function(){var e=t(this);k(e.closest("li").index());var a=d.find("button");a.find("span").remove(),a.append(e.find("span").clone())}).appendTo(n),p=t('<div id="preview-content" class="dropdown ge-content-mode"><label for="preview-content-select">Preview content: </label><button id="preview-content-select" type="button" class="btn btn-md btn-secondary dropdown-toggle" data-toggle="dropdown"><span>George Orwell - 1984</span></button><ul class="dropdown-menu" role="menu"></ul></div>').on("click","a",function(){var e=t(this),a=p.find("button");a.find("span").remove(),a.append(e.find("span").clone())}).appendTo(n);l=t('<div class="ge-addRowGroup btn-group" />').appendTo(e),t.each(c.new_row_layouts,function(e,a){var n=t('<a class="btn btn-md btn-primary" />').attr("title","Add row "+a.title).on("click",function(){var e,n=(e=a.title,t('<div class="row" data-id="'+S(e)+'" data-title="'+e+'" />')).appendTo(o);a.cols.forEach(function(t){C(t.count,t.type).appendTo(n)}),g()}).appendTo(l);n.append('<span class="glyphicon glyphicon-plus-sign"/>');var i=a.title;a.cols&&a.cols.forEach(function(t){'<div class="column col-xs-'+t+'"/>'}),n.append(i)});t('<div class="btn-group pull-right"/>').appendTo(e);var u=t('<button title="Edit Source Code" type="button" class="btn btn-md btn-primary gm-edit-mode"><span class="glyphicon glyphicon-chevron-left"></span><span class="glyphicon glyphicon-chevron-right"></span></button>').on("click",function(){u.hasClass("active")?(o.empty().html(r.val()).show(),g(),r.hide()):(f(),r.height(.8*t(window).height()).val(o.html()).show(),o.hide()),u.toggleClass("active btn-danger")}),m=t('<button title="Preview" type="button" class="btn btn-md btn-primary gm-preview"><span class="glyphicon glyphicon-eye-open"></span></button>').on("mouseenter",function(){o.removeClass("ge-editing")}).on("click",function(){m.toggleClass("active btn-danger").trigger("mouseleave")}).on("mouseleave",function(){m.hasClass("active")||o.addClass("ge-editing")});o.on("mouseenter",".row > .ge-tools-drawer",function(e){t(this).parent().find("> .ge-tools-drawer a").show(),t(this).parent().find(".template-type").show()}),o.on("mouseleave",".row > .ge-tools-drawer",function(e){t(this).parent().find("> .ge-tools-drawer a").hide(),t(this).parent().find(".template-type").hide(),t(this).parent().find(".content-type").hide(),t(this).parent().find(".ge-details").hide()}),o.on("mouseenter",".column",function(e){t(this).find("> .ge-tools-drawer > a").show(),t(this).find(".content-type").show()}),o.on("mouseleave",".column",function(e){t(this).find("> .ge-tools-drawer > a").hide(),t(this).find(".content-type").hide(),t(this).find(".ge-details").hide()})}(),g();function g(){j(!0),o.addClass("ge-editing"),o.find('.column, div[class*="col-"]').each(function(){var e=t(this),a=2,n=w(e);n.length&&(a=n[0].size);var i=e.attr("class");d.forEach(function(t){-1==i.indexOf(t)&&e.addClass(t+a)}),e.addClass("column")}),o.find(".column").each(function(){var e=t(this),a=t();e.children().each(function(){var e=t(this);e.is(".row, .ge-tools-drawer, .ge-element-title, .ge-content")?T(a):a=a.add(e)}),T(a)}),o.find(".row").each(function(){var e=t(this);if(!e.find("> .ge-tools-drawer").length){var a=e.attr("data-title")?e.attr("data-title"):"No title",n=(t('<div class="ge-element-title" contenteditable="true">'+a+"</div>").prependTo(e),t('<div class="ge-tools-drawer" />').prependTo(e)),i=e.attr("data-type")?e.attr("data-type"):"basic",o=t('<select class="template-type btn btn-xs btn-secondary dropdown-toggle"></select>').prependTo(n);c.template_types.forEach(function(e){o.append(t("<option></option>").attr("value",e.id).text(e.label)),i==e.id&&o.val(i)}),o.hide();var s=b(e,c.row_classes).appendTo(n);s.hide(),v(n,"Move","ge-move","glyphicon-move",null,!0),c.row_tools.forEach(function(t){v(n,t.title||"",t.className||"",t.iconClass||"glyphicon-wrench",t.on,null)}),v(n,"Remove row","","glyphicon-trash",function(){e.slideUp(function(){e.remove()})},!0),v(n,"Add column","ge-add-column","glyphicon-plus-sign",function(){e.append(C(12)),g()},!0)}}),t(".row .ge-element-title").change(function(){t(this).parent().attr("data-id",S(t(this).text())),t(this).parent().attr("data-title",t(this).text())}),n=0,o.find(".column").each(function(){n++;var e=t(this);if(!e.find("> .ge-tools-drawer").length){var a=e.attr("data-title")?e.attr("data-title"):"No title",i=(t('<div class="ge-element-title" contenteditable="true">'+a+"</div>").prependTo(e),e.attr("data-type")?e.attr("data-type"):""),o=t('<div class="ge-tools-drawer" />').prependTo(e),s=t('<select class="content-type btn btn-xs btn-secondary dropdown-toggle"></select>').prependTo(o);c.content_types.forEach(function(e){s.append(t("<option></option>").attr("value",e.id).text(e.label)),i==e.id&&s.val(i)}),s.hide();var l=b(e,c.col_classes).appendTo(o);v(o,"Move","ge-move","glyphicon-move",null,!0),v(o,"Make column narrower\n(hold shift for min)","ge-decrease-col-width","glyphicon-minus",function(t){var a=c.valid_col_sizes,n=d[p],i=a.indexOf(_(e,n)),o=a[I(i-1,0,a.length-1)];t.shiftKey&&(o=a[0]),y(e,n,Math.max(o,1))},!0),v(o,"Make column wider\n(hold shift for max)","ge-increase-col-width","glyphicon-plus",function(t){var a=c.valid_col_sizes,n=d[p],i=a.indexOf(_(e,n)),o=I(i+1,0,a.length-1),s=a[o];t.shiftKey&&(s=a[a.length-1]),y(e,n,Math.min(s,u))},!0),c.col_tools.forEach(function(t){v(o,t.title||"",t.className||"",t.iconClass||"glyphicon-wrench",t.on,!0)}),v(o,"Remove col","","glyphicon-trash",function(){e.animate({opacity:"hide",width:"hide",height:"hide"},400,function(){e.remove()})},!0),l.hide()}}),t(".row .template-type").change(function(){t(this).parent().parent().attr("data-type",t(this).val())}),t(".column > .ge-element-title").change(function(){t(this).parent().attr("data-id",S(t(this).text())),t(this).parent().attr("data-title",t(this).text())}),t(".column .content-type").change(function(){t(this).parent().parent().attr("data-type",t(this).val())}),function(){o.find(".row").sortable({items:"> .column",connectWith:".ge-canvas .row",handle:".ge-tools-drawer .ge-move",start:t,helper:"clone"}),o.add(o.find(".column")).sortable({items:"> .row, > .ge-content",connectsWith:".ge-canvas, .ge-canvas .column",handle:".ge-tools-drawer .ge-move",start:t,helper:"clone"});function t(t,e){e.placeholder.css({height:e.item.outerHeight()})}}(),t("body").on("focus","[contenteditable]",function(){var e=t(this);return e.data("before",e.html()),e}).on("blur keyup paste input","[contenteditable]",function(){var e=t(this);return e.data("before")!==e.html()&&(e.data("before",e.html()),e.trigger("change")),e}),k(p)}function f(){o.removeClass("ge-editing");o.find(".ge-content").each(function(){var e=t(this);E(e.data("ge-content-type")).deinit(c,e)});o.find(".ge-tools-drawer").remove(),o.add(o.find(".column")).add(o.find(".row")).sortable("destroy"),o.find(".column .ge-element-title").remove(),j()}function v(e,a,n,i,o,s){var l=t('<a title="'+a+'" class="'+n+'"><span class="glyphicon '+i+'"></span></a>').appendTo(e);"function"==typeof o&&l.on("click",o),"object"==typeof o&&t.each(o,function(t,e){l.on(t,e)}),s&&l.hide()}function b(e,a){var n=t('<div class="ge-details" />');t('<input class="ge-id" />').attr("placeholder","title").val(e.attr("data-title")).attr("data-id","no-id").attr("data-title","Set a unique title").appendTo(n).change(function(){e.attr("data-id",S(this.value)),e.attr("data-title",this.value);var t=e.find(".ge-element-title").first();t&&t.text(this.value),e.find(".ge-details").hide()});var i=t('<div class="btn-group" />').appendTo(n);return a.forEach(function(a){var n=t('<a class="btn btn-xs btn-default" />').html(a.label).attr("title",a.title?a.title:'Toggle "'+a.label+'" styling').toggleClass("active btn-primary",e.hasClass(a.cssClass)).on("click",function(){n.toggleClass("active btn-primary"),e.toggleClass(a.cssClass,n.hasClass("active"))}).appendTo(i)}),n}function _(t,e){for(var a=w(t),n=0;n<a.length;n++)if(a[n].colClass==e)return a[n].size;return a.length?a[0].size:null}function w(t){var e=[];return d.forEach(function(a){var n=new RegExp(a+"(\\d+)","i");n.test(t.attr("class"))&&e.push({colClass:a,size:parseInt(n.exec(t.attr("class"))[1])})}),e}function y(t,e,a){var n=new RegExp("("+e+"(\\d+))","i").exec(t.attr("class"));n&&parseInt(n[2])!==a?t.switchClass(n[1],e+a,50):t.addClass(e+a)}function C(e,a,i){n++,void 0==i&&(i=t.grep(c.content_types,function(t){return t.id==c.default_content_type_id}).label),void 0==a&&(a=c.default_content_type_id);var o=a+"-"+n;return t("<div/>").addClass(d.map(function(t){return t+e}).join(" ")).addClass("content-"+a).attr("id",o).attr("data-id",o).attr("data-title",i).attr("data-type",a).append(x().html(E(c.editor_types[0]).initialContent))}function j(e){c.custom_filter.length&&t.each(c.custom_filter,function(t,a){"string"==typeof a&&(a=window[a]),a(o,e)})}function T(e){if(e.length){var a=x().insertAfter(e.last());e.appendTo(a),e=t()}}function x(){return t("<div/>").addClass("ge-content ge-content-type-"+c.editor_types[0]).attr("data-ge-content-type",c.editor_types[0])}function k(t){p=t;["ge-layout-desktop","ge-layout-tablet","ge-layout-phone"].forEach(function(e,a){o.toggleClass(e,a==t)})}function E(e){return t.fn.gridEditor.RTEs[e]}function I(t,e,a){return Math.min(a,Math.max(e,t))}i.data("grideditor",{init:g,deinit:f});function S(t){return t.toLowerCase().split(" ").join("-")}}),this)},t.fn.gridEditor.RTEs={}}(jQuery),function(t){saveTemplate=function(e,a,n,i){var o={title:a,content:{},link:i},s=0,l=0;return t(n).filter(".row").each(function(){var e={},a=t(this).attr("data-title")?t(this).attr("data-title"):"",n=t(this).attr("data-type")?t(this).attr("data-type"):"",i=t(this).attr("data-id")?t(this).attr("data-id"):slugify(a);s++,t(this).find(".column").each(function(){var a=t(this).attr("data-id"),n=t(this).attr("data-title")?t(this).attr("data-title"):"",i=t(this).attr("data-type")?t(this).attr("data-type"):"",o=t.grep(this.className.split(" "),function(t,e){return 0===t.indexOf("col-")}).join(" ");l++,e[a]={title:n,type:i,class:o,sort:l}}),o.content[i]={title:a,type:n,elements:e,sort:s}}),setTemplate(e,o)},resetSampleTemplate=function(){return t.getJSON("sample-templates.json",function(t){console.log("Template reset completed"),setTemplates(t)})},resetSampleContent=function(){return t.getJSON("sample-products.json",function(t){console.log("Content reset completed"),setContent(t,!1,!0)})},saveContent=function(t,e){return getContent().then(function(a){var n=parseContent(t,e),i=getProductId(),o=t.attr("data-template-id");a[i]||(a[i]={}),a[i].content=n,a[i].type=o,setContent(a,e.isPreview)})},parseContent=function(e,a){var n={},i=(e.html(),a&&a.sectionDivider?a.sectionDivider:".row"),o=a&&a.elementDivider?a.elementDivider:'[class^="col-"]',s=a&&a.subElement?a.subElement:null,l=a&&a.contentFormat?a.contentFormat:"object";return e.find(i).each(function(){var e={};t(this).find(o).each(function(){if(s)var a=t(this).find(s);else a=t(this);a.each(function(){if(t(this).attr("data-id")){0;var a=t(this).attr("data-id"),n=t(this).attr("data-type"),i="object"==l?t(this).val():t(this).html(),o="";if("object"==typeof i?o=JSON.stringify(i):(i=i.replace(/\r?\n|\r/g,"").trim(),o=convertHtmlToMarkdown(i)),"quote"==n){var s="object"==l?t(this).val():t(this).html(),r=t(this).find("#annotatie-content").val();r||(r=s),i="<blockquote>"+r+"</blockquote>";var c=t(this).find("#annotatie-person").val();c&&(i+="<person>"+c+"</person>"),o=convertHtmlToMarkdown(i)}else"list"==n&&"*"==o.trim()&&(o="");e[a]=o}})}),n[this.id]={elements:e}}),n},loadTemplate=function(e,a,n,i,o,s){return a&&setTemplateId(a),getTemplate(getTemplateId()).then(function(a){var l=[];return t.each(a.data().content,function(e,a){var n=[];t.each(a.elements,function(t,e){e.id=t,n.push(e)}),n.sort(function(t,e){return t.sort&&e.sort?t.sort.toString().localeCompare(e.sort.toString()):0}),a.id=e,a.elements=n,l.push(a)}),l.sort(function(t,e){return t.sort&&e.sort?t.sort.toString().localeCompare(e.sort.toString()):0}),t(e).html(""),t(e).attr("data-template-id",a.id),t(e).attr("data-template-title",a.data().title),t(e).attr("data-template-link",a.data().link),t.each(l,function(l,r){if(!n||n==r.id){r.type||(r.type="basic");var c=i?t(i[r.type]).clone():t('<div class="row"></div>');c.attr("data-id",r.id),c.attr("data-title",r.title),c.attr("data-type",r.type),i&&t(c).find("[data-title-element='true']").html(r.title),t.each(r.elements,function(e,n){var i=t("<div></div>");if(i.attr("data-id",n.id),i.attr("data-title",n.title),i.attr("data-type",n.type),i.addClass(n.class),i.addClass("column"),i.addClass("element-"+e),i.addClass("content-"+n.type),o){i.append(o[a.id]).find("[data-title-element='true']").html(n.title)}else i.append("<span></span>");s?c.find(s).append(i):c.append(i),c.hide()}),t(e).html('<span class="loader glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>'),t(e).append(c)}}),a})},loadTemplates=function(e){return getTemplates().then(function(a){var n=[],i=t(e);i.html(""),i.append("<thead><tr><th>Naam</th></tr></thead>"),i.append("<tbody></tbody>"),t.each(a,function(t,e){e.id=t,e.sort=e.parent?e.parent+"-"+t:t,n.push(e)}),n.sort(function(t,e){return t.sort.localeCompare(e.sort)}),t.each(n,function(t,e){var a=e.parent?"child":"";i.append('<tr><td><a href="/template.html?template='+e.id+'" class="'+a+'">'+e.title+"</a></td></tr>")})})},loadTemplateInContentEditor=function(e,a){return getTemplate(getTemplateId()).then(function(n){e.html(""),e.attr("data-template-id",getTemplateId());var i=[];return t.each(n.data().content,function(e,a){var n=[];t.each(a.elements,function(t,e){e.id=t,n.push(e)}),n.sort(function(t,e){return t.sort&&e.sort?t.sort.toString().localeCompare(e.sort.toString()):0}),a.id=e,a.elements=n,i.push(a)}),i.sort(function(t,e){return t.sort&&e.sort?t.sort.toString().localeCompare(e.sort.toString()):0}),t.each(i,function(n,i){var o=a.clone(),s=t(o).find(".panel-title")[0],l=t(o).find(".panel-body")[0],r="";o.attr("id",i.id),o.addClass("section"),s.innerHTML=i.title,t.each(i.elements,function(e,a){t("#"+a.id)?r+=createElement(a.id,a):console.log(a.id+" not found")}),l.innerHTML=r,e.append(o)}),n})},loadContentItems=function(e){return getTemplates().then(function(a){return getContent().then(function(n){var i=[],o=t(e);o.html(""),o.append("<thead><tr><th>Naam</th><th>Type</th></tr></thead>"),o.append("<tbody></tbody>"),t.each(n,function(t,e){"empty"!=t.substring(0,5)&&(e.id=t,i.push(e))}),i.sort(function(t,e){return t.title.localeCompare(e.title)}),t.each(i,function(t,e){var n=a[e.type]?a[e.type].title:"Geen";o.append('<tr><td><a href="/content.html?content='+e.id+'">'+e.title+"</a></td><td>"+n+"</td></tr>")})})})},loadContent=function(a,n,i,o){return getContent("preview"==o).then(function(s){var l=s[a];if(l){switch(o){case"template-editor":subElement="> .ge-content";break;case"content-editor":subElement="";break;default:subElement="span"}var r=setTemplateId(l.type);return getTemplate(r).then(function(c){return void 0==i&&(i=""),t(n).attr("data-content-title",l.title),t.each(c.data().content,function(s,d){t.each(d.elements,function(s,d){componentType="element";var p=n+' [data-id="element-'+s+'"]',u=t(p);if(0==u.length&&(componentType="default",p=subElement&&null!=subElement?n+' [data-id="'+s+'"] '+subElement:n+' [data-id="'+s+'"]',u=t(p)),u.length>0){var m=function t(e,a){for(var n in e)if(e.hasOwnProperty(n)){if(n==a)return e[n];if("object"==typeof e[n]){var i=t(e[n],a);if(i)return i}}}(l,s);switch(m||(m=i),d.type){case"quote":if("live"!=o&&"preview"!=o){f=convertMarkdownToHtml(m);var h=t(f).filter("blockquote").find("p").html();h||(h=m),u.find("#"+s+"-content").val(h),u.find("#"+s+"-content").html(h);var g=t(f).find("person").html();u.find("#"+s+"-person").val(g),u.find("#"+s+"-person").html(g);break}var f=convertMarkdownToHtml(m);u.val(convertMarkdownToHtml(m)),u.html(convertMarkdownToHtml(m));case"text":case"rich-text":"live"==o?u.append(convertMarkdownToHtml(m)):(u.val(convertMarkdownToHtml(m)),u.html(convertMarkdownToHtml(m)));break;case"image":"live"==o?"productafbeeldingen-sonos"==a?u.attr("src","/sample_content/images/"+r+"/"+m):u.html(convertMarkdownToHtml(m)):populateImageList(u,c.id,m);break;case"imagelist":if("live"==o){var v=e(m)?JSON.parse(m):m;if("product-afbeeldingen"==s){var b=0,_=t(".product-image-thumb-list");u.html(""),v.forEach(function(e){b++;var a=t('<img unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb">').addClass("thumbnail").attr("src","/sample_content/images/"+r+"/"+e).attr("data-index",b),n=t('<li class="nav nav--thumb js_thumb"></li>');1==b&&n.addClass("is-active"),u.append(n.wrapInner(a))})}else{_=t('<ul class="imagelist"></ul>');u.append(_),v.forEach(function(e){var a=t("<img>").addClass("thumbnail").attr("src","/sample_content/images/"+r+"/"+e);_.append(t("<li></li>").wrapInner(a))})}}else populateImageList(u,c.id,m);break;case"list":f=convertMarkdownToHtml(m);if("live"==o||"preview"==o){if("pluspunten"==s||"minpunten"==s){t("body").append('<div id="temp-html" style="display: none"></div>');var w=t("#temp-html").append(f);t(w).find("ul").addClass("review-pros-and-cons__list review-pros-and-cons__list--pros"),"pluspunten"==s?t(w).find("li").addClass("review-pros-and-cons__attribute review-pros-and-cons__attribute--pro"):t(w).find("li").addClass("review-pros-and-cons__attribute review-pros-and-cons__attribute--con"),f=w.html(),w.remove()}u.append(f)}else""==f&&(f="<ul><li></li></ul>"),u.val(f),u.html(f);break;default:"live"==o?u.append(m):"template-"==d.type.substring(0,9)?u.val(m):(u.val(m),u.html(m))}}})}),t(n).find(".loader").remove(),t(n).children().show(),s[a]})}})},getContent=function(t){var e={};return t?new Promise(function(t,e){t(JSON.parse(localStorage.getItem("previewProducts")))}):db.collection("products").get().then(function(t){return t.forEach(function(t){e[t.id]=t.data()}),e})},setContent=function(e,a,n){var i=JSON.stringify(e);if(!a){var o=db.batch();return t.each(e,function(t,e){n&&(e=convertPropertiesToMarkdown(e));var a=db.collection("products").doc(t);o.set(a,e)}),o.commit().then(function(){console.log("Content successfully updated!")}).catch(function(t){console.error("Error updating document: ",t)})}localStorage.setItem("previewProducts",i)},setShopMainTemplate=function(){t("#product_title").append('<a id="edit-page-template" href="http://localhost:8000/template.html?template=pdp" class="review__btn-write-review" style="float: right" title="Pas template aan"><i class="fa fa-th"></i> Pas pagina-template aan</a>')},setShopElementContent=function(e,a,n){getURLParameter("content")&&(n=setProductId(getURLParameter("content")));var i=!(!getURLParameter("preview")||"undefined"==getURLParameter("preview")),o=t(e);t(e+"  .description");o.html("");var s=i?"preview":"live";loadTemplate(o,a,null,{basic:'<div class="slot slot--description slot--seperated">\n      <h2 data-title-element="true"></h2>\n      <div data-id="productbeschrijving" class="description row">\n      </div>\n    </div>',collapsible:'<div class="slot slot--description slot--seperated slot--seperated--has-more-content js_slot-description">\n      <h2 data-title-element="true"></h2>\n      <div class="js_show-more-description show-more">\n        <div class="js_show-more-holder show-more-holder show-more--l product-tracklists-show-more--animate">\n          <div data-id="section-productbeschrijving" class="description row">\n          </div>\n        </div>\n\n        <div class="show-more__fade  js_show-more-button">\n          <a href="#" class="show-more__button" data-test="showmore">\n              <span class="[ show-more__text  show-more__text-more ]  js_link-more" title="Toon meer" data-test="showmore-text-more">Toon meer</span>\n              <span class="[ show-more__text  show-more__text-less ]  js_link-less" title="Toon minder" data-test="showmore-text-less">Toon minder</span>\n            </a>\n        </div>\n      </div>\n    </div>',"product-images":'<div class="product-images product_media [ slot slot--product-images ] js_product_media" data-test="product-images">\n      <a name="product_images" id="product_images"></a>\n      <div class="product_image js_product_image">\n        <div class="fluid-grid fluid-grid--s">\n          <div class="fluid-grid__item one-whole">\n            <div class="product-image__promo-labels">\n              <div class="awareness-label awareness-label--image awareness-label--award" data-test="awareness-label-award">\n                <a href="#awareness-award" class="awareness-label__link  js_awareness_scroll_trigger" data-test="scroll-to-trigger">\n                  <img src="//s.s-bol.com/nl/upload/images/expertlabels/award_whathifi_5stars.png" alt="" title="" data-test="awareness-label-image" width="82" height="26">\n                </a>\n              </div>\n            </div>\n            <div class="product-image-content js_image_container">\n              <div class="product-image-content js_image_container" data-rnwy-component="ab80e392-dfba-484d-b888-4c637c856f14">\n                <div class="product-image--content js_product_image_pan" data-test="product-image-content">\n                  <div class="sb sb-chevron-back sb-resize--lg product-image__paging product-image__prev js_prev"></div>\n                  <div class="product_zoom_wrapper js_product_zoom_wrapper tst_product_zoom_wrapper js_product_image_pan_item product_zoom_wrapper--has-zoom">\n                    <img data-id="element-afbeelding" src="//s.s-bol.com/imgbase0/imagebase3/large/FC/6/3/6/3/9200000050173636.jpg" data-zoom-src="//s.s-bol.com/imgbase0/imagebase3/extralarge/FC/6/3/6/3/9200000050173636.jpg" itemprop="image" class="js_product_img" alt="Sonos PLAY:5 - Zwart" title="Sonos PLAY:5 - Zwart" data-test="product-image">\n                  </div>\n                  <div class="sb sb-chevron-next sb-resize--lg product-image__paging product-image__next js_next"></div>\n                </div>\n                <div class="product-image__image-number js_product-image-number">Afbeelding 1 van 15</div>\n              </div>\n            </div>\n          </div>\n          <div class="fluid-grid__item one-whole product-image-thumb-list js_thumbs_list" data-test="thumb-list">\n            <div class="product-image__thumb-list is-border-box product-image__thumb-list--has-navigation" data-test="product-images">\n              <div class="nav nav--prev js_nav_prev"><span class="sb sb-chevron-back"></span></div>\n              <div data-id="element-product-afbeeldingen" class="list js_list">\n                <ul class="js_thumbs_list_ul product-image__thumb-list--has-scroller">\n                  <li class="nav nav--thumb js_thumb is-active" data-index="0"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="1"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_1.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="2"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_2.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="3"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_3.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="4"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_4.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="5"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_5.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="6"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_6.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="7"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_7.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="8"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_8.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="9"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_9.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="10"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_10.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="11"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_11.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="12"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_12.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="13"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_13.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="14"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_14.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <div class="product-image__thumb-scroller" style="transform: translate3d(470px, 0px, 0px); width: 80px; height: 80px;"></div>\n                </ul>\n              </div>\n              <div class="nav nav--next js_nav_next"><span class="sb sb-chevron-next"></span></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="product-image-cta-container">\n        <a href="#" title="Sonos PLAY:5 - Zwart" data-ean="8717755773036" data-image="https://s.s-bol.com/imgbase0/imagebase3/mini/FC/6/3/6/3/9200000050173636.jpg" data-test="product-image-cta-video" class="product-image-cta product-image-cta--video js-product-image-cta--video is-hidden">Bekijk video</a>\n        <link rel="dns-prefetch" href="//bolcom.tu-vms.com">\n        <link rel="preconnect" href="//bolcom.tu-vms.com">\n      </div>\n    </div>'},{header:'<span><h3 data-title-element="true"></h3></span>',"productbeschrijving-electronica":'<span><h3 data-title-element="true"></h3></span>'}," .description").then(function(i){loadContent(n,e,null,s).then(function(i){var s=t('<div class="content-controls"></div>');s.hide(),o.append(s),s.append('<a href="http://localhost:8000/template.html?template='+a+'" class="btn buy-block__btn-wishlist btn--wishlist btn--quaternary btn--lg js_add_to_wishlist_link js_preventable_buy_action" title="Pas template aan"><i class="fa fa-th"></i> Pas template aan</a>'),s.append('<a href="http://localhost:8000/content.html?content='+n+'" class="btn buy-block__btn-wishlist btn--wishlist btn--quaternary btn--lg js_add_to_wishlist_link js_preventable_buy_action" title="Pas content aan"><i class="fa fa-edit"></i> Pas content aan</a>'),o.hover(function(){s.show(),o.addClass("hover")},function(){s.hide(),o.removeClass("hover")}),t(e+" .show-more__button").click(function(e){var a=t(this).parent().parent().parent();a.hasClass("active")?(a.removeClass("active"),e.preventDefault(),a.find(".show-more-holder").height("210px"),a.find(".js_link-less").hide(),a.find(".js_link-more").show()):(a.addClass("active"),e.preventDefault(),a.find(".show-more-holder").height(a.find(".description").height()),a.find(".js_link-less").show(),a.find(".js_link-more").hide()),t("html, body").animate({scrollTop:t(a).offset().top},500)})})})},getTemplate=function(t,e){if(e)return localStorage.getItem("previewTemplate");var a=this;return db.collection("templates").doc(t).get().then(function(t){if(t.exists)return t;console.log("No such template: "+a.id)}).catch(function(t){console.log("Error getting template:",t)})},getTemplates=function(){var t={};return db.collection("templates").get().then(function(e){return e.forEach(function(e){t[e.id]=e.data()}),t})},setTemplate=function(t,e,a){var n={};n[t]=e;var i=JSON.stringify(n);if(!a){return db.collection("templates").doc(t).set(e).then(function(){return console.log("Template successfully updated!"),e}).catch(function(t){console.error("Error updating document: ",t)})}localStorage.setItem("previewTemplate",i)},setTemplates=function(e){JSON.stringify(e);var a=db.batch();return t.each(e,function(t,e){var n=db.collection("templates").doc(t);a.set(n,e)}),a.commit().then(function(){console.log("Templates successfully updated!")}).catch(function(t){console.error("Error updating document: ",t)})},getProductId=function(){var t=localStorage.getItem("selectedProductId");return t&&"undefined"!=t||(t=setProductId()),t},setProductId=function(t){return t||(t="empty"),localStorage.setItem("selectedProductId",t),localStorage.getItem("selectedProductId")},getTemplateId=function(){var t=localStorage.getItem("selectedTemplateId");return t&&"undefined"!=t||(t=setTemplateId()),t},setTemplateId=function(t){return t||(t="product-description"),localStorage.setItem("selectedTemplateId",t),localStorage.getItem("selectedTemplateId")},getContentName=function(){var t=getProductId();return getContent().then(function(e){return e[t].title})},getTemplateItems=function(){return getTemplates().then(function(e){var a=[];return t.each(e,function(t,e){a.push({id:t,title:e.title,parent:e.parent?e.parent:null})}),a.sort(function(t,e){return t.title.localeCompare(e.title)}),a})},getContentItems=function(e){return void 0==e&&(e=!1),getContent().then(function(a){var n=[];return t.each(a,function(t,a){(e||"empty"!=t.substring(0,5))&&n.push({id:t,type:a.type,title:a.title})}),n.sort(function(t,e){return t.title.localeCompare(e.title)}),n})},populateTemplateItems=function(){return getTemplateItems().then(function(e){e.forEach(function(e){t("#template-items").append(t("<option></option>").attr("value",e.id).text(e.title))}),t("#template-items").val(getTemplateId())})},addTemplateToSectionDropdowns=function(){return getTemplateItems().then(function(e){if(e.length>0){var a=t("#grid-editor").attr("data-template-id"),n=t(".content-type.dropdown-toggle");n.append(t("<option disabled>___________________________</option>")),e.forEach(function(e){var i=e.id==a?' disabled="true"':"",o=e.parent?"- "+e.title:e.title;n.append(t("<option"+i+"></option>").attr("value","template-"+e.id).text(o))}),t(".column .content-type.dropdown-toggle").each(function(){t(this).val(t(this).parent().parent().attr("data-type"))})}})},populateContentItems=function(e){return getContentItems(e).then(function(e){t("#content-items").html("");var a=getTemplateId();e.filter(function(t){return t.type===a||"all"===t.type}).forEach(function(e){t("#content-items").append(t("<option></option>").attr("value",e.id).text(e.title)),t("#preview-content ul.dropdown-menu").append(t('<li><a data-width="auto" title="'+e.id+'"><span>'+e.title+"</span></li>")),e.id===getProductId()&&t("#preview-content-select span").html(e.title)}),t("#content-items").val(getProductId())})},createElement=function(t,e){var a="<h4>"+e.title+"</h4>",n='<div class="form-group">';switch("template-"==e.type.substring(0,9)?"template":e.type){case"text":n+=a,n+='<textarea class="form-control text" data-id="'+t+'" data-type="'+e.type+'"></textarea>';break;case"rich-text":n+=a,n+='<textarea class="form-control rich-text" data-id="'+t+'"data-type="'+e.type+'"></textarea>';break;case"list":n+=a,n+='<textarea class="form-control list" data-id="'+t+'" data-type="'+e.type+'"></textarea>';break;case"quote":n+='<div class="quote" data-id="'+t+'" data-type="'+e.type+'">',n+='<div class="row">',n+='<div class="col-md-12"><h4>'+e.title+"</h4></div>",n+="</div>",n+='<div class="row">',n+='<div class="col-md-9 form-group">',n+='<label for="'+e.id+'-content">Quote</label>',n+='<input id="'+e.id+'-content" class="form-control">',n+="</div>",n+='<div class="col-md-3 form-group">',n+='<label for="'+e.id+'-person">Gezegd door</label>',n+='<input id="'+e.id+'-person" class="form-control">',n+="</div>";break;case"image":n+=a,n+='<select data-id="'+t+'" data-type="'+e.type+'"></select>';break;case"imagelist":n+=a,n+='<select data-id="'+t+'" data-type="'+e.type+'" multiple="multiple"></select>';break;case"template":var i=e.type.substring(9);n+=a,n+='<select data-id="'+t+'" data-type="'+e.type+'" data-template="'+i+'"></select>',populateContentDropdown(t,i);break;default:n+=a,n+='<input class="form-control" data-id="'+t+'" data-type="'+e.type+'">'}return n+="</div>"},populateContentDropdown=function(e,a){return getContentItems().then(function(n){n.filter(function(t){return t.type===a||"all"===t.type}).forEach(function(a){t('select[data-id="'+e+'"]').append(t("<option></option>").attr("value",a.id).text(a.title))})})},populateImageList=function(a,n,i){return t.getJSON("http://localhost:8888/images/"+n,function(o){o.forEach(function(e){a.append(t("<option></option>").attr("data-img-src","/sample_content/images/"+n+"/"+e).attr("value",e).text(e))});var s=e(i)?JSON.parse(i):i;s&&a.val(s),t(a).imagepicker()})},getContentTypeFromClass=function(e){var a=t(e).attr("class").split(" ").filter(function(t){return"string"==typeof t&&t.indexOf("content-")>-1}).map(function(t){return t.substring(8)})[0];return void 0==a&&(a="text"),a};function e(t){try{JSON.parse(t)}catch(t){return!1}return!0}wrapWithParagraph=function(e,a){var n=t(e);return t.each(a,function(a,i){n=t(e+" "+i).wrapInner("<p></p>")}),n};convertHtmlToMarkdown=function(t){return new reMarked({link_list:!1,h1_setext:!0,h2_setext:!0,h_atx_suf:!1,gfm_code:"```",trim_code:!0,li_bullet:"*",hr_char:"-",indnt_str:"    ",bold_char:"*",emph_char:"_",gfm_del:!0,gfm_tbls:!0,tbl_edges:!1,hash_lnks:!1,br_only:!1,col_pre:"col ",nbsp_spc:!1,span_tags:!0,div_tags:!0,unsup_tags:{ignore:"script style noscript",inline:"span sup sub i u b center big",block2:"div form fieldset dl header footer address article aside figure hgroup section",block1c:"dt dd caption legend figcaption output",block2c:"canvas audio video iframe"},tag_remap:{i:"em",b:"strong"}}).render(t)},convertMarkdownToHtml=function(t){return(new showdown.Converter).makeHtml(t)},convertPropertiesToMarkdown=function(e){return t.each(e.content,function(a,n){t.each(n,function(t,n){e.content[a][t]=convertHtmlToMarkdown(n)})}),e},getURLParameter=function(t){for(var e=window.location.search.substring(1).split("&"),a=0;a<e.length;a++){var n=e[a].split("=");if(n[0]==t)return n[1]}},setURLParameter=function(t,e){var a=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+t+"="+e;window.history.pushState({path:a},"",a)},slugify=function(t){return t.toLowerCase().split(" ").join("-")}}(jQuery);var firebaseConfig={apiKey:"AIzaSyC1oK8OilCE_f6tBdsKkCSEScjnhNWVelU",authDomain:"retail-tooling-cms.firebaseapp.com",databaseURL:"https://retail-tooling-cms.firebaseio.com",projectId:"retail-tooling-cms",storageBucket:"retail-tooling-cms.appspot.com",messagingSenderId:"73299715568"};firebase.initializeApp(firebaseConfig);var db=firebase.firestore();$.fn.gridEditor.RTEs.ckeditor={init:function(t,e){window.CKEDITOR||console.error("CKEditor not available! Make sure you loaded the ckeditor and jquery adapter js files.");var a=this;e.each(function(){var e=$(this);if(!e.hasClass("active")){e.html()==a.initialContent&&e.html("&nbsp;"),e.addClass("active").attr("contenteditable","true");var n=$.extend({},t.ckeditor&&t.ckeditor.config?t.ckeditor.config:{},{on:{instanceReady:function(e){var a;try{a=t.ckeditor.config.on.instanceReady}catch(t){}a&&a.call(this,e),i.focus()}}}),i=CKEDITOR.inline(e.get(0),n)}})},deinit:function(t,e){e.filter(".active").each(function(){var t=$(this);$.each(CKEDITOR.instances,function(t,e){e.destroy()}),t.removeClass("active cke_focus").removeAttr("id").removeAttr("style").removeAttr("spellcheck").removeAttr("contenteditable")})},initialContent:"<p>Lorem initius... </p>"},$.fn.gridEditor.RTEs.summernote={init:function(t,e){jQuery().summernote||console.error("Summernote not available! Make sure you loaded the Summernote js file.");var a=this;e.each(function(){var e=$(this);if(!e.hasClass("active")){e.html()==a.initialContent&&e.html(""),e.addClass("active");var n=$.extend(!0,{},t.summernote&&t.summernote.config?t.summernote.config:{},{tabsize:2,airMode:!0,callbacks:{onInit:function(){var a;try{a=t.summernote.config.callbacks.onInit}catch(t){}a&&a.call(this),e.summernote("focus")}}});e.summernote(n)}})},deinit:function(t,e){e.filter(".active").each(function(){var t=$(this);t.summernote("destroy"),t.removeClass("active").removeAttr("id").removeAttr("style").removeAttr("spellcheck")})},initialContent:"<p>Lorem ipsum dolores</p>"},$.fn.gridEditor.RTEs.tinymce={init:function(t,e){window.tinymce||console.error("tinyMCE not available! Make sure you loaded the tinyMCE js file."),e.tinymce||console.error("tinyMCE jquery integration not available! Make sure you loaded the jquery integration plugin.");var a=this;e.each(function(){var e=$(this);if(!e.hasClass("active")){e.html()==a.initialContent&&e.html(""),e.addClass("active");var n=$.extend({},t.tinymce&&t.tinymce.config?t.tinymce.config:{},{inline:!0,oninit:function(e){$("#"+e.settings.id).focus();var a;try{a=t.tinymce.config.oninit}catch(t){}a&&a.call(this)}});e.tinymce(n)}})},deinit:function(t,e){e.filter(".active").each(function(){var t=$(this),e=t.tinymce();e&&e.remove(),t.removeClass("active").removeAttr("id").removeAttr("style").removeAttr("spellcheck")})},initialContent:"<p>No content</p>"};
//# sourceMappingURL=jquery.grideditor.min.js.map