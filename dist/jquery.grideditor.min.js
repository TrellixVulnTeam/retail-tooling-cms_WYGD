!function(t){t.fn.gridEditor=function(e){var a=this.data("grideditor"),n=0;if("getHtml"==arguments[0]){if(a){a.deinit();var i=this.html();return a.init(),i}return this.html()}return"deinit"==arguments[0]&&a?(a.deinit(),t(".ge-mainControls").remove(),void t(".ge-html-output").remove()):(this.each(function(a,i){i=t(i);var o,s,r,l,c=t.extend({new_row_layouts:[[12],[6,6],[4,4,4],[3,3,3,3],[2,2,2,2,2,2],[2,8,2],[4,8],[8,4]],row_classes:[{label:"Example class",cssClass:"example-class"}],col_classes:[{label:"Example class",cssClass:"example-class"}],col_tools:[],row_tools:[],custom_filter:"",editor_types:["tinymce"],valid_col_sizes:[1,2,3,4,5,6,7,8,9,10,11,12],source_textarea:"",content_types:[{id:"text",label:"Tekst"},{id:"rich-text",label:"Opgemaakte tekst"},{id:"list",label:"Lijst"},{id:"quote",label:"Annotatie"},{id:"image",label:"Afbeelding"},{id:"image-list",label:"Meerdere afbeeldingen"},{id:"warning",label:"Waarschuwing"}],template_types:[{id:"basic",label:"Basic"},{id:"collapsible",label:"Collapsible"}],prios:[{id:1,label:"Hoge prio"},{id:2,label:"Medium prio"},{id:3,label:"Lage prio"}],default_content_type_id:"text",default_content_prio:2},e),d=["col-md-","col-sm-","col-xs-"],p=0,u=12;if(c.source_textarea){var m=t(c.source_textarea);m.addClass("ge-html-output"),l=m,m.val()&&i.html(m.val())}if(i.children().length&&!i.find("div.row").length){var h=i.children();t('<div class="row"><div class="col-md-12"/></div>').appendTo(i).find(".col-md-12").append(h)}!function(){o=i.addClass("ge-canvas"),void 0!==l&&l.length||(l=t('<textarea class="ge-html-output"/>').insertBefore(o));s=t('<div class="ge-mainControls" />').insertBefore(l);var e=t('<div class="ge-wrapper ge-top" />').appendTo(s),a=t('<div id="preview-controls" class="form-inline"></div>').appendTo(e),n=t('<div class="form-group"></div>').appendTo(a),d=t('<div class="dropdown ge-layout-mode"><label for="layout-type-select">Preview size: </label><button id="layout-type-select" type="button" class="btn btn-md btn-secondary dropdown-toggle" data-toggle="dropdown"><span>Desktop</span></button><ul class="dropdown-menu" role="menu"><li><a data-width="auto" title="Desktop"><span>Desktop</span></a></li><li><a title="Tablet"><span>Tablet</span></li><li><a title="Phone"><span>Phone</span></a></li></ul></div>').on("click","a",function(){var e=t(this);x(e.closest("li").index());var a=d.find("button");a.find("span").remove(),a.append(e.find("span").clone())}).appendTo(n),p=t('<div id="preview-content" class="dropdown ge-content-mode"><label for="preview-content-select">Preview content: </label><button id="preview-content-select" type="button" class="btn btn-md btn-secondary dropdown-toggle" data-toggle="dropdown"><span>--Geen--</span></button><ul class="dropdown-menu" role="menu"></ul></div>').on("click","a",function(){var e=t(this),a=p.find("button");a.find("span").remove(),a.append(e.find("span").clone())}).appendTo(n);r=t('<div class="ge-addRowGroup btn-group" />').appendTo(e),t.each(c.new_row_layouts,function(e,a){var n=t('<a class="btn btn-md btn-primary" />').attr("title","Add row "+a.title).on("click",function(){var e,n=(e=a.title,t('<div class="row" data-id="'+S(e)+'" data-title="'+e+'" />')).appendTo(o);a.cols.forEach(function(t){C(t.count,t.type).appendTo(n)}),g()}).appendTo(r);n.append('<span class="glyphicon glyphicon-plus-sign"/>');var i=a.title;a.cols&&a.cols.forEach(function(t){'<div class="column col-xs-'+t+'"/>'}),n.append(i)});t('<div class="btn-group pull-right"/>').appendTo(e);var u=t('<button title="Edit Source Code" type="button" class="btn btn-md btn-primary gm-edit-mode"><span class="glyphicon glyphicon-chevron-left"></span><span class="glyphicon glyphicon-chevron-right"></span></button>').on("click",function(){u.hasClass("active")?(o.empty().html(l.val()).show(),g(),l.hide()):(f(),l.height(.8*t(window).height()).val(o.html()).show(),o.hide()),u.toggleClass("active btn-danger")}),m=t('<button title="Preview" type="button" class="btn btn-md btn-primary gm-preview"><span class="glyphicon glyphicon-eye-open"></span></button>').on("mouseenter",function(){o.removeClass("ge-editing")}).on("click",function(){m.toggleClass("active btn-danger").trigger("mouseleave")}).on("mouseleave",function(){m.hasClass("active")||o.addClass("ge-editing")});o.on("mouseenter",".row > .ge-tools-drawer",function(e){t(this).parent().find("> .ge-tools-drawer a").show(),t(this).parent().find(".template-type").show()}),o.on("mouseleave",".row > .ge-tools-drawer",function(e){t(this).parent().find("> .ge-tools-drawer a").hide(),t(this).parent().find(".template-type").hide(),t(this).parent().find(".ge-details").hide()}),o.on("mouseenter",".column",function(e){t(this).find("> .ge-tools-drawer > a").show(),t(this).find(".content-type").show(),t(this).find(".prio").show()}),o.on("mouseleave",".column",function(e){t(this).find("> .ge-tools-drawer > a").hide(),t(this).find(".content-type").hide(),t(this).find(".prio").hide(),t(this).find(".ge-details").hide()})}(),g();function g(){j(!0),o.addClass("ge-editing"),o.find('.column, div[class*="col-"]').each(function(){var e=t(this),a=2,n=w(e);n.length&&(a=n[0].size);var i=e.attr("class");d.forEach(function(t){-1==i.indexOf(t)&&e.addClass(t+a)}),e.addClass("column")}),o.find(".column").each(function(){var e=t(this),a=t();e.children().each(function(){var e=t(this);e.is(".row, .ge-tools-drawer, .ge-element-title, .ge-content")?T(a):a=a.add(e)}),T(a)}),o.find(".row").each(function(){var e=t(this);if(!e.find("> .ge-tools-drawer").length){var a=e.attr("data-title")?e.attr("data-title"):"No title",n=(t('<div class="ge-element-title" contenteditable="true">'+a+"</div>").prependTo(e),t('<div class="ge-tools-drawer" />').prependTo(e)),i=e.attr("data-type")?e.attr("data-type"):"basic",o=t('<select class="template-type btn btn-xs btn-secondary dropdown-toggle"></select>').prependTo(n);c.template_types.forEach(function(e){o.append(t("<option></option>").attr("value",e.id).text(e.label)),i==e.id&&o.val(i)}),o.hide();var s=b(e,c.row_classes).appendTo(n);s.hide(),v(n,"Move","ge-move","glyphicon-move",null,!0),c.row_tools.forEach(function(t){v(n,t.title||"",t.className||"",t.iconClass||"glyphicon-wrench",t.on,null)}),v(n,"Remove row","","glyphicon-trash",function(){e.slideUp(function(){e.remove()})},!0),v(n,"Add column","ge-add-column","glyphicon-plus-sign",function(){e.append(C(12)),g()},!0)}}),t(".row .ge-element-title").change(function(){t(this).parent().attr("data-id",S(t(this).text())),t(this).parent().attr("data-title",t(this).text())}),n=0,o.find(".column").each(function(){n++;var e=t(this);if(!e.find("> .ge-tools-drawer").length){var a=e.attr("data-title")?e.attr("data-title"):"No title",i=(t('<div class="ge-element-title" contenteditable="true">'+a+"</div>").prependTo(e),e.attr("data-type")?e.attr("data-type"):""),o=e.attr("data-prio")?e.attr("data-prio"):"",s=t('<div class="ge-tools-drawer" />').prependTo(e),r=t('<select class="content-type btn btn-xs btn-secondary dropdown-toggle"></select>').prependTo(s);c.content_types.forEach(function(e){r.append(t("<option></option>").attr("value",e.id).text(e.label)),i==e.id&&r.val(i)}),r.hide();var l=t('<select class="prio btn btn-xs btn-secondary dropdown-toggle"></select>').prependTo(s);c.prios.forEach(function(e){l.append(t("<option></option>").attr("value",e.id).text(e.label)),o==e.id&&l.val(o)}),l.hide();var m=b(e,c.col_classes).appendTo(s);v(s,"Move","ge-move","glyphicon-move",null,!0),v(s,"Make column narrower\n(hold shift for min)","ge-decrease-col-width","glyphicon-minus",function(t){var a=c.valid_col_sizes,n=d[p],i=a.indexOf(_(e,n)),o=a[I(i-1,0,a.length-1)];t.shiftKey&&(o=a[0]),y(e,n,Math.max(o,1))},!0),v(s,"Make column wider\n(hold shift for max)","ge-increase-col-width","glyphicon-plus",function(t){var a=c.valid_col_sizes,n=d[p],i=a.indexOf(_(e,n)),o=I(i+1,0,a.length-1),s=a[o];t.shiftKey&&(s=a[a.length-1]),y(e,n,Math.min(s,u))},!0),c.col_tools.forEach(function(t){v(s,t.title||"",t.className||"",t.iconClass||"glyphicon-wrench",t.on,!0)}),v(s,"Remove col","","glyphicon-trash",function(){e.animate({opacity:"hide",width:"hide",height:"hide"},400,function(){e.remove()})},!0),m.hide()}}),t(".row .template-type").change(function(){t(this).parent().parent().attr("data-type",t(this).val())}),t(".column > .ge-element-title").change(function(){t(this).parent().attr("data-id",S(t(this).text())),t(this).parent().attr("data-title",t(this).text())}),t(".column .content-type").change(function(){t(this).parent().parent().attr("data-type",t(this).val())}),t(".column .prio").change(function(){t(this).parent().parent().attr("data-prio",t(this).val())}),function(){o.find(".row").sortable({items:"> .column",connectWith:".ge-canvas .row",handle:".ge-tools-drawer .ge-move",start:t,helper:"clone"}),o.add(o.find(".column")).sortable({items:"> .row, > .ge-content",connectsWith:".ge-canvas, .ge-canvas .column",handle:".ge-tools-drawer .ge-move",start:t,helper:"clone"});function t(t,e){e.placeholder.css({height:e.item.outerHeight()})}}(),t("body").on("focus","[contenteditable]",function(){var e=t(this);return e.data("before",e.html()),e}).on("blur keyup paste input","[contenteditable]",function(){var e=t(this);return e.data("before")!==e.html()&&(e.data("before",e.html()),e.trigger("change")),e}),x(p)}function f(){o.removeClass("ge-editing");o.find(".ge-content").each(function(){var e=t(this);E(e.data("ge-content-type")).deinit(c,e)});o.find(".ge-tools-drawer").remove(),o.add(o.find(".column")).add(o.find(".row")).sortable("destroy"),o.find(".column .ge-element-title").remove(),j()}function v(e,a,n,i,o,s){var r=t('<a title="'+a+'" class="'+n+'"><span class="glyphicon '+i+'"></span></a>').appendTo(e);"function"==typeof o&&r.on("click",o),"object"==typeof o&&t.each(o,function(t,e){r.on(t,e)}),s&&r.hide()}function b(e,a){var n=t('<div class="ge-details" />');t('<input class="ge-id" />').attr("placeholder","title").val(e.attr("data-title")).attr("data-id","no-id").attr("data-title","Set a unique title").appendTo(n).change(function(){e.attr("data-id",S(this.value)),e.attr("data-title",this.value);var t=e.find(".ge-element-title").first();t&&t.text(this.value),e.find(".ge-details").hide()});var i=t('<div class="btn-group" />').appendTo(n);return a.forEach(function(a){var n=t('<a class="btn btn-xs btn-default" />').html(a.label).attr("title",a.title?a.title:'Toggle "'+a.label+'" styling').toggleClass("active btn-primary",e.hasClass(a.cssClass)).on("click",function(){n.toggleClass("active btn-primary"),e.toggleClass(a.cssClass,n.hasClass("active"))}).appendTo(i)}),n}function _(t,e){for(var a=w(t),n=0;n<a.length;n++)if(a[n].colClass==e)return a[n].size;return a.length?a[0].size:null}function w(t){var e=[];return d.forEach(function(a){var n=new RegExp(a+"(\\d+)","i");n.test(t.attr("class"))&&e.push({colClass:a,size:parseInt(n.exec(t.attr("class"))[1])})}),e}function y(t,e,a){var n=new RegExp("("+e+"(\\d+))","i").exec(t.attr("class"));n&&parseInt(n[2])!==a?t.switchClass(n[1],e+a,50):t.addClass(e+a)}function C(e,a,i,o){n++,void 0==i&&(i=t.grep(c.content_types,function(t){return t.id==c.default_content_type_id}).label),void 0==a&&(a=c.default_content_type_id),void 0==o&&(o=c.default_content_prio);var s=a+"-"+n;return t("<div/>").addClass(d.map(function(t){return t+e}).join(" ")).addClass("content-"+a).attr("id",s).attr("data-id",s).attr("data-title",i).attr("data-type",a).attr("data-prio",o).append(k().html(E(c.editor_types[0]).initialContent))}function j(e){c.custom_filter.length&&t.each(c.custom_filter,function(t,a){"string"==typeof a&&(a=window[a]),a(o,e)})}function T(e){if(e.length){var a=k().insertAfter(e.last());e.appendTo(a),e=t()}}function k(){return t("<div/>").addClass("ge-content ge-content-type-"+c.editor_types[0]).attr("data-ge-content-type",c.editor_types[0])}function x(t){p=t;["ge-layout-desktop","ge-layout-tablet","ge-layout-phone"].forEach(function(e,a){o.toggleClass(e,a==t)})}function E(e){return t.fn.gridEditor.RTEs[e]}function I(t,e,a){return Math.min(a,Math.max(e,t))}i.data("grideditor",{init:g,deinit:f});function S(t){return t.toLowerCase().split(" ").join("-")}}),this)},t.fn.gridEditor.RTEs={}}(jQuery),function(t){saveTemplate=function(e,a,n,i,o){var s={title:a,content:{},link:i,parent:o},r=0,l=0;return t(n).filter(".row").each(function(){var e={},a=t(this).attr("data-title")?t(this).attr("data-title"):"",n=t(this).attr("data-type")?t(this).attr("data-type"):"",i=t(this).attr("data-id")?t(this).attr("data-id"):slugify(a);r++,t(this).find(".column").each(function(){var a=t(this).attr("data-id"),n=t(this).attr("data-title")?t(this).attr("data-title"):"",i=t(this).attr("data-type")?t(this).attr("data-type"):"",o=t(this).attr("data-prio")?parseInt(t(this).attr("data-prio")):0,s=t.grep(this.className.split(" "),function(t,e){return 0===t.indexOf("col-")}).join(" ");l++,e[a]={title:n,type:i,prio:o,class:s,sort:l}}),s.content[i]={title:a,type:n,elements:e,sort:r}}),storeTemplate(e,s)},resetSampleTemplate=function(){return t.getJSON("sample-templates.json",function(t){console.log("Template reset completed"),setTemplates(t)})},resetSampleContent=function(){return t.getJSON("sample-content.json",function(t){console.log("Content reset completed"),storeContent(t,!1,!0)})},resetSampleProducts=function(){return t.getJSON("sample-products.json",function(t){console.log("Product reset completed"),storeProducts(t,!1,!0)})},resetSampleImages=function(){return getTemplates().then(function(e){var a={};return t.getJSON("sample-images.json",function(e){var n=storage.ref().child("images");t.each(e,function(t,e){n.child(t).getDownloadURL().then(function(n){var i={template:e.template,url:n},o=db.collection("images").doc(t);a[t]=i,o.set(i).then(function(){console.log("Image successfully updated!")}).catch(function(t){console.error("Error updating mage: ",t)})})})})})},getSampleImagesJSON=function(){getTemplates().then(function(e){var a={};t.each(e,function(e,n){db.batch();t.getJSON("http://localhost:8888/images/"+e,function(t){var n=storage.ref().child("images");t.forEach(function(t){n.child(t).getDownloadURL().then(function(n){var i={template:e,url:n};db.collection("images").doc(t);a[t]=i,console.log(JSON.stringify(a))})})})})})},saveContent=function(t,e){return getContent().then(function(a){var n=parseContent(t,e),i=getContentId(),o=t.attr("data-template-id");a[i]||(a[i]={}),a[i].content=n,a[i].type=o,storeContent(a,e.isPreview)})},parseContent=function(e,a){var n={},i=(e.html(),a&&a.sectionDivider?a.sectionDivider:".row"),o=a&&a.elementDivider?a.elementDivider:'[class^="col-"]',s=a&&a.subElement?a.subElement:null,r=a&&a.contentFormat?a.contentFormat:"object";return e.find(i).each(function(){var e={};t(this).find(o).each(function(){if(s)var a=t(this).find(s);else a=t(this);a.each(function(){if(t(this).attr("data-id")){0;var a=t(this).attr("data-id"),n=t(this).attr("data-type"),i=(t(this).attr("data-prio"),"object"==r?t(this).val():t(this).html()),o="";if("object"==typeof i?o=JSON.stringify(i):(i=i.replace(/\r?\n|\r/g,"").trim(),o=convertHtmlToMarkdown(i)),"quote"==n){var s="object"==r?t(this).val():t(this).html(),l=t(this).find("#annotatie-content").val();l||(l=s),i="<blockquote>"+l+"</blockquote>";var c=t(this).find("#annotatie-person").val();c&&(i+="<person>"+c+"</person>"),o=convertHtmlToMarkdown(i)}else"list"==n&&"*"==o.trim()&&(o="");e[a]=o}})}),n[this.id]={elements:e}}),n},loadTemplate=function(e,a,n,i,o){return getTemplate(a).then(function(a){var s=[];return t.each(a.data().content,function(e,a){var n=[];t.each(a.elements,function(t,e){e.id=t,n.push(e)}),n.sort(function(t,e){return t.sort&&e.sort?t.sort.toString().localeCompare(e.sort.toString()):0}),a.id=e,a.elements=n,s.push(a)}),s.sort(function(t,e){return t.sort&&e.sort?t.sort.toString().localeCompare(e.sort.toString()):0}),t(e).html(""),t(e).attr("data-template-id",a.id),t(e).attr("data-template-title",a.data().title),t(e).attr("data-template-link",a.data().link),t(e).attr("data-template-parent",a.data().parent),t(e).html('<span class="loader glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>'),t.each(s,function(a,s){if(!n||n==s.id){s.type||(s.type="basic");var r=i?t(i[s.type]).clone():t('<div class="row"></div>');r.attr("data-id",s.id),r.attr("data-title",s.title),r.attr("data-type",s.type),i&&t(r).find("[data-title-element='true']").html(s.title),t.each(s.elements,function(e,a){var n=t("<div></div>");n.attr("data-id",a.id),n.attr("data-title",a.title),n.attr("data-type",a.type),n.attr("data-prio",a.prio),n.addClass(a.class),n.addClass("column"),n.addClass("element-"+e),n.addClass("content-"+a.type);n.append('<span><h3 data-title-element="true"></h3></span>').find("[data-title-element='true']").html(a.title),o?r.find(o).append(n):r.append(n),r.hide()}),t(e).append(r)}}),a})},loadTemplates=function(e){return getTemplates().then(function(a){var n=[],i=t(e);i.html(""),i.append("<thead><tr><th>Naam</th></tr></thead>"),i.append("<tbody></tbody>"),t.each(a,function(t,e){e.id=t,e.sort=e.parent?e.parent+"-"+t:t,n.push(e)}),n.sort(function(t,e){return t.sort.localeCompare(e.sort)}),t.each(n,function(t,e){var a=e.parent?"child":"";i.append('<tr><td><a href="/template.html?template='+e.id+'" class="'+a+'">'+e.title+"</a></td></tr>")})})},loadTemplateInContentEditor=function(e,a,n){return getTemplate(a).then(function(i){e.html(""),e.attr("data-template-id",a);var o=[];return t.each(i.data().content,function(e,a){var n=[];t.each(a.elements,function(t,e){e.id=t,n.push(e)}),n.sort(function(t,e){return t.sort&&e.sort?t.sort.toString().localeCompare(e.sort.toString()):0}),a.id=e,a.elements=n,o.push(a)}),o.sort(function(t,e){return t.sort&&e.sort?t.sort.toString().localeCompare(e.sort.toString()):0}),t.each(o,function(a,i){var o=n.clone(),s=t(o).find(".panel-title")[0],r=t(o).find(".panel-body")[0],l="";o.attr("id",i.id),o.addClass("section"),s.innerHTML=i.title,t.each(i.elements,function(e,a){t("#"+a.id)?l+=createElement(a):console.log(a.id+" not found")}),r.innerHTML=l,e.append(o)}),i})},loadProducts=function(e){return getProducts().then(function(a){var n=[],i=t(e);i.html(""),i.append("<thead><tr><th>Naam</th><th>Type</th></tr></thead>"),i.append("<tbody></tbody>"),t.each(a,function(t,e){e.id=t,n.push(e)}),n.sort(function(t,e){return t.title.localeCompare(e.title)}),t.each(n,function(t,e){var n=a[e.type]?a[e.type].title:"Geen";i.append('<tr><td><a href="/product.html?product='+e.id+'">'+e.title+"</a></td><td>"+n+"</td></tr>")})})},loadContentItems=function(e){return getTemplates().then(function(a){return getContent().then(function(n){var i=[],o=t(e);o.html(""),o.append("<thead><tr><th>Naam</th><th>Type</th></tr></thead>"),o.append("<tbody></tbody>"),t.each(n,function(t,e){"empty"!=t.substring(0,5)&&(e.id=t,i.push(e))}),i.sort(function(t,e){return t.title.localeCompare(e.title)}),t.each(i,function(t,e){var n=a[e.type]?a[e.type].title:"Geen";o.append('<tr><td><a href="/content.html?content='+e.id+'">'+e.title+"</a></td><td>"+n+"</td></tr>")})})})},loadContent=function(a,n,i,o){return getContent("preview"==o).then(function(s){var r=s[a],l="all"!=r.type?r.type:getTemplateId();if(r){switch(o){case"template-editor":subElement="> .ge-content";break;case"content-editor":subElement="";break;default:subElement="span"}return getTemplate(l).then(function(l){return void 0==i&&(i=""),t(n).attr("data-content-title",r.title),t.each(l.data().content,function(s,c){t.each(c.elements,function(s,c){componentType="element";var d=n+' [data-id="element-'+s+'"]',p=t(d);if(0==p.length&&(componentType="default",d=subElement&&null!=subElement?n+' [data-id="'+s+'"] '+subElement:n+' [data-id="'+s+'"]',p=t(d)),p.length>0){var u=function t(e,a){for(var n in e)if(e.hasOwnProperty(n)){if(n==a)return e[n];if("object"==typeof e[n]){var i=t(e[n],a);if(i)return i}}}(r,s);switch(u||(u=i),c.type){case"quote":if("live"!=o&&"preview"!=o){g=convertMarkdownToHtml(u);var m=t(g).filter("blockquote").find("p").html();m||(m=u),p.find("#"+s+"-content").val(m),p.find("#"+s+"-content").html(m);var h=t(g).find("person").html();p.find("#"+s+"-person").val(h),p.find("#"+s+"-person").html(h);break}var g=convertMarkdownToHtml(u);p.val(convertMarkdownToHtml(u)),p.html(convertMarkdownToHtml(u));case"text":case"rich-text":"live"==o||"preview"==o?p.append(convertMarkdownToHtml(u)):(p.val(convertMarkdownToHtml(u)),p.html(convertMarkdownToHtml(u)));break;case"image":if("live"==o)"productafbeeldingen-sonos"==a?p.attr("src",u):p.html(convertMarkdownToHtml(u));else if("content-editor"==o)populateImageList(p,l.id,u);else if("template-editor"==o){if(u){var f=t("<img>").attr("src",u);p.append(f)}}else p.val(convertMarkdownToHtml(u)),p.html(convertMarkdownToHtml(u));break;case"imagelist":var v=e(u)?JSON.parse(u):u;if("live"==o)if("product-afbeeldingen"==s){var b=0,_=t(".product-image-thumb-list");p.html(""),v&&v.forEach(function(e){b++;var a=t('<img unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb">').addClass("thumbnail").attr("src",e).attr("data-index",b),n=t('<li class="nav nav--thumb js_thumb"></li>');1==b&&n.addClass("is-active"),p.append(n.wrapInner(a))})}else{_=t('<ul class="imagelist"></ul>');v&&v.forEach(function(e){var a=t("<img>").addClass("thumbnail").attr("src",e);_.append(t("<li></li>").wrapInner(a))}),p.append(_)}else if("content-editor"==o)populateImageList(p,l.id,u);else if("template-editor"==o){_=t('<ul class="imagelist"></ul>');v&&v.forEach(function(e){var a=t("<img>").attr("src",e);_.append(t("<li></li>").wrapInner(a))}),p.append(_)}else p.val(convertMarkdownToHtml(u)),p.html(convertMarkdownToHtml(u));break;case"list":g=convertMarkdownToHtml(u);if("live"==o||"preview"==o){if("pluspunten"==s||"minpunten"==s){t("body").append('<div id="temp-html" style="display: none"></div>');var w=t("#temp-html").append(g);t(w).find("ul").addClass("review-pros-and-cons__list review-pros-and-cons__list--pros"),"pluspunten"==s?t(w).find("li").addClass("review-pros-and-cons__attribute review-pros-and-cons__attribute--pro"):t(w).find("li").addClass("review-pros-and-cons__attribute review-pros-and-cons__attribute--con"),g=w.html(),w.remove()}p.append(g)}else"template-editor"!=o&&""==g&&(g="<ul><li></li></ul>"),p.val(g),p.html(g);break;default:"live"==o?p.append(u):"template-"==c.type.substring(0,9)?p.val(u):(p.val(u),p.html(u))}}})}),t(n).find(".loader").remove(),t(n).children().show(),s[a]})}})},getContent=function(t){var e={};return t?new Promise(function(t,e){t(JSON.parse(localStorage.getItem("previewContent")))}):db.collection("content").get().then(function(t){return t.forEach(function(t){e[t.id]=t.data()}),e})},storeProducts=function(e,a,n){var i=JSON.stringify(e);if(!a){var o=db.batch();return t.each(e,function(t,e){console.log(e);var a=db.collection("products").doc(t);o.set(a,e)}),o.commit().then(function(){console.log("Content successfully updated!")}).catch(function(t){console.error("Error updating document: ",t)})}localStorage.setItem("previewProducts",i)},storeContent=function(e,a,n){var i=JSON.stringify(e);if(!a){var o=db.batch();return t.each(e,function(t,e){n&&(e=convertPropertiesToMarkdown(e));var a=db.collection("content").doc(t);o.set(a,e)}),o.commit().then(function(){console.log("Products successfully updated!")}).catch(function(t){console.error("Error updating document: ",t)})}localStorage.setItem("previewContent",i)},setShopMainTemplate=function(){t("#product_title").append('<a id="edit-page-template" href="template.html?template=pdp" class="review__btn-write-review" style="float: right" title="Pas template aan"><i class="fa fa-th"></i> Pas pagina-template aan</a>')},setShopElementContent=function(e,a,n){n||(n=getContentId());var i=!(!getURLParameter("preview")||"undefined"==getURLParameter("preview")),o=t(e);t(e+"  .description");o.html("");var s=i?"preview":"live";loadTemplate(o,a,null,{basic:'<div class="slot slot--description slot--seperated">\n      <h2 data-title-element="true"></h2>\n      <div data-id="productbeschrijving" class="description row">\n      </div>\n    </div>',collapsible:'<div class="slot slot--description slot--seperated slot--seperated--has-more-content js_slot-description">\n      <h2 data-title-element="true"></h2>\n      <div class="js_show-more-description show-more">\n        <div class="js_show-more-holder show-more-holder show-more--l product-tracklists-show-more--animate">\n          <div data-id="section-productbeschrijving" class="description row">\n          </div>\n        </div>\n\n        <div class="show-more__fade  js_show-more-button">\n          <a href="#" class="show-more__button" data-test="showmore">\n              <span class="[ show-more__text  show-more__text-more ]  js_link-more" title="Toon meer" data-test="showmore-text-more">Toon meer</span>\n              <span class="[ show-more__text  show-more__text-less ]  js_link-less" title="Toon minder" data-test="showmore-text-less">Toon minder</span>\n            </a>\n        </div>\n      </div>\n    </div>',"product-images":'<div class="product-images product_media [ slot slot--product-images ] js_product_media" data-test="product-images">\n      <a name="product_images" id="product_images"></a>\n      <div class="product_image js_product_image">\n        <div class="fluid-grid fluid-grid--s">\n          <div class="fluid-grid__item one-whole">\n            <div class="product-image__promo-labels">\n              <div class="awareness-label awareness-label--image awareness-label--award" data-test="awareness-label-award">\n                <a href="#awareness-award" class="awareness-label__link  js_awareness_scroll_trigger" data-test="scroll-to-trigger">\n                  <img src="//s.s-bol.com/nl/upload/images/expertlabels/award_whathifi_5stars.png" alt="" title="" data-test="awareness-label-image" width="82" height="26">\n                </a>\n              </div>\n            </div>\n            <div class="product-image-content js_image_container">\n              <div class="product-image-content js_image_container" data-rnwy-component="ab80e392-dfba-484d-b888-4c637c856f14">\n                <div class="product-image--content js_product_image_pan" data-test="product-image-content">\n                  <div class="sb sb-chevron-back sb-resize--lg product-image__paging product-image__prev js_prev"></div>\n                  <div class="product_zoom_wrapper js_product_zoom_wrapper tst_product_zoom_wrapper js_product_image_pan_item product_zoom_wrapper--has-zoom">\n                    <img data-id="element-afbeelding" src="//s.s-bol.com/imgbase0/imagebase3/large/FC/6/3/6/3/9200000050173636.jpg" data-zoom-src="//s.s-bol.com/imgbase0/imagebase3/extralarge/FC/6/3/6/3/9200000050173636.jpg" itemprop="image" class="js_product_img" alt="Sonos PLAY:5 - Zwart" title="Sonos PLAY:5 - Zwart" data-test="product-image">\n                  </div>\n                  <div class="sb sb-chevron-next sb-resize--lg product-image__paging product-image__next js_next"></div>\n                </div>\n                <div class="product-image__image-number js_product-image-number">Afbeelding 1 van 15</div>\n              </div>\n            </div>\n          </div>\n          <div class="fluid-grid__item one-whole product-image-thumb-list js_thumbs_list" data-test="thumb-list">\n            <div class="product-image__thumb-list is-border-box product-image__thumb-list--has-navigation" data-test="product-images">\n              <div class="nav nav--prev js_nav_prev"><span class="sb sb-chevron-back"></span></div>\n              <div data-id="element-product-afbeeldingen" class="list js_list">\n                <ul class="js_thumbs_list_ul product-image__thumb-list--has-scroller">\n                  <li class="nav nav--thumb js_thumb is-active" data-index="0"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="1"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_1.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="2"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_2.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="3"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_3.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="4"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_4.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="5"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_5.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="6"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_6.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="7"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_7.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="8"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_8.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="9"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_9.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="10"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_10.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="11"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_11.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="12"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_12.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="13"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_13.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <li class="nav nav--thumb js_thumb" data-index="14"><img src="//s.s-bol.com/imgbase0/imagebase3/thumb/FC/6/3/6/3/9200000050173636_14.jpg" unselectable="on" draggable="false" border="0" alt="" class="h-fluid-img js_product_thumb"></li>\n                  <div class="product-image__thumb-scroller" style="transform: translate3d(470px, 0px, 0px); width: 80px; height: 80px;"></div>\n                </ul>\n              </div>\n              <div class="nav nav--next js_nav_next"><span class="sb sb-chevron-next"></span></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="product-image-cta-container">\n        <a href="#" title="Sonos PLAY:5 - Zwart" data-ean="8717755773036" data-image="https://s.s-bol.com/imgbase0/imagebase3/mini/FC/6/3/6/3/9200000050173636.jpg" data-test="product-image-cta-video" class="product-image-cta product-image-cta--video js-product-image-cta--video is-hidden">Bekijk video</a>\n        <link rel="dns-prefetch" href="//bolcom.tu-vms.com">\n        <link rel="preconnect" href="//bolcom.tu-vms.com">\n      </div>\n    </div>'}," .description").then(function(i){loadContent(n,e,null,s).then(function(i){var s=t('<div class="content-controls"></div>');s.hide(),o.append(s),s.append('<a href="template.html?template='+a+"&content="+n+'" class="change-template btn buy-block__btn-wishlist btn--wishlist btn--quaternary btn--lg js_add_to_wishlist_link js_preventable_buy_action" title="Pas template aan"><i class="fa fa-th"></i> Pas template aan</a>'),s.append('<a href="content.html?content='+n+'" class="change-content btn buy-block__btn-wishlist btn--wishlist btn--quaternary btn--lg js_add_to_wishlist_link js_preventable_buy_action" title="Pas content aan"><i class="fa fa-edit"></i> Pas content aan</a>'),o.hover(function(){s.show(),o.addClass("hover")},function(){s.hide(),o.removeClass("hover")}),t(e+" .show-more__button").click(function(e){var a=t(this).parent().parent().parent();a.hasClass("active")?(a.removeClass("active"),e.preventDefault(),a.find(".show-more-holder").height("210px"),a.find(".js_link-less").hide(),a.find(".js_link-more").show()):(a.addClass("active"),e.preventDefault(),a.find(".show-more-holder").height(a.find(".description").height()),a.find(".js_link-less").show(),a.find(".js_link-more").hide()),t("html, body").animate({scrollTop:t(a).offset().top},500)})})})},getTemplate=function(t,e){if(e)return localStorage.getItem("previewTemplate");var a=this;return db.collection("templates").doc(t).get().then(function(t){if(t.exists)return t;console.log("No such template: "+a.id)}).catch(function(t){console.log("Error getting template:",t)})},getTemplates=function(){var t={};return db.collection("templates").get().then(function(e){return e.forEach(function(e){t[e.id]=e.data()}),t})},getProducts=function(){var t={};return db.collection("products").get().then(function(e){return e.forEach(function(e){t[e.id]=e.data()}),t})},getImages=function(t){var e={};return db.collection("images").where("template","==",t).get().then(function(t){return t.forEach(function(t){e[t.id]=t.data()}),e})},storeTemplate=function(t,e,a){var n={};n[t]=e;var i=JSON.stringify(n);if(!a){return db.collection("templates").doc(t).set(e).then(function(){return console.log("Template successfully updated!"),e}).catch(function(t){console.error("Error updating document: ",t)})}localStorage.setItem("previewTemplate",i)},setTemplates=function(e){JSON.stringify(e);var a=db.batch();return t.each(e,function(t,e){var n=db.collection("templates").doc(t);a.set(n,e)}),a.commit().then(function(){console.log("Templates successfully updated!")}).catch(function(t){console.error("Error updating document: ",t)})},storeImage=function(t,e){var a=t.name;storage.ref().child("images").child(a).put(t).then(function(t){var n=t.downloadURL,i={template:e,url:n};db.collection("images").doc(a).set(i).then(function(){console.log("Image successfully uploaded!")}).catch(function(t){console.error("Error updating mage: ",t)})})},getImage=function(t){storage.ref().child("images").child(t).getDownloadURL().then(function(t){console.log(t)})},getContentId=function(){var t=getURLParameter("content");return t&&"undefined"!=t||(t=setContentId()),t},setContentId=function(t){return t&&"all"!=t?setURLParameter("content",t):t="empty",t},getTemplateId=function(){var t=getURLParameter("template");return t&&"undefined"!=t||(t=setTemplateId()),t},setTemplateId=function(t){return t?setURLParameter("template",t):t="productbeschrijving-electronica",t},getContentName=function(){var t=getContentId();return getContent().then(function(e){return e[t].title})},getTemplateItems=function(){return getTemplates().then(function(e){var a=[];return t.each(e,function(t,e){a.push({id:t,title:e.title,parent:e.parent?e.parent:null})}),a.sort(function(t,e){return t.title.localeCompare(e.title)}),a})},getContentItems=function(e){return void 0==e&&(e=!1),getContent().then(function(a){var n=[];return t.each(a,function(t,a){(e||"empty"!=t.substring(0,5))&&n.push({id:t,type:a.type,title:a.title})}),n.sort(function(t,e){return t.title.localeCompare(e.title)}),n})},populateTemplateItems=function(e){return getTemplateItems().then(function(a){var n=t("#template-items");n.html(""),a.forEach(function(e){n.append(t("<option></option>").attr("value",e.id).text(e.title))}),n.val(e||content.type)})},addTemplateToSectionDropdowns=function(){return getTemplateItems().then(function(e){if(e.length>0){var a=t("#grid-editor").attr("data-template-id"),n=t(".content-type.dropdown-toggle");n.append(t("<option disabled>___________________________</option>")),e.forEach(function(e){var i=e.id==a?' disabled="true"':"",o=e.parent?"- "+e.title:e.title;n.append(t("<option"+i+"></option>").attr("value","template-"+e.id).text(o))}),t(".column .content-type.dropdown-toggle").each(function(){t(this).val(t(this).parent().parent().attr("data-type"))})}})},populateContentItems=function(e,a){return getContentItems(a).then(function(a){var n=t("#preview-content"),i=t("#preview-content-select"),o=getTemplateId();a.filter(function(t){return t.type===o||"all"===t.type}).forEach(function(e){n.find("ul.dropdown-menu").append(t('<li><a data-width="auto" title="'+e.id+'"><span>'+e.title+"</span></li>")),e.id===getContentId()&&i.find("span").html(e.title)}),n.val(e||getContentId())})},createElement=function(e){var a="panel-"+e.id,n="panel-heading-"+e.id,i="panel-content-"+e.id,o=1==e.prio||2==e.prio?"collapse in":"collapse",s=t('<div class="panel-group">\n      <div class="panel panel-default sub-panel" data-prio="'+e.prio+'">\n        <div class="panel-heading" role="tab">\n          <h4 class="panel-title">\n            <a role="button" data-toggle="collapse" aria-expanded="true"></a>\n          </h4>\n        </div>\n        <div class="panel-collapse '+o+'" role="tabpanel">\n          <div class="panel-body">\n          </div>\n        </div>\n      </div>\n    </div>'),r=s.find(".panel-heading"),l=s.find(".panel-title a"),c=s.find(".panel-collapse"),d=s.find(".panel-body");s.attr("id",a),r.attr("id",n),l.attr("data-parent","#"+a),l.attr("href","#"+i),l.attr("aria-controls",i),c.attr("id",i),c.attr("aria-labelledby",i),l.html(e.title);e.title;var p='<div id="element-'+e.id+'" class="form-group panel">';switch("template-"==e.type.substring(0,9)?"template":e.type){case"text":p+='<textarea class="form-control text" data-id="'+e.id+'" data-type="'+e.type+'"></textarea>';break;case"rich-text":p+='<textarea class="form-control rich-text" data-id="'+e.id+'"data-type="'+e.type+'"></textarea>';break;case"list":p+='<textarea class="form-control list" data-id="'+e.id+'" data-type="'+e.type+'"></textarea>';break;case"quote":p+='<div class="quote" data-id="'+e.id+'" data-type="'+e.type+'">',p+='<div class="row">',p+='<div class="col-md-9 form-group">',p+='<label for="'+e.id+'-content">Quote</label>',p+='<input id="'+e.id+'-content" class="form-control">',p+="</div>",p+='<div class="col-md-3 form-group">',p+='<label for="'+e.id+'-person">Gezegd door</label>',p+='<input id="'+e.id+'-person" class="form-control">',p+="</div>";break;case"image":p+='<select data-id="'+e.id+'" data-type="'+e.type+'"></select>';break;case"imagelist":p+='<select data-id="'+e.id+'" data-type="'+e.type+'" multiple="multiple"></select>';break;case"template":var u=e.type.substring(9);p+='<select data-id="'+e.id+'" data-type="'+e.type+'" data-template="'+u+'"></select>',populateContentDropdown(e.id,u);break;default:p+='<input class="form-control" data-id="'+e.id+'" data-type="'+e.type+'">'}return p+="</div>",d.html(p),s.html()},populateContentDropdown=function(e,a){return getContentItems().then(function(n){n.filter(function(t){return t.type===a||"all"===t.type}).forEach(function(a){t('select[data-id="'+e+'"]').append(t("<option></option>").attr("value",a.id).text(a.title))})})},populateImageList=function(a,n,i){getImages(n).then(function(n){t.each(n,function(e,n){a.append(t("<option></option>").attr("data-img-src",n.url).attr("value",n.url).text(n))});var o=e(i)?JSON.parse(i):i;o&&a.val(o),t(a).imagepicker()})},getContentTypeFromClass=function(e){var a=t(e).attr("class").split(" ").filter(function(t){return"string"==typeof t&&t.indexOf("content-")>-1}).map(function(t){return t.substring(8)})[0];return void 0==a&&(a="text"),a};function e(t){try{JSON.parse(t)}catch(t){return!1}return!0}wrapWithParagraph=function(e,a){var n=t(e);return t.each(a,function(a,i){n=t(e+" "+i).wrapInner("<p></p>")}),n};convertHtmlToMarkdown=function(t){return new reMarked({link_list:!1,h1_setext:!0,h2_setext:!0,h_atx_suf:!1,gfm_code:"```",trim_code:!0,li_bullet:"*",hr_char:"-",indnt_str:"    ",bold_char:"*",emph_char:"_",gfm_del:!0,gfm_tbls:!0,tbl_edges:!1,hash_lnks:!1,br_only:!1,col_pre:"col ",nbsp_spc:!1,span_tags:!0,div_tags:!0,unsup_tags:{ignore:"script style noscript",inline:"span sup sub i u b center big",block2:"div form fieldset dl header footer address article aside figure hgroup section",block1c:"dt dd caption legend figcaption output",block2c:"canvas audio video iframe"},tag_remap:{i:"em",b:"strong"}}).render(t)},convertMarkdownToHtml=function(t){return(new showdown.Converter).makeHtml(t)},convertPropertiesToMarkdown=function(e){return t.each(e.content,function(a,n){t.each(n,function(t,n){e.content[a][t]=convertHtmlToMarkdown(n)})}),e},getURLParameter=function(t){for(var e=window.location.search.substring(1).split("&"),a=0;a<e.length;a++){var n=e[a].split("=");if(n[0]==t)return n[1]}},setURLParameter=function(t,e){for(var a=window.location.search.substring(1).split("&"),n=!1,i=!1,o=0;o<a.length;o++){var s=a[o].split("=");s[0]==t&&(s[0]!=e&&(a[o]=s[0]+"="+e,i=!0),n=!0)}if(n||(a.push(t+"="+e),i=!0),i){var r=a.join("&"),l=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+r;window.history.pushState({path:l},"",l)}},slugify=function(t){return t.toLowerCase().split(" ").join("-")},initToastr=function(){toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"500",timeOut:"3000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}}}(jQuery);var firebaseConfig={apiKey:"AIzaSyC1oK8OilCE_f6tBdsKkCSEScjnhNWVelU",authDomain:"retail-tooling-cms.firebaseapp.com",databaseURL:"https://retail-tooling-cms.firebaseio.com",projectId:"retail-tooling-cms",storageBucket:"retail-tooling-cms.appspot.com",messagingSenderId:"73299715568"};firebase.initializeApp(firebaseConfig);var db=firebase.firestore(),storage=firebase.storage();$.fn.gridEditor.RTEs.ckeditor={init:function(t,e){window.CKEDITOR||console.error("CKEditor not available! Make sure you loaded the ckeditor and jquery adapter js files.");var a=this;e.each(function(){var e=$(this);if(!e.hasClass("active")){e.html()==a.initialContent&&e.html("&nbsp;"),e.addClass("active").attr("contenteditable","true");var n=$.extend({},t.ckeditor&&t.ckeditor.config?t.ckeditor.config:{},{on:{instanceReady:function(e){var a;try{a=t.ckeditor.config.on.instanceReady}catch(t){}a&&a.call(this,e),i.focus()}}}),i=CKEDITOR.inline(e.get(0),n)}})},deinit:function(t,e){e.filter(".active").each(function(){var t=$(this);$.each(CKEDITOR.instances,function(t,e){e.destroy()}),t.removeClass("active cke_focus").removeAttr("id").removeAttr("style").removeAttr("spellcheck").removeAttr("contenteditable")})},initialContent:"<p>Lorem initius... </p>"},$.fn.gridEditor.RTEs.summernote={init:function(t,e){jQuery().summernote||console.error("Summernote not available! Make sure you loaded the Summernote js file.");var a=this;e.each(function(){var e=$(this);if(!e.hasClass("active")){e.html()==a.initialContent&&e.html(""),e.addClass("active");var n=$.extend(!0,{},t.summernote&&t.summernote.config?t.summernote.config:{},{tabsize:2,airMode:!0,callbacks:{onInit:function(){var a;try{a=t.summernote.config.callbacks.onInit}catch(t){}a&&a.call(this),e.summernote("focus")}}});e.summernote(n)}})},deinit:function(t,e){e.filter(".active").each(function(){var t=$(this);t.summernote("destroy"),t.removeClass("active").removeAttr("id").removeAttr("style").removeAttr("spellcheck")})},initialContent:"<p>Lorem ipsum dolores</p>"},$.fn.gridEditor.RTEs.tinymce={init:function(t,e){window.tinymce||console.error("tinyMCE not available! Make sure you loaded the tinyMCE js file."),e.tinymce||console.error("tinyMCE jquery integration not available! Make sure you loaded the jquery integration plugin.");var a=this;e.each(function(){var e=$(this);if(!e.hasClass("active")){e.html()==a.initialContent&&e.html(""),e.addClass("active");var n=$.extend({},t.tinymce&&t.tinymce.config?t.tinymce.config:{},{inline:!0,oninit:function(e){$("#"+e.settings.id).focus();var a;try{a=t.tinymce.config.oninit}catch(t){}a&&a.call(this)}});e.tinymce(n)}})},deinit:function(t,e){e.filter(".active").each(function(){var t=$(this),e=t.tinymce();e&&e.remove(),t.removeClass("active").removeAttr("id").removeAttr("style").removeAttr("spellcheck")})},initialContent:"<p>No content</p>"};
//# sourceMappingURL=jquery.grideditor.min.js.map